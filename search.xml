<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>LeetCode_Day25</title>
      <link href="/2021/03/30/leetcode-day25/"/>
      <url>/2021/03/30/leetcode-day25/</url>
      
        <content type="html"><![CDATA[<h2 id="4-å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"><a href="#4-å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°" class="headerlink" title="[4] å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°"></a>[4] å¯»æ‰¾ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ä¸­ä½æ•°</h2><p><a href="https://leetcode-cn.com/problems/median-of-two-sorted-arrays/description/">https://leetcode-cn.com/problems/median-of-two-sorted-arrays/description/</a></p><ul><li>algorithms</li><li>Hard (39.83%)</li><li>Likes:    3903</li><li>Dislikes: -</li><li>Total Accepted:    371.4K</li><li>Total Submissions: 932.4K</li><li>Testcase Example:  â€˜[1,3]\n[2]â€™</li></ul><p>ç»™å®šä¸¤ä¸ªå¤§å°åˆ†åˆ«ä¸º <code>m</code> å’Œ <code>n</code> çš„æ­£åºï¼ˆä»å°åˆ°å¤§ï¼‰æ•°ç»„Â <code>nums1</code> å’ŒÂ <code>nums2</code>ã€‚è¯·ä½ æ‰¾å‡ºå¹¶è¿”å›è¿™ä¸¤ä¸ªæ­£åºæ•°ç»„çš„ <strong>ä¸­ä½æ•°</strong> ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums1 = [1,3], nums2 = [2]<strong>è¾“å‡ºï¼š</strong>2.00000<strong>è§£é‡Šï¼š</strong>åˆå¹¶æ•°ç»„ = [1,2,3] ï¼Œä¸­ä½æ•° 2</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums1 = [1,2], nums2 = [3,4]<strong>è¾“å‡ºï¼š</strong>2.50000<strong>è§£é‡Šï¼š</strong>åˆå¹¶æ•°ç»„ = [1,2,3,4] ï¼Œä¸­ä½æ•° (2 + 3) / 2 = 2.5</pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums1 = [0,0], nums2 = [0,0]<strong>è¾“å‡ºï¼š</strong>0.00000</pre><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums1 = [], nums2 = [1]<strong>è¾“å‡ºï¼š</strong>1.00000</pre><p><strong>ç¤ºä¾‹ 5ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums1 = [2], nums2 = []<strong>è¾“å‡ºï¼š</strong>2.00000</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>nums1.length == m</code></li>    <li><code>nums2.length == n</code></li>    <li><code>0 <= m <= 1000</code></li>    <li><code>0 <= n <= 1000</code></li>    <li><code>1 <= m + n <= 2000</code></li>    <li><code>-10<sup>6</sup> <= nums1[i], nums2[i] <= 10<sup>6</sup></code></li></ul><p>Â </p><p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½è®¾è®¡ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º <code>O(log (m+n))</code> çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</p><h3 id="æ–¹æ³•1-åˆå¹¶æ•°ç»„"><a href="#æ–¹æ³•1-åˆå¹¶æ•°ç»„" class="headerlink" title="æ–¹æ³•1: åˆå¹¶æ•°ç»„"></a>æ–¹æ³•1: åˆå¹¶æ•°ç»„</h3><p>æ€è·¯: å°†ä¸¤ä¸ªæ•°ç»„åˆå¹¶, æ’åº(sortå‡½æ•°), å†å–ä¸­ä½æ•°</p><h4 id="1-ä¸ä½¿ç”¨-sort-å‡½æ•°"><a href="#1-ä¸ä½¿ç”¨-sort-å‡½æ•°" class="headerlink" title="1. ä¸ä½¿ç”¨ sort å‡½æ•°"></a>1. ä¸ä½¿ç”¨ <code>sort</code> å‡½æ•°</h4><p>æ€è·¯: ä½¿ç”¨åŒæŒ‡é’ˆ, æŒ‰é¡ºåºåˆå¹¶ä¸¤æ•°ç»„, å†å–ä¸­ä½æ•°.</p><p>æ­¥éª¤: </p><ul><li>è®¾ç½®åŒæŒ‡é’ˆ, åˆ†åˆ«æŒ‡å‘ä¸¤ä¸ªæ•°ç»„, å¯¹æ¯”ä¸¤ä¸ªæŒ‡é’ˆå¯¹åº”ä½ç½®çš„å¤§å°, å°†è¾ƒå°çš„æ•°æ·»åŠ åˆ°åˆå¹¶åçš„æ•°ç»„é‡Œ, ç§»åŠ¨æŒ‡é’ˆ, ç»§ç»­å¯¹æ¯”</li><li>å–ä¸­ä½æ•°</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) &#123;            int pos1 = 0, pos2 = 0, index = 0;            int size = nums1.size() + nums2.size();            vector &lt;int&gt; added_nums(size, 0);            while(pos1&lt;nums1.size() &amp;&amp; pos2&lt;nums2.size())&#123;                if(nums1[pos1] &lt;= nums2[pos2])&#123;                    added_nums[index] = nums1[pos1];                    ++pos1;                &#125;else&#123;                    added_nums[index] = nums2[pos2];                    ++pos2;                &#125;                ++index;            &#125;            if(pos1 &gt;= nums1.size() &amp;&amp; pos2 &lt; nums2.size())&#123;                while(pos2&lt;nums2.size())&#123;                    added_nums[index] = nums2[pos2];                    ++pos2;                    ++index;                &#125;            &#125;            if(pos2 &gt;= nums2.size() &amp;&amp; pos1 &lt; nums1.size())&#123;                while(pos1 &lt; nums1.size())&#123;                    added_nums[index] = nums1[pos1];                    ++pos1;                    ++index;                &#125;            &#125;            // for(int i=0; i&lt;added_nums.size(); ++i) cout &lt;&lt; added_nums[i] &lt;&lt; endl;            int mid = added_nums.size() &gt;&gt; 1;            return added_nums.size() % 2 == 0 ? (double) (added_nums[mid] + added_nums[mid - 1]) / 2 : added_nums[mid];    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210331100716.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(m+n)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(m+n)</code></li></ul><h4 id="2-é™ä½ç©ºé—´å¤æ‚åº¦"><a href="#2-é™ä½ç©ºé—´å¤æ‚åº¦" class="headerlink" title="2. é™ä½ç©ºé—´å¤æ‚åº¦"></a>2. é™ä½ç©ºé—´å¤æ‚åº¦</h4><p>æ€è·¯: ç”±äºä¸¤æ•°ç»„çš„å¤§å°å·²çŸ¥, åªæ˜¯è¦æ‰¾åˆ°ä¸­ä½æ•°çš„ä½ç½®, åªéœ€è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆ, åˆ†åˆ«æŒ‡å‘æ•°ç»„é¦–ä½, æ¯æ¬¡å°†è¾ƒå°æ•°çš„æŒ‡é’ˆå‘åç§»åŠ¨ä¸€ä½, è‹¥å…¶ä¸­ä¸€ä¸ªæ•°ç»„éå†å®Œæˆ, åˆ™åªéœ€åœ¨å¦ä¸€ä¸ªæ•°ç»„ä¸­ç§»åŠ¨å³å¯. ç›´è‡³æŒ‡é’ˆç§»åŠ¨åˆ°ä¸­ä½æ•°é¡¹</p><h4 id="3-ä½¿ç”¨-sort-å‡½æ•°-å°ä¼™å­ä¸è®²æ­¦å¾·"><a href="#3-ä½¿ç”¨-sort-å‡½æ•°-å°ä¼™å­ä¸è®²æ­¦å¾·" class="headerlink" title="3. ä½¿ç”¨ sort å‡½æ•°, å°ä¼™å­ä¸è®²æ­¦å¾·"></a>3. ä½¿ç”¨ <code>sort</code> å‡½æ•°, å°ä¼™å­ä¸è®²æ­¦å¾·</h4><p>æ­¥éª¤: </p><ul><li>å…ˆå°†ä¸¤æ•°ç»„åˆå¹¶åˆ°ä¸€ä¸ªæ•°ç»„é‡Œ</li><li>åˆ©ç”¨ <code>sort</code> å‡½æ•°æ’åº</li><li>å–ä¸­ä½æ•°</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) &#123;            int size = nums1.size() + nums2.size();            int i, j;            vector &lt;int&gt; added_nums(size, 0);            for(i=0; i&lt;nums1.size(); ++i)&#123;                added_nums[i] = nums1[i];            &#125;            for(j=0; j&lt;nums2.size();++j)&#123;                added_nums[i+j] = nums2[j];            &#125;            sort(added_nums.begin(), added_nums.end());            int mid = added_nums.size() &gt;&gt; 1;            return added_nums.size() % 2 == 0 ? (double)(added_nums[mid] + added_nums[mid-1]) / 2 : added_nums[mid];    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210330223006.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(m+n+log(m+n)) = O(log(m+n))</code>, mä¸º<code>nums1</code>é•¿åº¦, nä¸º<code>nums2</code> é•¿åº¦</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(m+n)</code></li></ul><h3 id="æ–¹æ³•2-äºŒåˆ†æ³•"><a href="#æ–¹æ³•2-äºŒåˆ†æ³•" class="headerlink" title="æ–¹æ³•2: äºŒåˆ†æ³•"></a>æ–¹æ³•2: äºŒåˆ†æ³•</h3><p>æ€è·¯: kå–ä¸¤æ•°ç»„é•¿åº¦å’Œçš„ä¸€åŠ, å°†æœ¬é¢˜è½¬åŒ–ä¸ºæ±‚ç¬¬kå°çš„æ•°, ä¸¤æ•°ç»„é•¿åº¦ä¹‹å’Œä¸ºå¥‡æ•°, ç¬¬kå°çš„æ•°å³ä¸ºå…¶ä¸­ä½æ•°, é•¿åº¦å’Œä¸ºå¶æ•°, ä¸­ä½æ•°å°±æ˜¯ç¬¬kå°æ•°å’Œç¬¬k+1å°æ•°å’Œçš„ä¸€åŠ</p><ul><li>å¯¹äºæ±‚ç¬¬kå°çš„æ•°, å¯åˆ†åˆ«å¯¹ä¸¤æ•°ç»„å–ç¬¬ $\dfrac{k}{2}$ ä¸ªæ•°, å³æ•°ç»„ä¸­ç´¢å¼•ä¸º $\dfrac{k}{2}-1$ çš„æ•°, å› ä¸ºæ•°ç»„æ˜¯æ’å¥½åºçš„, å‡å¦‚ <code>nums1[k/2-1]</code> å°äº    <code>nums2[k/2-1]</code> , é‚£ä¹ˆåœ¨ <code>nums1</code> ä¸­, <code>nums[k/2-1]</code> ä¹‹å‰çš„æ•°éƒ½æ˜¯æ¯”å®ƒå°çš„æ•°, è¿™æ ·å°±å¯ä»¥æ’é™¤è¿™äº›æ•°, å³æ’é™¤    $\dfrac{k}{2}$ é¡¹, å°†è¿™äº›æ•°ä¸¢å¼ƒ, æ­¤æ—¶é—®é¢˜è½¬åŒ–ä¸ºæ±‚ç¬¬ $\dfrac{k}{2}$ å°çš„æ•°. </li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210331123356.png"> </p><ul><li>æ›´æ–°kçš„å€¼, ä»¤ <code>k = k - 1</code>, é—®é¢˜åˆè½¬åŒ–ä¸ºæ±‚ç¬¬kå°çš„æ•°, ä¸è¿‡è¦æ³¨æ„æ­¤æ—¶ä¸¤æ•°ç»„æ˜¯èˆå¼ƒæ›´æ–°åçš„æ•°ç»„.</li><li>kç»è¿‡è¿­ä»£æ›´æ–°, å½“<code>k = 1</code>æ—¶, é—®é¢˜å˜æˆäº†æ±‚æœ€å°çš„å€¼, å–æ­¤æ—¶çš„ä¸¤æ•°ç»„(èˆå¼ƒæ‰è¾ƒå°çš„å€¼åçš„æ•°ç»„)çš„é¦–é¡¹, å–å…¶æœ€å°å€¼å³å¯</li></ul><p>ä¸‹é¢ç”¨ä¸€ä¸ªå…·ä½“çš„ä¾‹å­æ¥è¯´æ˜</p><pre><code>nums1 = [1, ]</code></pre><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int get_kth_element(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt; nums2, int k)&#123;        // åˆ†åˆ«è®¾ç½®æŒ‡é’ˆ        int index1 = 0, index2 = 0;        int size1 = nums1.size(), size2 = nums2.size();        while(true)&#123;            // å¤„ç†è¾¹ç•Œæƒ…å†µ            // nums1æ•°ç»„ç©º            if(index1 &gt;= size1)&#123;                return nums2[index2 + k - 1];            &#125;            // nums2æ•°ç»„ç©º            if(index2 &gt;= size2)&#123;                return nums1[index1 + k - 1];            &#125;            // k = 1            if(k == 1)&#123;                return min(nums1[index1], nums2[index2]);            &#125;            //å¤„ç†ä¸€èˆ¬æƒ…å†µ            //            int newindex1 = min(index1 + k / 2 - 1, size1 - 1);            int newindex2 = min(index2 + k / 2 - 1, size2 - 1);            int value1 = nums1[newindex1];            int value2 = nums2[newindex2];            if(value1&lt;=value2)&#123;                k = k - (newindex1 - index1 + 1);                index1 = newindex1 + 1;            &#125;else&#123;                k = k - (newindex2 - index2 + 1);                index2 = newindex2 + 1;            &#125;        &#125;    &#125;    double findMedianSortedArrays(vector&lt;int&gt;&amp; nums1, vector&lt;int&gt;&amp; nums2) &#123;            int length = nums1.size() + nums2.size();            //å¥‡æ•°é•¿            if(length % 2 == 1)&#123;                return (double)get_kth_element(nums1, nums2, (length + 1) / 2);            &#125;else&#123;                return (get_kth_element(nums1, nums2, length / 2) + get_kth_element(nums1, nums2, length / 2 + 1)) / 2.0;            &#125;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210331123507.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> äºŒåˆ†æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_æ¯æ—¥ä¸€é¢˜3</title>
      <link href="/2021/03/30/leetcode-mei-ri-yi-ti-3/"/>
      <url>/2021/03/30/leetcode-mei-ri-yi-ti-3/</url>
      
        <content type="html"><![CDATA[<h2 id="74-æœç´¢äºŒç»´çŸ©é˜µ"><a href="#74-æœç´¢äºŒç»´çŸ©é˜µ" class="headerlink" title="[74] æœç´¢äºŒç»´çŸ©é˜µ"></a>[74] æœç´¢äºŒç»´çŸ©é˜µ</h2><p><a href="https://leetcode-cn.com/problems/search-a-2d-matrix/description/">https://leetcode-cn.com/problems/search-a-2d-matrix/description/</a></p><ul><li>algorithms</li><li>Medium (41.11%)</li><li>Likes:    372</li><li>Dislikes: -</li><li>Total Accepted:    104.3K</li><li>Total Submissions: 243.2K</li><li>Testcase Example:  â€˜[[1,3,5,7],[10,11,16,20],[23,30,34,60]]\n3â€™</li></ul><p>ç¼–å†™ä¸€ä¸ªé«˜æ•ˆçš„ç®—æ³•æ¥åˆ¤æ–­Â <code>m x n</code>Â çŸ©é˜µä¸­ï¼Œæ˜¯å¦å­˜åœ¨ä¸€ä¸ªç›®æ ‡å€¼ã€‚è¯¥çŸ©é˜µå…·æœ‰å¦‚ä¸‹ç‰¹æ€§ï¼š</p><ul>    <li>æ¯è¡Œä¸­çš„æ•´æ•°ä»å·¦åˆ°å³æŒ‰å‡åºæ’åˆ—ã€‚</li>    <li>æ¯è¡Œçš„ç¬¬ä¸€ä¸ªæ•´æ•°å¤§äºå‰ä¸€è¡Œçš„æœ€åä¸€ä¸ªæ•´æ•°ã€‚</li></ul><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><img loading="lazy" alt="" src="https://assets.leetcode.com/uploads/2020/10/05/mat.jpg" style="width: 322px; height: 242px;" /><pre><strong>è¾“å…¥ï¼š</strong>matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 3<strong>è¾“å‡ºï¼š</strong>true</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><img loading="lazy" alt="" src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2020/11/25/mat2.jpg" style="width: 322px; height: 242px;" /><pre><strong>è¾“å…¥ï¼š</strong>matrix = [[1,3,5,7],[10,11,16,20],[23,30,34,60]], target = 13<strong>è¾“å‡ºï¼š</strong>false</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>m == matrix.length</code></li>    <li><code>n == matrix[i].length</code></li>    <li><code>1 <= m, n <= 100</code></li>    <li><code>-10<sup>4</sup> <= matrix[i][j], target <= 10<sup>4</sup></code></li></ul><h3 id="æ–¹æ³•1-ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•1-ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•1: ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•1: ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾</h3><p>æ€è·¯: çœ‹åˆ°æœ‰åº, ç›´æ¥äºŒåˆ†æ•´èµ·æ¥, ä¸¤æ¬¡äºŒåˆ†, ç¬¬ä¸€æ¬¡æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨æ»¡è¶³æ¡ä»¶çš„è¡Œ, ç¬¬äºŒæ¬¡æŸ¥æ‰¾æ˜¯å¦å­˜åœ¨ <code>target</code></p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool searchMatrix(vector&lt;vector&lt;int&gt;&gt;&amp; matrix, int target) &#123;            if(matrix.empty()) return false;            int left = 0, right = matrix.size() - 1, mid, i;             while(left &lt;= right)&#123;                mid = right + left &gt;&gt; 1;                if(matrix[mid][0] == target)&#123;                    return true;                &#125; else if(matrix[mid][matrix[mid].size() - 1] &lt; target)&#123;                    left = mid + 1;                &#125;else&#123;                    right = mid - 1;                &#125;            &#125;            i = left;            if(i &gt;= matrix.size()) return false;            left = 0;            right = matrix[i].size() - 1;            while(left &lt;= right)&#123;                mid = left + right &gt;&gt; 1;                if(matrix[i][mid] == target)&#123;                    return true;                &#125;else if(matrix[i][mid] &lt; target)&#123;                    left = mid + 1;                &#125;else&#123;                    right = mid - 1;                &#125;            &#125;            return false;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210330124735.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(logm + logn = logmn)</code>, mæ˜¯è¡Œæ•°, næ˜¯åˆ—æ•°</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-ä¸€æ¬¡äºŒåˆ†"><a href="#æ–¹æ³•2-ä¸€æ¬¡äºŒåˆ†" class="headerlink" title="æ–¹æ³•2: ä¸€æ¬¡äºŒåˆ†"></a>æ–¹æ³•2: ä¸€æ¬¡äºŒåˆ†</h3><p>æ€è·¯: å°†çŸ©é˜µçœ‹ä½œæ˜¯ä¸€ä¸ªæœ‰åºæ•°ç»„, ä¸€æ¬¡äºŒåˆ†å³å¯</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool searchMatrix(vector&lt;vector&lt;int&gt;&gt;&amp; matrix, int target) &#123;            if(matrix.empty()) return false;            int m = matrix.size(), n = matrix[0].size();            int left = 0, right = m * n - 1, mid;            while(left &lt;= right)&#123;                mid = right + left &gt;&gt; 1;                int x = matrix[mid / n][mid % n];                if(x == target)&#123;                    return true;                &#125;else if(x &lt; target)&#123;                    left = mid + 1;                &#125;else&#123;                    right = mid - 1;                &#125;            &#125;            return false;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210330131450.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(logmn)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day24</title>
      <link href="/2021/03/29/leetcode-day24/"/>
      <url>/2021/03/29/leetcode-day24/</url>
      
        <content type="html"><![CDATA[<h2 id="540-æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ "><a href="#540-æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ " class="headerlink" title="[540] æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ "></a>[540] æœ‰åºæ•°ç»„ä¸­çš„å•ä¸€å…ƒç´ </h2><p><a href="https://leetcode-cn.com/problems/single-element-in-a-sorted-array/description/">https://leetcode-cn.com/problems/single-element-in-a-sorted-array/description/</a></p><ul><li>algorithms</li><li>Medium (58.50%)</li><li>Likes:    214</li><li>Dislikes: -</li><li>Total Accepted:    26.1K</li><li>Total Submissions: 44.7K</li><li>Testcase Example:  â€˜[1,1,2,3,3,4,4,8,8]â€™</li></ul><p>ç»™å®šä¸€ä¸ªåªåŒ…å«æ•´æ•°çš„æœ‰åºæ•°ç»„ï¼Œæ¯ä¸ªå…ƒç´ éƒ½ä¼šå‡ºç°ä¸¤æ¬¡ï¼Œå”¯æœ‰ä¸€ä¸ªæ•°åªä¼šå‡ºç°ä¸€æ¬¡ï¼Œæ‰¾å‡ºè¿™ä¸ªæ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong> [1,1,2,3,3,4,4,8,8]<strong>è¾“å‡º:</strong> 2</pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre><strong>è¾“å…¥:</strong> [3,3,7,7,10,11,11]<strong>è¾“å‡º:</strong> 10</pre><p><strong>æ³¨æ„:</strong> æ‚¨çš„æ–¹æ¡ˆåº”è¯¥åœ¨ O(log n)æ—¶é—´å¤æ‚åº¦å’Œ O(1)ç©ºé—´å¤æ‚åº¦ä¸­è¿è¡Œã€‚</p><h3 id="æ–¹æ³•1-æš´åŠ›æœç´¢"><a href="#æ–¹æ³•1-æš´åŠ›æœç´¢" class="headerlink" title="æ–¹æ³•1: æš´åŠ›æœç´¢"></a>æ–¹æ³•1: æš´åŠ›æœç´¢</h3><p>æ€è·¯: éå†æ•°ç»„, æ¯”è¾ƒç¬¬ <code>nums[i]</code> ä¸ <code>nums[i+1]</code>, ç›¸ç­‰åˆ™å¾€åè·³ä¸¤æ ¼ç»§ç»­æ¯”è¾ƒ</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int singleNonDuplicate(vector&lt;int&gt;&amp; nums) &#123;            int i = 0;            while(i&lt;nums.size() - 1)&#123;                if(nums[i] == nums[i+1])&#123;                    i+=2;                &#125;else&#123;                    return nums[i];                &#125;            &#125;            return nums[i];    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210330210930.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•2-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•2: äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•2: äºŒåˆ†æŸ¥æ‰¾</h3><p>æ€è·¯: åœ¨å‡ºç°å•ä¸€å…ƒç´ ä¹‹å‰, æ•°å­—æ˜¯é‡å¤å‡ºç°çš„, è‹¥æ­¤æ—¶åœ¨ä¸­é—´å»æ‰ä¸€ç»„æ•°, å…¶å·¦å³ä¸¤ä¾§ä»ç„¶æ˜¯å¶æ•°, åœ¨å‡ºç°å•ä¸€å…ƒç´ å, è‹¥åœ¨ä¸­é—´å»æ‰ä¸€ç»„æ•°, é‚£ä¹ˆå¿…ç„¶ä¸€ä¾§å¶æ•°, ä¸€ä¾§å•æ•°, åˆ†å¼€è®¨è®ºå³å¯</p><p>æ­¥éª¤: å…³äº <code>mid</code> çš„æƒ…å†µ, æ€»å…±æœ‰ä¸‰ç§</p><ul><li>é¦–å…ˆåˆ¤æ–­ä¸€ä¾§æ˜¯å¦ä¸ºå¶æ•°: <code>are_even = (right - mid) % 2 == 0</code></li><li><code>nums[mid] == nums[mid+1]</code> å¦‚æœ <code>are_even</code> ä¸ºçœŸ, åˆ™è¯æ˜å»æ‰ <code>mid</code> å’Œ <code>mid+1</code> é¡¹, å³ä¾§å…±æœ‰å¥‡æ•°é¡¹, åˆ™å·¦ä¾§ä¸€å®šä¸ºå¶æ•°é¡¹, æ­¤æ—¶å°†        <code>left</code> ç§»åˆ° <code>mid+2</code> ä½ç½®ç»§ç»­æ¢ç´¢; åä¹‹å°† <code>right</code> ç§»åˆ° <code>mid-1</code></li></ul><table><thead><tr><th>1</th><th>1</th><th>2</th><th>2</th><th>3</th><th>3</th><th>4</th><th>Â·Â·Â·</th><th>8</th><th>8</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td>mid</td><td>mid+1</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li><code>nums[mid] == nums[mid-1]</code> å¦‚æœ    <code>are_even</code> ä¸ºçœŸ, åˆ™è¯æ˜å»æ‰ <code>mid</code> å’Œ <code>mid-1</code> é¡¹, å³ä¾§ä¸ºå…±æœ‰å¶æ•°é¡¹, åˆ™å·¦ä¾§ä¸€å®šä¸ºå¥‡æ•°é¡¹, å•ä¸€å…ƒç´ åœ¨å·¦ä¾§, æ­¤æ—¶å°† <code>right</code> ç§»åˆ° <code>mid-2</code> ä½ç½®ç»§ç»­æ¢ç´¢; åä¹‹å°† <code>lfet</code> ç§»åˆ° <code>mid+2</code> </li></ul><table><thead><tr><th>1</th><th>1</th><th>2</th><th>2</th><th>3</th><th>3</th><th>4</th><th>Â·Â·Â·</th><th>8</th><th>8</th></tr></thead><tbody><tr><td></td><td></td><td></td><td></td><td>mid-1</td><td>mid</td><td></td><td></td><td></td><td></td></tr></tbody></table><ul><li>è‹¥ä»¥ä¸Šæ¡ä»¶éƒ½ä¸æ»¡è¶³, åˆ™ <code>mid</code> æ‰€åœ¨ä½ç½®å³ä¸ºå•ä¸€å…ƒç´ </li></ul><table><thead><tr><th>1</th><th>1</th><th>2</th><th>2</th><th>3</th><th>4</th><th>4</th><th>Â·Â·Â·</th><th>8</th><th>8</th></tr></thead><tbody><tr><td></td><td></td><td></td><td>mid-1</td><td>mid</td><td>mid+1</td><td></td><td></td><td></td><td></td></tr></tbody></table><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int singleNonDuplicate(vector&lt;int&gt;&amp; nums) &#123;            int left=0, right = nums.size() -1, mid;            while(left &lt; right)&#123;                mid = left + right &gt;&gt; 1;                bool are_even = (right - mid) % 2 == 0;                 if(nums[mid] == nums[mid + 1])&#123;                    if(are_even)&#123;                        left = mid + 2;                    &#125; else &#123;                        right = mid - 1;                    &#125;                &#125;else if(nums[mid] == nums[mid - 1])&#123;                    if(are_even)&#123;                        right = right - 2;                    &#125; else&#123;                        left = left + 1;                    &#125;                &#125;else&#123;                    return nums[mid];                &#125;            &#125;            return nums[right];    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210330221349.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(logn)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> äºŒåˆ†æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_ç¬¬234åœºå‘¨èµ›</title>
      <link href="/2021/03/28/leetcode-di-234-chang-zhou-sai/"/>
      <url>/2021/03/28/leetcode-di-234-chang-zhou-sai/</url>
      
        <content type="html"><![CDATA[<h3 id="5713-å­—ç¬¦ä¸²ä¸­ä¸åŒæ•´æ•°çš„æ•°ç›®"><a href="#5713-å­—ç¬¦ä¸²ä¸­ä¸åŒæ•´æ•°çš„æ•°ç›®" class="headerlink" title="5713. å­—ç¬¦ä¸²ä¸­ä¸åŒæ•´æ•°çš„æ•°ç›®"></a>5713. å­—ç¬¦ä¸²ä¸­ä¸åŒæ•´æ•°çš„æ•°ç›®</h3><p><a href="https://leetcode-cn.com/problems/number-of-different-integers-in-a-string/">https://leetcode-cn.com/problems/number-of-different-integers-in-a-string/</a> </p><p>æ€è·¯: åŒæŒ‡é’ˆé—®é¢˜, åŒ¹é…æ•°å­—, ä¿æŒå­—ç¬¦ä¸², å»é™¤å¤šä½™çš„0, å­˜å…¥hashè¡¨, hashè¡¨çš„å¤§å°å³ä¸ºä¸åŒæ•´æ•°çš„æ•°ç›®</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int numDifferentIntegers(string word) &#123;        unordered_set &lt;string&gt; nums;        for(int i = 0; i &lt; word.size(); ++i)&#123;            if(!isdigit(word[i])) continue;            string s;            int j = i;            while(j &lt; word.size() &amp;&amp; isdigit(word[j])) s += word[j++];            int k = 0;            while(k&lt;s.size() &amp;&amp; s[k] == &#39;0&#39;) ++k;            nums.insert(s.substr(k));            i = j;        &#125;        return nums.size();    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210328213952.png"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day23</title>
      <link href="/2021/03/28/leetcode-day23/"/>
      <url>/2021/03/28/leetcode-day23/</url>
      
        <content type="html"><![CDATA[<h2 id="34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"><a href="#34-åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®" class="headerlink" title="[34] åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®"></a>[34] åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®</h2><p><a href="https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/description/">https://leetcode-cn.com/problems/find-first-and-last-position-of-element-in-sorted-array/description/</a></p><ul><li>algorithms</li><li>Medium (42.33%)</li><li>Likes:    917</li><li>Dislikes: -</li><li>Total Accepted:    227.9K</li><li>Total Submissions: 538.3K</li><li>Testcase Example:  â€˜[5,7,7,8,8,10]\n8â€™</li><li>Source Code:       34.find-first-and-last-position-of-element-in-sorted-array.cpp</li></ul><p>ç»™å®šä¸€ä¸ªæŒ‰ç…§å‡åºæ’åˆ—çš„æ•´æ•°æ•°ç»„ <code>nums</code>ï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ <code>target</code>ã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚</p><p>å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ <code>target</code>ï¼Œè¿”å›Â <code>[-1, -1]</code>ã€‚</p><p><strong>è¿›é˜¶ï¼š</strong></p><ul>    <li>ä½ å¯ä»¥è®¾è®¡å¹¶å®ç°æ—¶é—´å¤æ‚åº¦ä¸ºÂ <code>O(log n)</code>Â çš„ç®—æ³•è§£å†³æ­¤é—®é¢˜å—ï¼Ÿ</li></ul><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums = [<code>5,7,7,8,8,10]</code>, target = 8<strong>è¾“å‡ºï¼š</strong>[3,4]</pre><p><strong>ç¤ºä¾‹Â 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums = [<code>5,7,7,8,8,10]</code>, target = 6<strong>è¾“å‡ºï¼š</strong>[-1,-1]</pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums = [], target = 0<strong>è¾“å‡ºï¼š</strong>[-1,-1]</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>0 <= nums.length <= 10<sup>5</sup></code></li>    <li><code>-10<sup>9</sup>Â <= nums[i]Â <= 10<sup>9</sup></code></li>    <li><code>nums</code>Â æ˜¯ä¸€ä¸ªéé€’å‡æ•°ç»„</li>    <li><code>-10<sup>9</sup>Â <= targetÂ <= 10<sup>9</sup></code></li></ul><h3 id="æ–¹æ³•1-äºŒåˆ†æ³•æŸ¥æ‰¾"><a href="#æ–¹æ³•1-äºŒåˆ†æ³•æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•1: äºŒåˆ†æ³•æŸ¥æ‰¾"></a>æ–¹æ³•1: äºŒåˆ†æ³•æŸ¥æ‰¾</h3><p>æ€è·¯: é€šè¿‡äºŒåˆ†æ³•æŸ¥æ‰¾åˆ° <code>nums</code> æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ç­‰äº <code>target</code> å…ƒç´ . è‹¥å­˜åœ¨, å‘å‰æŸ¥æ‰¾å¯æ¨å‡ºç¬¬ä¸€æ¬¡å‡ºç°çš„ä½ç½®, å‘åæŸ¥æ‰¾å¯æ¨å‡ºæœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; searchRange(vector&lt;int&gt;&amp; nums, int target) &#123;            if(nums.empty()) return vector&lt;int&gt; &#123;-1, -1&#125;;            int l = 0, r = nums.size() - 1, mid;            int first_pos = -1, last_pos = -1;            bool is_exist = false;            while(l &lt;= r)&#123;                mid = l + (r - l) / 2;                if(target == nums[mid])&#123;                    first_pos = last_pos = mid;                    is_exist = true;                    break;                &#125; else if(target &gt; nums[mid])&#123;                    l = mid + 1;                &#125; else&#123;                    r = mid - 1;                &#125;            &#125;            if(is_exist)&#123;                while(first_pos &gt;= 1 &amp;&amp; nums[first_pos - 1] == nums[first_pos]) --first_pos;                 while(last_pos &lt; nums.size() - 1 &amp;&amp; nums[last_pos + 1] == nums[last_pos]) ++last_pos;            &#125;            return vector&lt;int&gt; &#123;first_pos, last_pos&#125;;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210328182500.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(logn)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-æ„å»ºc-ä¸­-lower-bound-å’Œ-upper-bound-å‡½æ•°"><a href="#æ–¹æ³•2-æ„å»ºc-ä¸­-lower-bound-å’Œ-upper-bound-å‡½æ•°" class="headerlink" title="æ–¹æ³•2: æ„å»ºc++ä¸­ lower_bound å’Œ upper_bound å‡½æ•°"></a>æ–¹æ³•2: æ„å»ºc++ä¸­ <code>lower_bound</code> å’Œ <code>upper_bound</code> å‡½æ•°</h3><p>æ­¤æ–¹æ³•åŸç†ä»æ˜¯äºŒåˆ†æ³•, ä»…åšç»ƒä¹ </p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; searchRange(vector&lt;int&gt;&amp; nums, int target) &#123;            if(nums.empty()) return vector&lt;int&gt; &#123;-1, -1&#125;;            int lower = lower_bound(nums, target);            int upper = upper_bound(nums, target) - 1; // å·¦é—­å³å¼€            if(lower == nums.size() || nums[lower] != target) return vector&lt;int&gt; &#123;-1, -1&#125;;            return vector &lt;int&gt; &#123;lower, upper&#125;;    &#125;        int lower_bound(vector&lt;int&gt;&amp; nums, int target)&#123;            int l = 0, r = nums.size(), mid;            while(l &lt; r)&#123;                mid = l + (r - l) / 2;                if(nums[mid] &gt;= target)&#123;                    r = mid;                &#125; else&#123;                    l = mid + 1;                &#125;            &#125;            return l;        &#125;        int upper_bound(vector&lt;int&gt;&amp; nums, int target)&#123;            int l = 0, r = nums.size(), mid;            while(l &lt; r)&#123;                mid = l + (r - l) / 2;                if(nums[mid] &gt; target)&#123;                    r = mid;                &#125; else&#123;                    l = mid + 1;                &#125;            &#125;            return l;        &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210328184732.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(logn)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h2 id="81-æœç´¢æ—‹è½¬æ’åºæ•°ç»„-II"><a href="#81-æœç´¢æ—‹è½¬æ’åºæ•°ç»„-II" class="headerlink" title="[81] æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II"></a>[81] æœç´¢æ—‹è½¬æ’åºæ•°ç»„ II</h2><p><a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/description/">https://leetcode-cn.com/problems/search-in-rotated-sorted-array-ii/description/</a></p><ul><li>algorithms</li><li>Medium (37.28%)</li><li>Likes:    308</li><li>Dislikes: -</li><li>Total Accepted:    59.6K</li><li>Total Submissions: 159.7K</li><li>Testcase Example:  â€˜[2,5,6,0,0,1,2]\n0â€™</li><li>Source Code:       81.search-in-rotated-sorted-array-ii.cpp</li></ul><p>å‡è®¾æŒ‰ç…§å‡åºæ’åºçš„æ•°ç»„åœ¨é¢„å…ˆæœªçŸ¥çš„æŸä¸ªç‚¹ä¸Šè¿›è¡Œäº†æ—‹è½¬ã€‚</p><p>( ä¾‹å¦‚ï¼Œæ•°ç»„&nbsp;<code>[0,0,1,2,2,5,6]</code>&nbsp;å¯èƒ½å˜ä¸º&nbsp;<code>[2,5,6,0,0,1,2]</code>&nbsp;)ã€‚</p><p>ç¼–å†™ä¸€ä¸ªå‡½æ•°æ¥åˆ¤æ–­ç»™å®šçš„ç›®æ ‡å€¼æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ã€‚è‹¥å­˜åœ¨è¿”å›&nbsp;<code>true</code>ï¼Œå¦åˆ™è¿”å›&nbsp;<code>false</code>ã€‚</p><p><strong>ç¤ºä¾‹&nbsp;1:</strong></p><pre><strong>è¾“å…¥:</strong> nums = [2<code>,5,6,0,0,1,2]</code>, target = 0<strong>è¾“å‡º:</strong> true</pre><p><strong>ç¤ºä¾‹&nbsp;2:</strong></p><pre><strong>è¾“å…¥:</strong> nums = [2<code>,5,6,0,0,1,2]</code>, target = 3<strong>è¾“å‡º:</strong> false</pre><p><strong>è¿›é˜¶:</strong></p><ul>    <li>è¿™æ˜¯ <a href="https://leetcode-cn.com/problems/search-in-rotated-sorted-array/description/">æœç´¢æ—‹è½¬æ’åºæ•°ç»„</a>&nbsp;çš„å»¶ä¼¸é¢˜ç›®ï¼Œæœ¬é¢˜ä¸­çš„&nbsp;<code>nums</code>&nbsp; å¯èƒ½åŒ…å«é‡å¤å…ƒç´ ã€‚</li>    <li>è¿™ä¼šå½±å“åˆ°ç¨‹åºçš„æ—¶é—´å¤æ‚åº¦å—ï¼Ÿä¼šæœ‰æ€æ ·çš„å½±å“ï¼Œä¸ºä»€ä¹ˆï¼Ÿ</li></ul><h3 id="æ–¹æ³•1-äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•1-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•1: äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•1: äºŒåˆ†æŸ¥æ‰¾</h3><p>æ€è·¯: è™½ç„¶æ•°ç»„ç»è¿‡æ—‹è½¬, ä½†è¿™ä¸ä¼šå½±å“äºŒåˆ†æŸ¥æ‰¾åœ¨æœ‰åºæ•°ç»„ä¸­ä½¿ç”¨, åªéœ€å…ˆåˆ¤æ–­æ˜¯å¦æœ‰åº, å†è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å³å¯</p><p>æ­¥éª¤: </p><ul><li><p>ä»…å¯¹å‡ºç°çš„æƒ…å†µä½œè¯´æ˜</p></li><li><p>æ³¨æ„æˆ‘ä½¿ç”¨çš„äºŒåˆ†æŸ¥æ‰¾èŒƒå›´ä¸º <strong>å·¦é—­å³é—­</strong></p></li><li><p>è‹¥ <code>nums[left] == nums[mid]</code> , ç”±äºæœ‰é‡å¤å…ƒç´ çš„å­˜åœ¨, æ­¤æ—¶æ— æ³•åˆ¤æ–­ <code>mid</code> å·¦å³çš„æœ‰åºæ€§, å¦‚: </p><pre><code>[1, 1, 1, 2, 1] mid = 3</code></pre><p>  æ­¤æ—¶åªéœ€å°† <code>left</code> å¾€å³ç§»ä¸€ä½, æ ¹æ®ä¸‹ä¸€ä½çš„æƒ…å†µå†æ¥åˆ¤æ–­</p></li><li><p>è‹¥ <code>nums[left]</code> ä¸ <code>nums[mid]</code> ä¸ç­‰, å¦‚æœ <code>nums[mid] &lt;= nums[right]</code>, åˆ™ <code>mid</code> å³ä¾§ä¸€å®šæ˜¯å•è°ƒé€’å¢çš„, è¿™æ—¶æ ¹æ® <code>target</code> çš„å€¼å†è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾å³å¯</p></li><li><p>è‹¥ä»¥ä¸Šæ¡ä»¶éƒ½ä¸æ»¡è¶³, åˆ™å·¦ä¾§å•è°ƒé€’å¢</p></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool search(vector&lt;int&gt;&amp; nums, int target) &#123;            int left = 0, right = nums.size() - 1;            while(left &lt;= right)&#123;                int mid = left + right &gt;&gt; 1;                if(nums[mid] == target) return true;                if(nums[left] == nums[mid])                &#123;                    ++left;                &#125;else if(nums[mid] &lt;= nums[right])                &#123;                    if(target &gt; nums[mid] &amp;&amp; target &lt;= nums[right])&#123;                        left = mid + 1;                    &#125; else &#123;                        right = mid - 1;                    &#125;                &#125; else &#123;                    if(target &lt; nums[mid] &amp;&amp; target &gt;= nums[left])&#123;                        right = mid - 1;                    &#125; else &#123;                        left = mid + 1;                    &#125;                &#125;            &#125;            return false;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210328223315.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(logn)</code></li><li>ç©ºé—´å¤æ‚åº¦:    <code>O(1)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> äºŒåˆ†æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day22</title>
      <link href="/2021/03/27/leetcode-day22/"/>
      <url>/2021/03/27/leetcode-day22/</url>
      
        <content type="html"><![CDATA[<h2 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h2><ul><li>äºŒåˆ†æŸ¥æ‰¾ä¹Ÿå¸¸è¢«ç§°ä¸ºäºŒåˆ†æ³•æˆ–è€…æŠ˜åŠæŸ¥æ‰¾ï¼Œæ¯æ¬¡æŸ¥æ‰¾æ—¶é€šè¿‡å°†å¾…æŸ¥æ‰¾åŒºé—´åˆ†æˆä¸¤éƒ¨åˆ†å¹¶åªå– ä¸€éƒ¨åˆ†ç»§ç»­æŸ¥æ‰¾ï¼Œå°†æŸ¥æ‰¾çš„å¤æ‚åº¦å¤§å¤§å‡å°‘ã€‚å¯¹äºä¸€ä¸ªé•¿åº¦ä¸º $O(n)$ çš„æ•°ç»„ï¼ŒäºŒåˆ†æŸ¥æ‰¾çš„æ—¶é—´å¤ æ‚åº¦ä¸º $O(log n)$ </li><li>æ•°å­¦å®šä¹‰: ç»™å®šä¸€ä¸ªåœ¨ <code>[a, b]</code> åŒºé—´å†…çš„å•è°ƒå‡½æ•° $f(x)$ ï¼Œè‹¥<br>$f(a)$ å’Œ $f(b)$ æ­£è´Ÿæ€§ç›¸åï¼Œé‚£ä¹ˆå¿…å®šå­˜åœ¨ä¸€ä¸ªè§£ $c$ ï¼Œä½¿å¾— $f(c) = 0$</li></ul><h2 id="69-x-çš„å¹³æ–¹æ ¹"><a href="#69-x-çš„å¹³æ–¹æ ¹" class="headerlink" title="[69] x çš„å¹³æ–¹æ ¹"></a>[69] x çš„å¹³æ–¹æ ¹</h2><p><a href="https://leetcode-cn.com/problems/sqrtx/description/">https://leetcode-cn.com/problems/sqrtx/description/</a></p><ul><li>algorithms</li><li>Easy (39.23%)</li><li>Likes:    632</li><li>Dislikes: -</li><li>Total Accepted:    280.6K</li><li>Total Submissions: 715.3K</li><li>Testcase Example:  â€˜4â€™</li><li>Source Code:       69.sqrtx.cpp</li></ul><p>å®ç°&nbsp;<code>int sqrt(int x)</code>&nbsp;å‡½æ•°ã€‚</p><p>è®¡ç®—å¹¶è¿”å›&nbsp;<em>x</em>&nbsp;çš„å¹³æ–¹æ ¹ï¼Œå…¶ä¸­&nbsp;<em>x </em>æ˜¯éè´Ÿæ•´æ•°ã€‚</p><p>ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œç»“æœåªä¿ç•™æ•´æ•°çš„éƒ¨åˆ†ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong> 4<strong>è¾“å‡º:</strong> 2</pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre><strong>è¾“å…¥:</strong> 8<strong>è¾“å‡º:</strong> 2<strong>è¯´æ˜:</strong> 8 çš„å¹³æ–¹æ ¹æ˜¯ 2.82842...,&nbsp;    ç”±äºè¿”å›ç±»å‹æ˜¯æ•´æ•°ï¼Œå°æ•°éƒ¨åˆ†å°†è¢«èˆå»ã€‚</pre><h3 id="æ–¹æ³•1-äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•1-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•1: äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•1: äºŒåˆ†æŸ¥æ‰¾</h3><p>æ€è·¯: è®¾ç½®ä¸¤ä¸ªæŒ‡é’ˆ, ä»£è¡¨åŒºé—´ <code>[a, b]</code> çš„é¦–å°¾(æ³¨æ„è¿™é‡ŒåŒæŒ‡é’ˆç®—æ³•ä¸å¤ªåŒ, åŒæŒ‡é’ˆæ˜¯ä¸€æ¬¡ç§»åŠ¨ä¸€ä½, è¿™é‡Œä¸€æ¬¡ç§»åŠ¨åŠä¸ªåŒºé—´) , å–ä¸­ä½æ•° <code>mid</code> ä¸ <code>x/mid</code> è¿›è¡Œè®¡ç®—å¯¹æ¯”, è‹¥ <code>mid</code> å¤§, åˆ™å– <code>mid</code> å·¦è¾¹åŒºé—´ç»§ç»­è®¡ç®—, åä¹‹åˆ™å–å³è¾¹åŒºé—´</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int mySqrt(int x) &#123;            if(x==0) return x;            int left=1, right=x, mid=0, sqrt=0;            while(left &lt;= right)&#123;                mid = (right - left) / 2 + left;                // cout &lt;&lt; mid &lt;&lt; endl;                sqrt = x / mid;                if(sqrt == mid)&#123;                    return mid;                &#125;else if(sqrt &gt; mid)&#123;                    left = mid + 1;                &#125;else&#123;                    right = mid - 1;                &#125;            &#125;            return right;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210328171929.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(logn)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-ç‰›é¡¿è¿­ä»£æ³•"><a href="#æ–¹æ³•2-ç‰›é¡¿è¿­ä»£æ³•" class="headerlink" title="æ–¹æ³•2: ç‰›é¡¿è¿­ä»£æ³•"></a>æ–¹æ³•2: ç‰›é¡¿è¿­ä»£æ³•</h3><p>ä¹Ÿå°±æ¯”ç¬¬ä¸€ç§æ–¹æ³•å¿« <strong>äº¿</strong> ç‚¹ç‚¹</p><h4 id="ç‰›é¡¿è¿­ä»£-åŸç†"><a href="#ç‰›é¡¿è¿­ä»£-åŸç†" class="headerlink" title="ç‰›é¡¿è¿­ä»£ åŸç†"></a>ç‰›é¡¿è¿­ä»£ åŸç†</h4><p>å¾…å®Œå–„</p><p>è¿­ä»£å…¬å¼: $x_{n+1} = x_n - f(x_n) / fâ€™(x_n)$<br>æ±‚å¹³æ–¹æ ¹, ç­‰ä»·äºç»™å®š $f(x) = x^2 - a = 0$, ä»£å…¥ä¸Šå¼, å¯ğŸ‰ï¸è¿­ä»£å…¬å¼: $x_{n+1} = (x_n + a / x_n) / 2$</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int mySqrt(int x) &#123;            long n = x;            while( n * n &gt; x )&#123;                n = (n + x / n) / 2;            &#125;            return n;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210328172546.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> äºŒåˆ†æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_æ¯æ—¥ä¸€é¢˜2</title>
      <link href="/2021/03/27/leetcode-mei-ri-yi-ti-2/"/>
      <url>/2021/03/27/leetcode-mei-ri-yi-ti-2/</url>
      
        <content type="html"><![CDATA[<h2 id="61-æ—‹è½¬é“¾è¡¨"><a href="#61-æ—‹è½¬é“¾è¡¨" class="headerlink" title="[61] æ—‹è½¬é“¾è¡¨"></a>[61] æ—‹è½¬é“¾è¡¨</h2><p><a href="https://leetcode-cn.com/problems/rotate-list/description/">https://leetcode-cn.com/problems/rotate-list/description/</a></p><ul><li>algorithms</li><li>Medium (40.61%)</li><li>Likes:    496</li><li>Dislikes: -</li><li>Total Accepted:    139.3K</li><li>Total Submissions: 337K</li><li>Testcase Example:  â€˜[1,2,3,4,5]\n2â€™</li><li>Source Code:       61.rotate-list.cpp</li></ul><p>ç»™ä½ ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œæ—‹è½¬é“¾è¡¨ï¼Œå°†é“¾è¡¨æ¯ä¸ªèŠ‚ç‚¹å‘å³ç§»åŠ¨Â <code>k</code><em>Â </em>ä¸ªä½ç½®ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><img loading="lazy" alt="" src="https://assets.leetcode.com/uploads/2020/11/13/rotate1.jpg" style="width: 600px; height: 254px;" /><pre><strong>è¾“å…¥ï¼š</strong>head = [1,2,3,4,5], k = 2<strong>è¾“å‡ºï¼š</strong>[4,5,1,2,3]</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><img loading="lazy" alt="" src="https://assets.leetcode.com/uploads/2020/11/13/roate2.jpg" style="width: 472px; height: 542px;" /><pre><strong>è¾“å…¥ï¼š</strong>head = [0,1,2], k = 4<strong>è¾“å‡ºï¼š</strong>[2,0,1]</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®åœ¨èŒƒå›´ <code>[0, 500]</code> å†…</li>    <li><code>-100 <= Node.val <= 100</code></li>    <li><code>0 <= k <= 2 * 10<sup>9</sup></code></li></ul><h3 id="æ–¹æ³•1-å¿«æ…¢æŒ‡é’ˆ-é¦–å°¾ç›¸è¿"><a href="#æ–¹æ³•1-å¿«æ…¢æŒ‡é’ˆ-é¦–å°¾ç›¸è¿" class="headerlink" title="æ–¹æ³•1: å¿«æ…¢æŒ‡é’ˆ, é¦–å°¾ç›¸è¿"></a>æ–¹æ³•1: å¿«æ…¢æŒ‡é’ˆ, é¦–å°¾ç›¸è¿</h3><p>æ€è·¯: æ—‹è½¬é“¾è¡¨, ä½¿èŠ‚ç‚¹ç§»åŠ¨, å¯ä»¥å°†åŸé“¾è¡¨è½¬åŒ–ä¸ºå¾ªç¯é“¾è¡¨, æ‰¾åˆ°ç¬¦åˆé¢˜æ„çš„å¤´èŠ‚ç‚¹çš„ä½ç½®å³å¯</p><p>æ­¥éª¤: </p><ul><li>è®¾ç½®ä¸¤æŒ‡é’ˆ <code>fast</code> å’Œ <code>slow</code> , <code>fast</code> æŒ‡é’ˆç”¨äºæ¢ç´¢é“¾è¡¨å°¾éƒ¨, æ„å»ºå¾ªç¯é“¾è¡¨, <code>slow</code> æŒ‡é’ˆç”¨äºç¡®å®šå¤´èŠ‚ç‚¹çš„ä½ç½®</li><li>éå†é“¾è¡¨, è®°å½•é“¾è¡¨é•¿åº¦(<code>count</code>),  æ‰¾åˆ°é“¾è¡¨å°¾éƒ¨, å°†å°¾éƒ¨æŒ‡å‘ <code>head</code> , æ„å»ºå¾ªç¯é“¾è¡¨</li><li>ç§»åŠ¨ <code>slow</code> æŒ‡é’ˆ, é¢˜ç›®è¦æ±‚å°†èŠ‚ç‚¹å‘å³ç§»åŠ¨ <code>k</code> ä¸ªä½ç½®, ç­‰ä»·äºå°†å¤´æŒ‡é’ˆå‘å·¦ç§»åŠ¨ <code>count - k</code> ä¸ªä½ç½®, ä¸ºäº†é¿å… <code>k &gt; count</code> æ—¶å¤šä½™çš„ç§»åŠ¨, æ‰€ä»¥åº”å‘å·¦ç§»åŠ¨ <code>count - k % count</code> ä¸ªä½ç½®</li></ul><h4 id="å°Tips"><a href="#å°Tips" class="headerlink" title="å°Tips"></a>å°Tips</h4><ul><li><p>é‡åˆ°é“¾è¡¨ä¸è¦åå•¬å˜é‡çš„ä½¿ç”¨, æ¯”å¦‚æœ¬é¢˜, ä½¿ç”¨åŒæŒ‡é’ˆæ¯”ä½¿ç”¨å•æŒ‡é’ˆè¦å¿«ä¸Šä¸å°‘</p><ul><li><p>å•æŒ‡é’ˆ<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210327154953.png"></p></li><li><p>åŒæŒ‡é’ˆ<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210327155034.png"></p></li></ul></li><li><p>é“¾è¡¨æ—‹è½¬, ç§»åŠ¨ <code>k</code> ä¸ªä½ç½®, å‘å·¦ç§»åŠ¨ç­‰ä»·äº <strong>å¤´æŒ‡é’ˆå‘å³ç§»åŠ¨ <code>k % count</code> ä¸ªä½ç½®</strong> , å‘å³ç§»åŠ¨ç­‰ä»·äº <strong>å¤´æŒ‡é’ˆå‘å³ç§»åŠ¨ <code>count - k % count</code> ä¸ªä½ç½®</strong>. <code>count</code> ä¸ºé“¾è¡¨é•¿åº¦</p></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    ListNode* rotateRight(ListNode* head, int k) &#123;            if(!head || k == 0) return head;            ListNode* fast = head;            ListNode* slow = head;            int count = 1;            while(fast-&gt;next)&#123;                fast = fast-&gt;next;                ++count;            &#125;            fast-&gt;next = head;            k = count - k % count;            while(k-- &gt; 1) slow = slow-&gt;next;            head = slow-&gt;next;            slow-&gt;next = nullptr;            return head;        &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210327155034.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code> , æœ€å¤šéœ€è¦ä¸¤æ¬¡éå†</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day21</title>
      <link href="/2021/03/26/leetcode-day21/"/>
      <url>/2021/03/26/leetcode-day21/</url>
      
        <content type="html"><![CDATA[<h2 id="524-é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯"><a href="#524-é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯" class="headerlink" title="[524] é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯"></a>[524] é€šè¿‡åˆ é™¤å­—æ¯åŒ¹é…åˆ°å­—å…¸é‡Œæœ€é•¿å•è¯</h2><p><a href="https://leetcode-cn.com/problems/longest-word-in-dictionary-through-deleting/description/">https://leetcode-cn.com/problems/longest-word-in-dictionary-through-deleting/description/</a></p><ul><li>algorithms</li><li>Medium (47.15%)</li><li>Likes:    136</li><li>Dislikes: -</li><li>Total Accepted:    28.6K</li><li>Total Submissions: 60.7K</li><li>Testcase Example:  â€˜â€œabpcpleaâ€\n[â€œaleâ€,â€appleâ€,â€monkeyâ€,â€pleaâ€]â€™</li></ul><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸²å’Œä¸€ä¸ªå­—ç¬¦ä¸²å­—å…¸ï¼Œæ‰¾åˆ°å­—å…¸é‡Œé¢æœ€é•¿çš„å­—ç¬¦ä¸²ï¼Œè¯¥å­—ç¬¦ä¸²å¯ä»¥é€šè¿‡åˆ é™¤ç»™å®šå­—ç¬¦ä¸²çš„æŸäº›å­—ç¬¦æ¥å¾—åˆ°ã€‚å¦‚æœç­”æ¡ˆä¸æ­¢ä¸€ä¸ªï¼Œè¿”å›é•¿åº¦æœ€é•¿ä¸”å­—å…¸é¡ºåºæœ€å°çš„å­—ç¬¦ä¸²ã€‚å¦‚æœç­”æ¡ˆä¸å­˜åœ¨ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸²ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong>s = &quot;abpcplea&quot;, d = [&quot;ale&quot;,&quot;apple&quot;,&quot;monkey&quot;,&quot;plea&quot;]<strong>è¾“å‡º:</strong>&quot;apple&quot;</pre><p><strong>ç¤ºä¾‹&nbsp;2:</strong></p><pre><strong>è¾“å…¥:</strong>s = &quot;abpcplea&quot;, d = [&quot;a&quot;,&quot;b&quot;,&quot;c&quot;]<strong>è¾“å‡º:</strong>&quot;a&quot;</pre><p><strong>è¯´æ˜:</strong></p><ol>    <li>æ‰€æœ‰è¾“å…¥çš„å­—ç¬¦ä¸²åªåŒ…å«å°å†™å­—æ¯ã€‚</li>    <li>å­—å…¸çš„å¤§å°ä¸ä¼šè¶…è¿‡ 1000ã€‚</li>    <li>æ‰€æœ‰è¾“å…¥çš„å­—ç¬¦ä¸²é•¿åº¦ä¸ä¼šè¶…è¿‡ 1000ã€‚</li></ol><h3 id="æ–¹æ³•1-åŒæŒ‡é’ˆ-hashtable"><a href="#æ–¹æ³•1-åŒæŒ‡é’ˆ-hashtable" class="headerlink" title="æ–¹æ³•1: åŒæŒ‡é’ˆ + hashtable"></a>æ–¹æ³•1: åŒæŒ‡é’ˆ + hashtable</h3><p>è¿™é“é¢˜çœ‹ç€ä¸å¤æ‚, å®é™…ä¸ŠçœŸçš„ä¸å¤æ‚!    </p><p>æ€è·¯:   ç”¨åŒæŒ‡é’ˆå¯ä»¥è½»æ¾å¯¹æ¯”å‡ºæ¥ç¬¦åˆæ¡ä»¶çš„å­ä¸², å†å°†å­ä¸²çš„é•¿åº¦å­˜å…¥hashtableä¸­, å†æŒ‰ç…§è¦æ±‚è¿”å›é•¿åº¦æœ€é•¿, å­—å…¸åºæœ€å°çš„å­ä¸²å³å¯. </p><p>æ­¥éª¤: </p><ul><li>éå†å­—å…¸ <code>dictionary</code> , åˆ†åˆ«åœ¨å­—ç¬¦ä¸²så’Œå­—å…¸ <code>dictionary</code> ä¸­å­—ç¬¦ä¸²è®¾ç½®æŒ‡é’ˆ, è‹¥å½“å‰æŒ‡é’ˆä¸‹ä¸¤å­—æ¯ç›¸åŒ, åˆ™ä¸¤æŒ‡é’ˆåˆ†åˆ«å‘åç§»åŠ¨ä¸€ä½, ç»§ç»­è¿›è¡Œå¯¹æ¯”, è‹¥å‡ºç°ä¸åŒ, åˆ™ä»…å°†sä¸­çš„æŒ‡é’ˆåç§»ä¸€ä½, ç»§ç»­è¿›è¡Œå¯¹æ¯”. </li><li>ä»…å½“sä¸­æŒ‡é’ˆåœ¨æœ€åä¸€ä½ä¹‹å‰(åŒ…å«æœ€åä¸€ä½), ä¸”dä¸­æŒ‡é’ˆè¶…è¿‡å­—ç¬¦ä¸²é•¿åº¦æ—¶, æ”¹å­—ç¬¦ä¸²æ˜¯æ»¡è¶³æ¡ä»¶çš„å­ä¸², å°†å­ä¸²é•¿åº¦è®°å½•åœ¨ <code>hashtable</code> ä¸­</li><li>éå†å®Œå­—å…¸, éå† <code>hashtable</code> , å¾—åˆ°å­ä¸²æœ€é•¿çš„å­—ç¬¦ä¸², è‹¥é•¿åº¦ç›¸åŒ, åˆ™å–å­—å…¸åºæœ€å°çš„ä¸€ä¸ª. </li></ul><p><strong>æ³¨æ„å­—å…¸åºçš„æ¦‚å¿µ, æˆ‘å°±æ˜¯æŠŠä»–å½“æˆåœ¨å­—å…¸ä¸­çš„é¡ºåº, ç»“æœé”™éƒ½ä¸çŸ¥é“å’‹é”™çš„</strong></p><ul><li>å­—å…¸åº: å­—å…¸åºï¼ˆdictionary orderï¼‰ï¼Œåˆç§° å­—æ¯åºï¼ˆalphabetical orderï¼‰ï¼ŒåŸæ„æ˜¯è¡¨ç¤ºè‹±æ–‡å•è¯åœ¨å­—å…¸ä¸­çš„å…ˆåé¡ºåºï¼Œåœ¨è®¡ç®—æœºé¢†åŸŸä¸­æ‰©å±•æˆä¸¤ä¸ªä»»æ„å­—ç¬¦ä¸²çš„å¤§å°å…³ç³»ã€‚    </li><li>å¯¹äºä¸¤ä¸ªå­—ç¬¦ä¸²ï¼Œå¤§å°å…³ç³»å–å†³äºä¸¤ä¸ªå­—ç¬¦ä¸²ä»å·¦åˆ°å³ç¬¬ä¸€ä¸ªä¸åŒå­—ç¬¦çš„ ASCII å€¼çš„å¤§å°å…³ç³»ã€‚è‹¥ç¬¬ä¸€å­—æ¯ç›¸åŒ, è¿™å¾€åç§»ä¸€ä½å†è¿›è¡Œæ¯”è¾ƒ</li><li>c++ä¸­, ä½¿ç”¨ä¾‹å¦‚ <code>&#39;a&#39; &lt; &#39;b&#39;</code> å°±å¯è¿›è¡Œæ¯”è¾ƒ</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    string findLongestWord(string s, vector&lt;string&gt;&amp; dictionary) &#123;            int s_size = s.size(), d_size = dictionary.size();            int s_index = 0, index = 0, longest_index = 0;            bool isexit = false;            vector&lt;int&gt; word_count(d_size, 0);            for(int d_index = 0; d_index &lt; d_size; ++d_index)&#123;                string d_word = dictionary[d_index];                while(index &lt; d_word.size() &amp;&amp; s_index &lt; s_size)&#123;                    if(s[s_index] == d_word[index])&#123;                        ++s_index;                        ++index;                    &#125;else&#123;                        ++s_index;                    &#125;                &#125;                if(s_index &lt;= s_size &amp;&amp; index &gt;= d_word.size())&#123;                    word_count[d_index] = dictionary[d_index].size();                    isexit = true;                &#125;                s_index = 0;                index = 0;            &#125;            for(int i=0; i&lt;word_count.size();++i)&#123;                if(word_count[longest_index] &lt; word_count[i] || (word_count[longest_index] == word_count[i] &amp;&amp; dictionary[longest_index] &gt; dictionary[i]))&#123;                        longest_index = i;                &#125;            &#125;            return isexit ? dictionary[longest_index] : &quot;&quot;;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210326195612.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n*s+nx)</code> , n ä»£è¡¨å­—å…¸ä¸­å­ä¸²ä¸ªæ•°, xä»£è¡¨å­ä¸²å¹³å‡é•¿åº¦, sä»£è¡¨å­—ç¬¦ä¸²sé•¿åº¦</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(n)</code> , éœ€è¦é¢å¤–hashtable</li></ul><h2 id="340-è‡³å¤šåŒ…å«-K-ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²"><a href="#340-è‡³å¤šåŒ…å«-K-ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²" class="headerlink" title="[340] è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²"></a>[340] è‡³å¤šåŒ…å« K ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸²</h2><p><a href="https://leetcode-cn.com/problems/longest-substring-with-at-most-k-distinct-characters/">https://leetcode-cn.com/problems/longest-substring-with-at-most-k-distinct-characters/</a></p><p>ç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² s ï¼Œæ‰¾å‡º è‡³å¤š åŒ…å« k ä¸ªä¸åŒå­—ç¬¦çš„æœ€é•¿å­ä¸² Tã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong>s = "eceba", k = 2<strong>è¾“å‡º:</strong>3<strong>è§£é‡Š:</strong> åˆ™ T ä¸º "ece"ï¼Œæ‰€ä»¥é•¿åº¦ä¸º 3ã€‚</pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre><strong>è¾“å…¥:</strong>s = "aa", k = 1<strong>è¾“å‡º:</strong>2<strong>è§£é‡Š:</strong> åˆ™ T ä¸º "aa"ï¼Œæ‰€ä»¥é•¿åº¦ä¸º 2ã€‚</pre><h3 id="æ–¹æ³•1-åŒæŒ‡é’ˆ-æ»‘åŠ¨çª—å£-hashtable"><a href="#æ–¹æ³•1-åŒæŒ‡é’ˆ-æ»‘åŠ¨çª—å£-hashtable" class="headerlink" title="æ–¹æ³•1: åŒæŒ‡é’ˆ(æ»‘åŠ¨çª—å£) + hashtable"></a>æ–¹æ³•1: åŒæŒ‡é’ˆ(æ»‘åŠ¨çª—å£) + hashtable</h3><p>æ€è·¯: ä½¿ç”¨åŒæŒ‡é’ˆè®¾ç½®ä¸€ä¸ªçª—å£, ä¿è¯çª—å£å†…çš„å­—ç¬¦ä¸²æ»¡è¶³é¢˜æ„å³å¯</p><p>æ­¥éª¤: </p><ul><li>åˆ›å»º <code>hashtable</code> æ¥å­˜å‚¨å­—æ¯å‡ºç°çš„æ¬¡æ•°, <code>hashtable</code> çš„é•¿åº¦ä¸ºk, åˆ›å»º <code>count</code> å˜é‡æ¥ç»Ÿè®¡çª—å£ä¸­ä¸åŒå­—æ¯çš„ä¸ªæ•°, ç”¨äºè·Ÿ <code>k</code> åšå¯¹æ¯”</li><li>è®¾ç½® <code>left</code> å’Œ <code>right</code> æŒ‡é’ˆ, éå†å­—ç¬¦ä¸², å¦‚æœ <code>hashtable</code> ä¸­æ²¡æœ‰è¯¥å­—æ¯, åˆ™å°†å…¶åŠ å…¥ <code>hashtable</code>, å¦‚æœå­˜åœ¨, åˆ™æ¬¡æ•° +1.</li><li>æ¯æ¬¡åŠ å…¥æ–°å­—æ¯æ—¶, <code>count</code> è¦ +1.</li><li>å¦‚æœ <code>count &gt; k</code> æ—¶, è¦å°†æ»‘åŠ¨çª—å£æœ€å·¦ä¾§çš„å­—æ¯åˆ æ‰, å³å°† <code>left</code> æŒ‡é’ˆå³ç§»ä¸€ä½, åœ¨ç§»åŠ¨æŒ‡é’ˆä¹‹å‰, è¦å…ˆåˆ¤æ–­å¦‚æœå°†è¯¥å­—æ¯ç§»é™¤, <code>hashtable</code> ä¸­è¿˜æ˜¯å¦å­˜åœ¨è¯¥å­—æ¯</li><li>è‹¥å­˜åœ¨,    å¯ç›´æ¥æ‰§è¡Œ <code>left</code> æŒ‡é’ˆå³ç§», è‹¥ä¸å­˜åœ¨, åˆ™å°† <code>count</code> -1, è¡¨ç¤ºå¯ä»¥æ¥å—æ–°å­—æ¯</li><li>éå†è¿‡ç¨‹ä¸­, å–æ»‘åŠ¨çª—å£çš„æœ€å¤§å€¼, å³ <code>right - left + 1</code> çš„æœ€å¤§å€¼</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int lengthOfLongestSubstringKDistinct(string s, int k) &#123;        map&lt;char, int&gt; window;        int left=0, count=0, res=0;        for(int right=0;right&lt;s.size(); ++right)&#123;            if(window.count(s[right]) == 0) count += 1;            window[s[right]] += 1;            while(count &gt; k)&#123;                if(--window[s[left]] == 0)&#123;                    window.erase(s[left]);                    --count;                &#125;                ++left;            &#125;            res = max(res, right - left + 1);        &#125;        return  res;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210326233359.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code>, ä»…éœ€éå†ä¸€æ¬¡</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(k)</code>, hashtable</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_æ¯æ—¥ä¸€é¢˜1</title>
      <link href="/2021/03/25/leetcode-mei-ri-yi-ti-1/"/>
      <url>/2021/03/25/leetcode-mei-ri-yi-ti-1/</url>
      
        <content type="html"><![CDATA[<h2 id="82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II"><a href="#82-åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´ -II" class="headerlink" title="[82] åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II"></a>[82] åˆ é™¤æ’åºé“¾è¡¨ä¸­çš„é‡å¤å…ƒç´  II</h2><p><a href="https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii/description/">https://leetcode-cn.com/problems/remove-duplicates-from-sorted-list-ii/description/</a></p><ul><li>algorithms</li><li>Medium (50.18%)</li><li>Likes:    535</li><li>Dislikes: -</li><li>Total Accepted:    106.5K</li><li>Total Submissions: 206.7K</li><li>Testcase Example:  â€˜[1,2,3,3,4,4,5]â€™</li></ul><p>å­˜åœ¨ä¸€ä¸ªæŒ‰å‡åºæ’åˆ—çš„é“¾è¡¨ï¼Œç»™ä½ è¿™ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ <code>head</code> ï¼Œè¯·ä½ åˆ é™¤é“¾è¡¨ä¸­æ‰€æœ‰å­˜åœ¨æ•°å­—é‡å¤æƒ…å†µçš„èŠ‚ç‚¹ï¼Œåªä¿ç•™åŸå§‹é“¾è¡¨ä¸­Â <strong>æ²¡æœ‰é‡å¤å‡ºç°</strong><em>Â </em>çš„æ•°å­—ã€‚</p><p>è¿”å›åŒæ ·æŒ‰å‡åºæ’åˆ—çš„ç»“æœé“¾è¡¨ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><img loading="lazy" alt="" src="https://assets.leetcode.com/uploads/2021/01/04/linkedlist1.jpg" style="width: 500px; height: 142px;" /><pre><strong>è¾“å…¥ï¼š</strong>head = [1,2,3,3,4,4,5]<strong>è¾“å‡ºï¼š</strong>[1,2,5]</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><img loading="lazy" alt="" src="https://assets.leetcode.com/uploads/2021/01/04/linkedlist2.jpg" style="width: 500px; height: 205px;" /><pre><strong>è¾“å…¥ï¼š</strong>head = [1,1,1,2,3]<strong>è¾“å‡ºï¼š</strong>[2,3]</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li>é“¾è¡¨ä¸­èŠ‚ç‚¹æ•°ç›®åœ¨èŒƒå›´ <code>[0, 300]</code> å†…</li>    <li><code>-100 <= Node.val <= 100</code></li>    <li>é¢˜ç›®æ•°æ®ä¿è¯é“¾è¡¨å·²ç»æŒ‰å‡åºæ’åˆ—</li></ul><h3 id="æ–¹æ³•1-è¿­ä»£-ä¸€æ¬¡éå†"><a href="#æ–¹æ³•1-è¿­ä»£-ä¸€æ¬¡éå†" class="headerlink" title="æ–¹æ³•1:  è¿­ä»£(ä¸€æ¬¡éå†)"></a>æ–¹æ³•1:  è¿­ä»£(ä¸€æ¬¡éå†)</h3><p>å› ä¸ºé“¾è¡¨æ˜¯æ’å¥½åºçš„, æ‰€ä»¥é‡å¤çš„å…ƒç´ ä¸€å®šæ˜¯è¿ç»­çš„. æ‰€ä»¥ä¸€æ¬¡éå†å³å¯åˆ é™¤é‡å¤å…ƒç´ . åœ¨å¤„ç†é“¾è¡¨é—®é¢˜æ—¶, <code>head</code> èŠ‚ç‚¹æœ‰å¯èƒ½è¢«åˆ é™¤, æ‰€ä»¥éœ€è¦è®¾ç½®ä¸€ä¸ªå“‘èŠ‚ç‚¹(dummy node) ä½¿å¾—    <code>dummy-&gt;next = head</code> ,è¿™æ˜¯é‡ç‚¹.</p><p>å…·ä½“è¿­ä»£å¦‚ä¸‹: </p><ul><li>è®¾ç½® <code>pos</code> èŠ‚ç‚¹æŒ‡å‘é“¾è¡¨çš„å“‘èŠ‚ç‚¹, éå†é“¾è¡¨, éå†éœ€è¦ä¿è¯ <code>pos-&gt;next</code> å’Œ <code>pos-&gt;next-&gt;next</code> å­˜åœ¨, è‹¥ <code>pos-&gt;next-&gt;val</code> ä¸ <code>pos-&gt;next-&gt;next-&gt;val</code> ç›¸ç­‰, ä»£è¡¨è¯¥æ•°å­—é‡å¤, ç”¨ä¸€ä¸ªå˜é‡ <code>x</code> æ¥è®°å½•è¿™ä¸ªé‡å¤çš„æ•°å­—</li><li>ç»§ç»­éå†, å½“ <code>pos-&gt;next</code> å­˜åœ¨ ä¸” <code>pos-&gt;next-&gt;val</code> ä¸ <code>x</code> ç›¸ç­‰, åˆ™å°†æŒ‡é’ˆç»§ç»­åç§», å¿½ç•¥æ‰è¿™ä¸ªç›¸ç­‰çš„æ•°å­—, é‡å¤æ­¤æ“ä½œ, ç›´åˆ° <code>pos-&gt;next-&gt;val</code> ä¸ <code>x</code> ä¸ç­‰, æˆ– <code>pos-&gt;next</code> ä¸å­˜åœ¨</li><li>è¿”å›å€¼æ˜¯ <code>dummy-&gt;next</code></li><li>æœªå°† <code>dummy node</code> å’Œè¢«åˆ é™¤èŠ‚ç‚¹é‡Šæ”¾<pre><code class="line-numbers language-cpp">class Solution &#123;public:  ListNode* deleteDuplicates(ListNode* head) &#123;          if(!head) return head;          // åˆ›å»º dummy node , dummy-&gt;next = head          ListNode* dummy = new ListNode(0, head);          ListNode* pos = dummy;          while(pos-&gt;next &amp;&amp; pos-&gt;next-&gt;next)&#123;              if(pos-&gt;next-&gt;val == pos-&gt;next-&gt;next-&gt;val)&#123;                  int x = pos-&gt;next-&gt;val;                  while(pos-&gt;next &amp;&amp; pos-&gt;next-&gt;val == x)&#123;                      pos-&gt;next = pos-&gt;next-&gt;next;                  &#125;              &#125;else&#123;                  pos = pos-&gt;next;              &#125;          &#125;          return dummy-&gt;next;  &#125;&#125;;</code></pre></li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210325163437.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code> , ä»…éœ€ä¸€æ¬¡éå†</li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-é€’å½’"><a href="#æ–¹æ³•2-é€’å½’" class="headerlink" title="æ–¹æ³•2: é€’å½’"></a>æ–¹æ³•2: é€’å½’</h3><p>å¾…å®Œå–„</p>]]></content>
      
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> æ¯æ—¥ä¸€é¢˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day20</title>
      <link href="/2021/03/25/leetcode-day20/"/>
      <url>/2021/03/25/leetcode-day20/</url>
      
        <content type="html"><![CDATA[<h2 id="633-å¹³æ–¹æ•°ä¹‹å’Œ"><a href="#633-å¹³æ–¹æ•°ä¹‹å’Œ" class="headerlink" title="[633] å¹³æ–¹æ•°ä¹‹å’Œ"></a>[633] å¹³æ–¹æ•°ä¹‹å’Œ</h2><p><a href="https://leetcode-cn.com/problems/sum-of-square-numbers/description/">https://leetcode-cn.com/problems/sum-of-square-numbers/description/</a></p><ul><li>algorithms</li><li>Medium (34.98%)</li><li>Likes:    169</li><li>Dislikes: -</li><li>Total Accepted:    40.4K</li><li>Total Submissions: 114.8K</li><li>Testcase Example:  â€˜5â€™</li><li>Source Code:       633.sum-of-square-numbers.cpp</li></ul><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°&nbsp;<code>c</code>&nbsp;ï¼Œä½ è¦åˆ¤æ–­æ˜¯å¦å­˜åœ¨ä¸¤ä¸ªæ•´æ•° <code>a</code> å’Œ <code>b</code>ï¼Œä½¿å¾—&nbsp;<code>a<sup>2</sup> + b<sup>2</sup> = c</code> ã€‚</p><p>&nbsp;</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>c = 5<strong>è¾“å‡ºï¼š</strong>true<strong>è§£é‡Šï¼š</strong>1 * 1 + 2 * 2 = 5</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>c = 3<strong>è¾“å‡ºï¼š</strong>false</pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>c = 4<strong>è¾“å‡ºï¼š</strong>true</pre><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>c = 2<strong>è¾“å‡ºï¼š</strong>true</pre><p><strong>ç¤ºä¾‹ 5ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>c = 1<strong>è¾“å‡ºï¼š</strong>true</pre><p>&nbsp;</p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>0 &lt;= c &lt;= 2<sup>31</sup> - 1</code></li></ul><h3 id="æ–¹æ³•1-åŒæŒ‡é’ˆ"><a href="#æ–¹æ³•1-åŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•1: åŒæŒ‡é’ˆ"></a>æ–¹æ³•1: åŒæŒ‡é’ˆ</h3><p>æœ¬é¢˜å¯ä»¥ä½¿ç”¨åŒæŒ‡é’ˆå¿«é€Ÿæ‰¾åˆ°ç­”æ¡ˆ, æ€æƒ³è¿˜æ˜¯ç­‰åŒäºé‡åˆ°æœ‰åºæ•°ç»„, åªä¸è¿‡æ•°ç»„èŒƒå›´ä¸º <code>0, sqrt(c)</code><br>å”¯ä¸€éœ€è¦æ³¨æ„çš„æ˜¯ <code>c</code> çš„å–å€¼èŒƒå›´ , æœ€å¥½ç”¨ <code>long</code> æ¥åˆ›å»ºåŒæŒ‡é’ˆ</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool judgeSquareSum(int c) &#123;            if(c&lt;=2)&#123;                return true;            &#125;            long a = 0, b = sqrt(c);            while(a&lt;=b)&#123;                if(b*b == c - a*a)&#123;                    return true;                &#125;else if(b*b &lt; c - a*a)&#123;                    ++a;                &#125;else&#123;                    --b;                &#125;            &#125;            return false;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210325100329.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(sqrt(n))</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-äºŒåˆ†æŸ¥æ‰¾"><a href="#æ–¹æ³•2-äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ–¹æ³•2: äºŒåˆ†æŸ¥æ‰¾"></a>æ–¹æ³•2: äºŒåˆ†æŸ¥æ‰¾</h3><p>å¾…å®Œå–„</p><h2 id="680-éªŒè¯å›æ–‡å­—ç¬¦ä¸²-â…¡"><a href="#680-éªŒè¯å›æ–‡å­—ç¬¦ä¸²-â…¡" class="headerlink" title="[680] éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡"></a>[680] éªŒè¯å›æ–‡å­—ç¬¦ä¸² â…¡</h2><p><a href="https://leetcode-cn.com/problems/valid-palindrome-ii/description/">https://leetcode-cn.com/problems/valid-palindrome-ii/description/</a></p><ul><li>algorithms</li><li>Easy (39.95%)</li><li>Likes:    336</li><li>Dislikes: -</li><li>Total Accepted:    67.2K</li><li>Total Submissions: 167.6K</li><li>Testcase Example:  â€˜â€œabaâ€â€˜</li></ul><p>ç»™å®šä¸€ä¸ªéç©ºå­—ç¬¦ä¸²&nbsp;<code>s</code>ï¼Œ<strong>æœ€å¤š</strong>åˆ é™¤ä¸€ä¸ªå­—ç¬¦ã€‚åˆ¤æ–­æ˜¯å¦èƒ½æˆä¸ºå›æ–‡å­—ç¬¦ä¸²ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong> &quot;aba&quot;<strong>è¾“å‡º:</strong> True</pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre><strong>è¾“å…¥:</strong> &quot;abca&quot;<strong>è¾“å‡º:</strong> True<strong>è§£é‡Š:</strong> ä½ å¯ä»¥åˆ é™¤cå­—ç¬¦ã€‚</pre><p><strong>æ³¨æ„:</strong></p><ol>    <li>å­—ç¬¦ä¸²åªåŒ…å«ä» a-z çš„å°å†™å­—æ¯ã€‚å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦æ˜¯50000ã€‚</li></ol><h3 id="æ–¹æ³•1-åŒæŒ‡é’ˆ-1"><a href="#æ–¹æ³•1-åŒæŒ‡é’ˆ-1" class="headerlink" title="æ–¹æ³•1: åŒæŒ‡é’ˆ"></a>æ–¹æ³•1: åŒæŒ‡é’ˆ</h3><p>åœ¨æ•°ç»„é¦–å°¾åˆ†åˆ«è®¾ç½®å·¦å³æŒ‡é’ˆ, ä¸¤æŒ‡é’ˆæœä¸­é—´é æ‹¢, ä¸¤æŒ‡é’ˆå¯¹åº”å…ƒç´ ç›¸ç­‰åˆ™ç»§ç»­é æ‹¢, éœ€è¦æ³¨æ„çš„æ˜¯, å½“å…ƒç´ ä¸ç­‰, åªè¦ åŒºé—´ä¸º <code>[left+1, right)</code> æˆ– <code>[left, right-1)</code> çš„å­æ•°ç»„æ»¡è¶³å›æ–‡å³å¯</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool validPalindrome(string s) &#123;            int count=1, left = 0, right = s.size() - 1;            while(left &lt; right)&#123;                if(s[left] == s[right])&#123;                    ++left;                    --right;                &#125; else return (isvailed(s, left + 1, right) || isvailed(s, left, right - 1));            &#125;            return true;        &#125;        bool isvailed(string s, int left, int right)&#123;            while(left &lt; right)&#123;                if(s[left] == s[right])&#123;                    ++left;                    --right;                &#125;else return false;                return true;            &#125;        &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210325121718.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code> , åˆ¤æ–­sä¸åˆ¤æ–­sçš„å­å­—ç¬¦éƒ½æ˜¯ <code>O(n)</code></li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(1)</code>, å¸¸é‡ç©ºé—´</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day19</title>
      <link href="/2021/03/24/leetcode-day19/"/>
      <url>/2021/03/24/leetcode-day19/</url>
      
        <content type="html"><![CDATA[<h3 id="76-æœ€å°è¦†ç›–å­ä¸²"><a href="#76-æœ€å°è¦†ç›–å­ä¸²" class="headerlink" title="[76] æœ€å°è¦†ç›–å­ä¸²"></a>[76] æœ€å°è¦†ç›–å­ä¸²</h3><p><a href="https://leetcode-cn.com/problems/minimum-window-substring/description/">https://leetcode-cn.com/problems/minimum-window-substring/description/</a></p><ul><li>algorithms</li><li>Hard (40.57%)</li><li>Likes:    1042</li><li>Dislikes: -</li><li>Total Accepted:    120.1K</li><li>Total Submissions: 293.1K</li><li>Testcase Example:  â€˜â€œADOBECODEBANCâ€\nâ€ABCâ€â€˜</li></ul><p>ç»™ä½ ä¸€ä¸ªå­—ç¬¦ä¸² <code>s</code> ã€ä¸€ä¸ªå­—ç¬¦ä¸² <code>t</code> ã€‚è¿”å› <code>s</code> ä¸­æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„æœ€å°å­ä¸²ã€‚å¦‚æœ <code>s</code> ä¸­ä¸å­˜åœ¨æ¶µç›– <code>t</code> æ‰€æœ‰å­—ç¬¦çš„å­ä¸²ï¼Œåˆ™è¿”å›ç©ºå­—ç¬¦ä¸² <code>""</code> ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>å¦‚æœ <code>s</code> ä¸­å­˜åœ¨è¿™æ ·çš„å­ä¸²ï¼Œæˆ‘ä»¬ä¿è¯å®ƒæ˜¯å”¯ä¸€çš„ç­”æ¡ˆã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>s = "ADOBECODEBANC", t = "ABC"<strong>è¾“å‡ºï¼š</strong>"BANC"</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>s = "a", t = "a"<strong>è¾“å‡ºï¼š</strong>"a"</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>1 <= s.length, t.length <= 10<sup>5</sup></code></li>    <li><code>s</code> å’Œ <code>t</code> ç”±è‹±æ–‡å­—æ¯ç»„æˆ</li></ul><p>Â </p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½è®¾è®¡ä¸€ä¸ªåœ¨ <code>o(n)</code> æ—¶é—´å†…è§£å†³æ­¤é—®é¢˜çš„ç®—æ³•å—ï¼Ÿ<h3 id="æ–¹æ³•1-åŒæŒ‡é’ˆ-æ»‘åŠ¨çª—å£"><a href="#æ–¹æ³•1-åŒæŒ‡é’ˆ-æ»‘åŠ¨çª—å£" class="headerlink" title="æ–¹æ³•1: åŒæŒ‡é’ˆ(æ»‘åŠ¨çª—å£)"></a>æ–¹æ³•1: åŒæŒ‡é’ˆ(æ»‘åŠ¨çª—å£)</h3><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/76_fig.gif"></p><p>æ€è·¯:</p><ul><li>é€šè¿‡è®¾ç½®å·¦å³ä¸¤ä¸ªæŒ‡é’ˆ(left&lt;=right), åœ¨ä¸¤æŒ‡é’ˆä¹‹é—´å½¢æˆä¸€ä¸ªçª—å£, æ¯æ¬¡ä»…ä»…ç§»åŠ¨ä¸€ä¾§çš„æŒ‡é’ˆ.</li><li>å½“å‰çª—å£æœªåŒ…å«tä¸­æ‰€éœ€çš„æ‰€æœ‰å­—ç¬¦ä¸², åˆ™å³ä¾§æŒ‡é’ˆå³ç§», å·¦ä¾§æŒ‡é’ˆä¸åŠ¨, ç›´è‡³æ»¡è¶³æ¡ä»¶; </li><li>æ­¤æ—¶å³ä¾§æŒ‡é’ˆä¿æŒä¸åŠ¨, å·¦ä¾§æŒ‡é’ˆç§»åŠ¨æ¥è·å¾—èƒ½æ»¡è¶³æ¡ä»¶çš„æœ€å°æ»‘åŠ¨çª—å£</li></ul><p>çŸ¥é“åŸç†å, éœ€è¦è§£å†³çš„é—®é¢˜å¦‚ä¸‹:</p><ul><li><p>å¦‚ä½•åˆ¤æ–­æ»‘åŠ¨çª—å£ä¸­æ˜¯å¦åŒ…å«tä¸­å…¨éƒ¨å­—ç¬¦</p><ol><li>è®¾ç½® <code>flag</code> æ•°ç»„ç”¨æ¥è®°å½•tä¸­å‡ºç°çš„å­—æ¯</li><li>è®¾ç½® <code>chars</code> æ•°ç»„ç”¨æ¥è®°å½•tä¸­å­—æ¯å‡ºç°çš„æ¬¡æ•°, ä¹Ÿå¯å½“ä½œæ»‘åŠ¨çª—å£ä¸­è¿˜éœ€è¦ç›¸åº”å­—æ¯çš„ä¸ªæ•°.  <strong>(å½“ä¸ªæ•°ä¸ºè´Ÿå€¼åˆ™ä»£è¡¨è¯¥å­—æ¯æœ‰å¤šä½™)</strong></li><li>è®¾ç½® <code>count</code> å˜é‡æ¥è¡¨ç¤ºæ»‘åŠ¨çª—å£å·²åŒ…å«tä¸­å­—æ¯çš„ä¸ªæ•°, å½“ <code>count == t.size()</code> æ—¶è¡¨ç¤ºå½“å‰çª—å£å·²åŒ…å«tä¸­æ‰€æœ‰å­—æ¯, è¿™ä¹Ÿæ˜¯æ»‘åŠ¨çª—å£å·¦ä¾§ä¸‹æ ‡å³ç§»çš„æ¡ä»¶</li><li><code>flag</code> , <code>chars</code> ä¹Ÿå¯ç”¨ <code>hashtable</code></li><li>å› ä¸ºå­—æ¯ <code>z</code> å¯¹åº”çš„ASCIIç æ˜¯ <code>123</code> , æ‰€ä»¥å°†æ•°ç»„é•¿åº¦è®¾ä¸º123å³å¯, ä¸è¿‡å°†å…¶è®¾ç½®ä¸º2çš„æ•´æ•°å¹‚128æ›´å¥½</li></ol></li><li><p>å¦‚ä½•è®¾ç½®æ»‘åŠ¨çª—å£çš„ç§»åŠ¨</p><ol><li>å…·ä½“è®¾ç½®è§ä»£ç æ³¨é‡Š</li><li>æ³¨æ„: è¿™é‡Œè®¾ç½®çš„æ»‘åŠ¨çª—å£çš„åŒºé—´ä¸º <code>[left, right)</code> , å·¦é—­å³å¼€, æ‰€ä»¥åŒºé—´é•¿åº¦ä¸º <code>right - left + 1</code></li></ol></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    string minWindow(string s, string t) &#123;            // chars å­˜å‚¨tä¸­å¯¹åº”å­—æ¯å‡ºç°çš„æ¬¡æ•°            // flag è®°å½•tä¸­å‡ºç°çš„å­—æ¯            vector&lt;int&gt; chars(128, 0);            vector&lt;bool&gt; flag(128, false);            for(int i=0; i&lt;t.size(); ++i)&#123;                flag[t[i]] = true;                ++chars[t[i]];            &#125;            int count=0, left=0, min_left = 0, min_size = s.size() + 1;            // count ä»£è¡¨æ»‘åŠ¨çª—å£ä¸­å·²åŒ…å«tä¸­å­—ç¬¦çš„ä¸ªæ•°            // min_leftç”¨äºè®°å½•æœ€å°æ»‘åŠ¨çª—å£çš„å·¦ä¾§ä¸‹æ ‡            // min_size ç”¨äºè®°å½•æœ€å°æ»‘åŠ¨çª—å£å¤§å°            for(int right=0; right&lt;s.size(); ++right )&#123;                if(flag[s[right]])&#123;                    if(--chars[s[right]]&gt;=0)&#123;                        ++count;                    &#125;                    while(count==t.size())&#123;                        // æ›´æ–°æœ€å°æ»‘åŠ¨çª—å£                        if(right - left + 1 &lt; min_size)&#123;                            min_left = left;                            min_size = right -left + 1;                        &#125;                        // è‹¥å·¦è¾¹å¾…æ»‘åŠ¨å…ƒç´ æ˜¯tä¸­å…ƒç´ ,å¹¶ä¸”è‹¥æ»‘åŠ¨, å½“å‰æ»‘åŠ¨çª—å£ä¸å†åŒ…å«tä¸­æ‰€æœ‰å­—ç¬¦                        // å¾…æ»‘åŠ¨                        if(flag[s[left]] &amp;&amp; ++chars[s[left]] &gt; 0)&#123;                            --count;                        &#125;                        // æ‰§è¡Œæ»‘åŠ¨                         //å·¦ä¾§å‘å³æ»‘åŠ¨                        ++left;                    &#125;                &#125;            &#125;            return min_size &gt; s.size() ? &quot;&quot; : s.substr(min_left, min_size);    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324234551.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code> , æ³¨æ„è¿™é‡Œè™½ç„¶ <code>for</code> å¾ªç¯é‡Œé¢æœ‰ä¸€ä¸ª <code>while</code> ,ä½† <code>while</code> å¾ªç¯åªè´Ÿè´£ <code>left</code> æŒ‡é’ˆçš„ç§»åŠ¨, ä¸” <code>left</code> æŒ‡é’ˆåªä¼šä»å·¦å‘å³ç§»åŠ¨1æ¬¡, æ•…æ€»çš„æ—¶é—´å¤æ‚åº¦è¿˜æ˜¯ <code>O(n)</code></li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(1)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day18</title>
      <link href="/2021/03/23/leetcode-day18/"/>
      <url>/2021/03/23/leetcode-day18/</url>
      
        <content type="html"><![CDATA[<h3 id="142-ç¯å½¢é“¾è¡¨-II"><a href="#142-ç¯å½¢é“¾è¡¨-II" class="headerlink" title="[142] ç¯å½¢é“¾è¡¨ II"></a>[142] ç¯å½¢é“¾è¡¨ II</h3><p><a href="https://leetcode-cn.com/problems/linked-list-cycle-ii/description/">https://leetcode-cn.com/problems/linked-list-cycle-ii/description/</a></p><ul><li>algorithms</li><li>Medium (54.35%)</li><li>Likes:    923</li><li>Dislikes: -</li><li>Total Accepted:    201.4K</li><li>Total Submissions: 369.7K</li><li>Testcase Example:  â€˜[3,2,0,-4]\n1â€™</li></ul><p>ç»™å®šä¸€ä¸ªé“¾è¡¨ï¼Œè¿”å›é“¾è¡¨å¼€å§‹å…¥ç¯çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚Â å¦‚æœé“¾è¡¨æ— ç¯ï¼Œåˆ™è¿”å›Â <code>null</code>ã€‚</p><p>ä¸ºäº†è¡¨ç¤ºç»™å®šé“¾è¡¨ä¸­çš„ç¯ï¼Œæˆ‘ä»¬ä½¿ç”¨æ•´æ•° <code>pos</code> æ¥è¡¨ç¤ºé“¾è¡¨å°¾è¿æ¥åˆ°é“¾è¡¨ä¸­çš„ä½ç½®ï¼ˆç´¢å¼•ä» 0 å¼€å§‹ï¼‰ã€‚ å¦‚æœ <code>pos</code> æ˜¯ <code>-1</code>ï¼Œåˆ™åœ¨è¯¥é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚<strong>æ³¨æ„ï¼Œ<code>pos</code> ä»…ä»…æ˜¯ç”¨äºæ ‡è¯†ç¯çš„æƒ…å†µï¼Œå¹¶ä¸ä¼šä½œä¸ºå‚æ•°ä¼ é€’åˆ°å‡½æ•°ä¸­ã€‚</strong></p><p><strong>è¯´æ˜ï¼š</strong>ä¸å…è®¸ä¿®æ”¹ç»™å®šçš„é“¾è¡¨ã€‚</p><p><strong>è¿›é˜¶ï¼š</strong></p><ul>    <li>ä½ æ˜¯å¦å¯ä»¥ä½¿ç”¨ <code>O(1)</code> ç©ºé—´è§£å†³æ­¤é¢˜ï¼Ÿ</li></ul><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><p><img loading="lazy" alt="" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324201825.png" style="height: 97px; width: 300px;" /></p><pre><strong>è¾“å…¥ï¼š</strong>head = [3,2,0,-4], pos = 1<strong>è¾“å‡ºï¼š</strong>è¿”å›ç´¢å¼•ä¸º 1 çš„é“¾è¡¨èŠ‚ç‚¹<strong>è§£é‡Šï¼š</strong>é“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬äºŒä¸ªèŠ‚ç‚¹ã€‚</pre><p><strong>ç¤ºä¾‹Â 2ï¼š</strong></p><p><img loading="lazy" alt="" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324201857.png" style="height: 74px; width: 141px;" /></p><pre><strong>è¾“å…¥ï¼š</strong>head = [1,2], pos = 0<strong>è¾“å‡ºï¼š</strong>è¿”å›ç´¢å¼•ä¸º 0 çš„é“¾è¡¨èŠ‚ç‚¹<strong>è§£é‡Šï¼š</strong>é“¾è¡¨ä¸­æœ‰ä¸€ä¸ªç¯ï¼Œå…¶å°¾éƒ¨è¿æ¥åˆ°ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ã€‚</pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><p><img loading="lazy" alt="" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324201929.png" style="height: 45px; width: 45px;" /></p><pre><strong>è¾“å…¥ï¼š</strong>head = [1], pos = -1<strong>è¾“å‡ºï¼š</strong>è¿”å› null<strong>è§£é‡Šï¼š</strong>é“¾è¡¨ä¸­æ²¡æœ‰ç¯ã€‚</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li>é“¾è¡¨ä¸­èŠ‚ç‚¹çš„æ•°ç›®èŒƒå›´åœ¨èŒƒå›´ <code>[0, 10<sup>4</sup>]</code> å†…</li>    <li><code>-10<sup>5</sup> <= Node.val <= 10<sup>5</sup></code></li>    <li><code>pos</code> çš„å€¼ä¸º <code>-1</code> æˆ–è€…é“¾è¡¨ä¸­çš„ä¸€ä¸ªæœ‰æ•ˆç´¢å¼•</li></ul><h3 id="æ–¹æ³•1-åŒæŒ‡é’ˆ-å¿«æ…¢æŒ‡é’ˆ"><a href="#æ–¹æ³•1-åŒæŒ‡é’ˆ-å¿«æ…¢æŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•1: åŒæŒ‡é’ˆ(å¿«æ…¢æŒ‡é’ˆ)"></a>æ–¹æ³•1: åŒæŒ‡é’ˆ(å¿«æ…¢æŒ‡é’ˆ)</h3><p>å¯¹äºé“¾è¡¨æ‰¾ç¯è·¯çš„é—®é¢˜, æœ‰ä¸€ç§é€šç”¨è§£æ³•â€“å¿«æ…¢æŒ‡é’ˆ(Floydåˆ¤åœˆæ³•).</p><p>ç»™å®šä¸¤ä¸ªæŒ‡é’ˆï¼Œ åˆ†åˆ«å‘½åä¸º slow å’Œ fastï¼Œèµ·å§‹ä½ç½®åœ¨é“¾è¡¨çš„å¼€å¤´ã€‚æ¯æ¬¡ fast å‰è¿›ä¸¤æ­¥ï¼Œslow å‰è¿›ä¸€æ­¥ã€‚å¦‚æœ fast å¯ä»¥èµ°åˆ°å°½å¤´ï¼Œé‚£ä¹ˆè¯´æ˜æ²¡æœ‰ç¯è·¯;å¦‚æœ fast å¯ä»¥æ— é™èµ°ä¸‹å»ï¼Œé‚£ä¹ˆè¯´æ˜ä¸€å®šæœ‰ç¯è·¯ï¼Œä¸”ä¸€å®šå­˜ åœ¨ä¸€ä¸ªæ—¶åˆ» slow å’Œ fast ç›¸é‡ã€‚å½“ slow å’Œ fast ç¬¬ä¸€æ¬¡ç›¸é‡æ—¶ï¼Œæˆ‘ä»¬å°† fast é‡æ–°ç§»åŠ¨åˆ°é“¾è¡¨å¼€å¤´ï¼Œå¹¶ è®© slow å’Œ fast æ¯æ¬¡éƒ½å‰è¿›ä¸€æ­¥ã€‚å½“ slow å’Œ fast ç¬¬äºŒæ¬¡ç›¸é‡æ—¶ï¼Œç›¸é‡çš„èŠ‚ç‚¹å³ä¸ºç¯è·¯çš„å¼€å§‹ç‚¹ã€‚</p><p>åŸç†è§£é‡Šå¦‚ä¸‹:</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324193621.png"></p><ul><li><p>å‡è®¾ä¸¤æŒ‡é’ˆåœ¨ç´«è‰²ç‚¹å¤„ç›¸é‡, ä¸”æ­¤æ—¶slowæŒ‡é’ˆä¸€å®šæ˜¯å…¥ç¯çš„ç¬¬ä¸€åœˆ, slowæŒ‡é’ˆèµ°çš„è·ç¦»æ˜¯ $a+b$ , fastæŒ‡é’ˆèµ°çš„è·ç¦»æ˜¯ $a+n(b+c)+b = a+(n+1)b+nc$ , ç”±äºfastæŒ‡é’ˆä¸€æ¬¡å‰è¿›2æ­¥, slowæŒ‡é’ˆä¸€æ¬¡å‰è¿›1æ­¥, æ•…<br>$a+(n+1)b+nc = 2(a+b)$ , å¯å¾— $a=(n-1)(b+c)+c$</p></li><li><p>æ­¤æ—¶é‡æ–°è®¾ç½®fastæŒ‡å‘å¤´èŠ‚ç‚¹, ä¸¤æŒ‡é’ˆå†ä»¥ç›¸åŒé€Ÿåº¦å‰è¿›, åˆ™ä¸€å®šèƒ½åœ¨ç¯è·¯èµ·ç‚¹ç›¸é‡</p></li><li><p>ä¸ºä½•ä¸¤æŒ‡é’ˆä¸€å®šå¯ä»¥åœ¨slowæŒ‡é’ˆå…¥ç¯ç¬¬ä¸€åœˆç›¸é‡?</p><ul><li>å½“slowåœ¨ç¯è·¯èµ·ç‚¹æ—¶, fastä¸€å®šåœ¨ç¯è·¯çš„æŸä¸€ä½ç½®, slowåœ¨ç¯è·¯å‰è¿›1åœˆ, fastå¯ä»¥å‰è¿›2åœˆ,æ‰€ä»¥slowå’Œfastä¸€å®šå¯ä»¥åœ¨slowå‰è¿›ä¸€åœˆå†…ç›¸é‡</li></ul></li><li><p>ä¸ºä½•è¦å°†fasté€Ÿåº¦è®¾ä¸º2å€slow?</p><ul><li>äº‹å®ä¸Š, fasté€Ÿåº¦å¯ä»¥æ˜¯slowé€Ÿåº¦çš„ä»»æ„å€, ä»»æ„å€æ•°å¯èƒ½å°±æ²¡æœ‰ä¸€åœˆå†…ç›¸é‡ä¹Ÿæ²¡æœ‰ç›¸é‡ç‚¹åŠ ä¸Šç¯å¤–èŠ‚ç‚¹é•¿åº¦åˆšå¥½æ˜¯å…¥ç¯ç‚¹è¿™äº›æ€§è´¨</li></ul></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    ListNode *detectCycle(ListNode *head) &#123;            ListNode *fast = head, *slow = head;            do&#123;                if(!fast || !fast-&gt;next) return nullptr;                fast = fast-&gt;next-&gt;next;                slow = slow-&gt;next;            &#125;while(fast != slow);            fast = head;            while(fast!=slow)&#123;                fast = fast-&gt;next;                slow = slow-&gt;next;            &#125;            return fast;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324195636.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(N)</code> åˆ¤æ–­æ˜¯å¦ä¸ºç¯è·¯æ—¶, slowæŒ‡é’ˆæ²¡æœ‰èµ°å®Œä¸€åœˆ, åˆ¤æ–­ç¯è·¯èµ·ç‚¹æ—¶, slowèµ°è¿‡çš„è·ç¦»ä¹Ÿä¸ä¼šè¶…è¿‡é“¾è¡¨çš„æ€»é•¿åº¦. å› æ­¤, æ—¶é—´å¤æ‚åº¦ä¸º <code>O(N) + O(N) = O(N)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-å“ˆå¸Œè¡¨"><a href="#æ–¹æ³•2-å“ˆå¸Œè¡¨" class="headerlink" title="æ–¹æ³•2: å“ˆå¸Œè¡¨"></a>æ–¹æ³•2: å“ˆå¸Œè¡¨</h3><p>éå†æ•´ä¸ªé“¾è¡¨, è®°å½•æ¯ä¸ªèŠ‚ç‚¹, è‹¥å‡ºç°é‡å¤èŠ‚ç‚¹, åˆ™è¯¥é“¾è¡¨å«æœ‰ç¯è·¯, ä¸”è¯¥é‡å¤èŠ‚ç‚¹å³ä¸ºç¯è·¯èµ·å§‹ç‚¹</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    ListNode *detectCycle(ListNode *head) &#123;            unordered_set&lt;ListNode *&gt; visited;            while(head!=nullptr)&#123;                if(visited.count(head))&#123;                    return head;                &#125;                visited.insert(head);                head = head-&gt;next;            &#125;            return nullptr;        &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_images/img/20210324201142.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(N)</code> , åªéœ€éå†ä¸€æ¬¡é“¾è¡¨</li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(N)</code>, éœ€è¦å»ºç«‹é¢å¤–çš„hashè¡¨, è¡¨é•¿ä¸ºN</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day17</title>
      <link href="/2021/03/22/leetcode-day17/"/>
      <url>/2021/03/22/leetcode-day17/</url>
      
        <content type="html"><![CDATA[<h2 id="88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"><a href="#88-åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„" class="headerlink" title="[88] åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„"></a>[88] åˆå¹¶ä¸¤ä¸ªæœ‰åºæ•°ç»„</h2><p><a href="https://leetcode-cn.com/problems/merge-sorted-array/description/">https://leetcode-cn.com/problems/merge-sorted-array/description/</a></p><ul><li>algorithms</li><li>Easy (49.33%)</li><li>Likes:    808</li><li>Dislikes: -</li><li>Total Accepted:    291.8K</li><li>Total Submissions: 589.2K</li><li>Testcase Example:  â€˜[1,2,3,0,0,0]\n3\n[2,5,6]\n3â€™</li><li>Source Code:       88.merge-sorted-array.cpp</li></ul><p>ç»™ä½ ä¸¤ä¸ªæœ‰åºæ•´æ•°æ•°ç»„Â <code>nums1</code><em> </em>å’Œ <code>nums2</code>ï¼Œè¯·ä½ å°† <code>nums2</code><em> </em>åˆå¹¶åˆ°Â <code>nums1</code><em>Â </em>ä¸­<em>ï¼Œ</em>ä½¿ <code>nums1</code><em> </em>æˆä¸ºä¸€ä¸ªæœ‰åºæ•°ç»„ã€‚</p><p>åˆå§‹åŒ–Â <code>nums1</code> å’Œ <code>nums2</code> çš„å…ƒç´ æ•°é‡åˆ†åˆ«ä¸ºÂ <code>m</code> å’Œ <code>n</code><em> </em>ã€‚ä½ å¯ä»¥å‡è®¾Â <code>nums1</code><em> </em>çš„ç©ºé—´å¤§å°ç­‰äºÂ <code>m + n</code>ï¼Œè¿™æ ·å®ƒå°±æœ‰è¶³å¤Ÿçš„ç©ºé—´ä¿å­˜æ¥è‡ª <code>nums2</code> çš„å…ƒç´ ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums1 = [1,2,3,0,0,0], m = 3, nums2 = [2,5,6], n = 3<strong>è¾“å‡ºï¼š</strong>[1,2,2,3,5,6]</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>nums1 = [1], m = 1, nums2 = [], n = 0<strong>è¾“å‡ºï¼š</strong>[1]</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>nums1.length == m + n</code></li>    <li><code>nums2.length == n</code></li>    <li><code>0 <= m, n <= 200</code></li>    <li><code>1 <= m + n <= 200</code></li>    <li><code>-10<sup>9</sup> <= nums1[i], nums2[i] <= 10<sup>9</sup></code></li></ul><h3 id="æ–¹æ³•1-ä¼˜ç¾çš„åŒæŒ‡é’ˆ"><a href="#æ–¹æ³•1-ä¼˜ç¾çš„åŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•1: ä¼˜ç¾çš„åŒæŒ‡é’ˆ!"></a>æ–¹æ³•1: ä¼˜ç¾çš„åŒæŒ‡é’ˆ!</h3><p>ç”±äºä¸¤ä¸ªæ•°ç»„æ˜¯æœ‰åºçš„, æ‰€ä»¥å¯ä»¥åˆ†åˆ«åœ¨ä¸¤ä¸ªæ•°ç»„æœ«å°¾è®¾ç½®æŒ‡é’ˆ, æ¯”è¾ƒä»–ä»¬çš„å€¼, è¾ƒå¤§çš„ç›´æ¥å†™å…¥ <code>nums1</code> æ•°ç»„çš„æœ«å°¾, ä¸ºäº†å†™å…¥, è¿˜éœ€è®¾ç½®ä¸€ä¸ª <code>pos</code> æŒ‡é’ˆæ¥è®°å½•ä½ç½®</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324175252.png"></p><p>å½“ <code>nums1</code> å®Œæˆé‡å†™, é‚£ä¹ˆå¯ç›´æ¥å°† <code>nums2</code> ä¸­çš„æ•°å†™å…¥ <code>nums1</code> å³å¯; è‹¥ <code>nums2</code> å…ˆå®Œæˆ, å› ä¸º <code>nums1</code> ä¸­æœ¬å°±æœ‰åº, åˆ™å®Œæˆé‡æ’</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    void merge(vector&lt;int&gt;&amp; nums1, int m, vector&lt;int&gt;&amp; nums2, int n) &#123;            int pos = (m--) + (n--) -1;            while(m&gt;=0 &amp;&amp; n&gt;=0)&#123;                nums1[pos--] = nums1[m] &gt; nums2[n] ? nums1[m--] : nums2[n--];             &#125;            while(n&gt;=0)&#123;                nums1[pos--] = nums2[n--];            &#125;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324180346.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(m+n)</code> ,  æœ€å¤šç§»åŠ¨ <code>m+n</code> æ¬¡</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code> , ç›´æ¥åœ¨ <code>nums1</code> ä¸Šæ“ä½œ, æ— éœ€é¢å¤–ç©ºé—´</li></ul><p>æ³¨æ„: è¿™é‡Œç”¨åˆ°äº† <code>a++, ++a</code> çš„ä¸€äº›å°æŠ€å·§. </p><ul><li><code>a++</code> , å°†aåŠ 1, è¿”å›å€¼ä¸º <code>a</code></li><li><code>++a</code> , å°†aåŠ 1, è¿”å›å€¼ä¸º <code>a+1</code></li><li>è‹¥åªå¸Œæœ›å¢åŠ açš„å€¼, ä¸éœ€è¦è¿”å›å€¼, åˆ™æ¨è <code>++a</code> , è¿è¡Œé€Ÿåº¦å¿«</li></ul>]]></content>
      
      
      <categories>
          
          <category> åŒæŒ‡é’ˆ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day16</title>
      <link href="/2021/03/21/leetcode-day16/"/>
      <url>/2021/03/21/leetcode-day16/</url>
      
        <content type="html"><![CDATA[<h2 id="åŒæŒ‡é’ˆ"><a href="#åŒæŒ‡é’ˆ" class="headerlink" title="åŒæŒ‡é’ˆ"></a>åŒæŒ‡é’ˆ</h2><ul><li><p>åŒæŒ‡é’ˆä¸»è¦ç”¨äºéå†æ•°ç»„ï¼Œä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘ä¸åŒçš„å…ƒç´ ï¼Œä»è€ŒååŒå®Œæˆä»»åŠ¡ã€‚ä¹Ÿå¯ä»¥å»¶ä¼¸åˆ°å¤š ä¸ªæ•°ç»„çš„å¤šä¸ªæŒ‡é’ˆã€‚</p></li><li><p>è‹¥ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€æ•°ç»„ï¼Œéå†æ–¹å‘ç›¸åŒä¸”ä¸ä¼šç›¸äº¤ï¼Œåˆ™ä¹Ÿç§°ä¸º <strong>æ»‘åŠ¨çª—å£</strong> (ä¸¤ä¸ªæŒ‡é’ˆåŒ…å›´çš„ åŒºåŸŸå³ä¸ºå½“å‰çš„çª—å£)ï¼Œç»å¸¸ç”¨äºåŒºé—´æœç´¢ã€‚</p></li><li><p>è‹¥ä¸¤ä¸ªæŒ‡é’ˆæŒ‡å‘åŒä¸€æ•°ç»„ï¼Œä½†æ˜¯éå†æ–¹å‘ç›¸åï¼Œåˆ™å¯ä»¥ç”¨æ¥è¿›è¡Œæœç´¢ï¼Œå¾…æœç´¢çš„æ•°ç»„å¾€å¾€æ˜¯ æ’å¥½åºçš„ã€‚</p></li></ul><h2 id="167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„"><a href="#167-ä¸¤æ•°ä¹‹å’Œ-II-è¾“å…¥æœ‰åºæ•°ç»„" class="headerlink" title="[167] ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„"></a>[167] ä¸¤æ•°ä¹‹å’Œ II - è¾“å…¥æœ‰åºæ•°ç»„</h2><p><a href="https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/description/">https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/description/</a></p><ul><li>algorithms</li><li>Easy (57.40%)</li><li>Likes:    490</li><li>Dislikes: -</li><li>Total Accepted:    201.7K</li><li>Total Submissions: 349.6K</li><li>Testcase Example:  â€˜[2,7,11,15]\n9â€™</li><li>Source Code:       167.two-sum-ii-input-array-is-sorted.cpp</li></ul><p>ç»™å®šä¸€ä¸ªå·²æŒ‰ç…§<strong><em> </em>å‡åºæ’åˆ—Â  </strong>çš„æ•´æ•°æ•°ç»„Â <code>numbers</code> ï¼Œè¯·ä½ ä»æ•°ç»„ä¸­æ‰¾å‡ºä¸¤ä¸ªæ•°æ»¡è¶³ç›¸åŠ ä¹‹å’Œç­‰äºç›®æ ‡æ•°Â <code>target</code> ã€‚</p><p>å‡½æ•°åº”è¯¥ä»¥é•¿åº¦ä¸º <code>2</code> çš„æ•´æ•°æ•°ç»„çš„å½¢å¼è¿”å›è¿™ä¸¤ä¸ªæ•°çš„ä¸‹æ ‡å€¼<em>ã€‚</em><code>numbers</code> çš„ä¸‹æ ‡ <strong>ä» 1 å¼€å§‹è®¡æ•°</strong> ï¼Œæ‰€ä»¥ç­”æ¡ˆæ•°ç»„åº”å½“æ»¡è¶³ <code>1 <= answer[0] < answer[1] <= numbers.length</code> ã€‚</p><p>ä½ å¯ä»¥å‡è®¾æ¯ä¸ªè¾“å…¥åªå¯¹åº”å”¯ä¸€çš„ç­”æ¡ˆï¼Œè€Œä¸”ä½ ä¸å¯ä»¥é‡å¤ä½¿ç”¨ç›¸åŒçš„å…ƒç´ ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>numbers = [2,7,11,15], target = 9<strong>è¾“å‡ºï¼š</strong>[1,2]<strong>è§£é‡Šï¼š</strong>2 ä¸ 7 ä¹‹å’Œç­‰äºç›®æ ‡æ•° 9 ã€‚å› æ­¤ index1 = 1, index2 = 2 ã€‚</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>numbers = [2,3,4], target = 6<strong>è¾“å‡ºï¼š</strong>[1,3]</pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>numbers = [-1,0], target = -1<strong>è¾“å‡ºï¼š</strong>[1,2]</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>2 <= numbers.length <= 3 * 10<sup>4</sup></code></li>    <li><code>-1000 <= numbers[i] <= 1000</code></li>    <li><code>numbers</code> æŒ‰ <strong>é€’å¢é¡ºåº</strong> æ’åˆ—</li>    <li><code>-1000 <= target <= 1000</code></li>    <li>ä»…å­˜åœ¨ä¸€ä¸ªæœ‰æ•ˆç­”æ¡ˆ</li></ul><h3 id="æ–¹æ³•1-åŒæŒ‡é’ˆ"><a href="#æ–¹æ³•1-åŒæŒ‡é’ˆ" class="headerlink" title="æ–¹æ³•1: åŒæŒ‡é’ˆ"></a>æ–¹æ³•1: åŒæŒ‡é’ˆ</h3><p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„åŒæŒ‡é’ˆåº”ç”¨, é€šè¿‡åœ¨æ•°ç»„é¦–å°¾è®¾ç½®å·¦å³æŒ‡é’ˆ, å°†å…¶å’Œä¸ <code>target</code> è¿›è¡Œå¯¹æ¯”, è‹¥ <code>sum &gt; target</code> ,åˆ™å°†å³æŒ‡é’ˆå·¦ç§», è‹¥ <code>sum &lt; target</code> , åˆ™å°†å·¦æŒ‡é’ˆå³ç§»</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; numbers, int target) &#123;            int left = 0, right = numbers.size() - 1, sum;            while(left &lt; right)&#123;                sum = numbers[left] + numbers[right];                if(target == sum) break;                if(target &gt; sum) left++;                else right--;            &#125;            return vector&lt;int&gt;&#123;left+1, right+1&#125;;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324171452.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code>, åŒæŒ‡é’ˆç§»åŠ¨æ€»æ•°æœ€å¤šä¸º n</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><p>å…³äºåŒæŒ‡é’ˆä¸ºä»€ä¹ˆä¸ä¼šæ¼æ‰ç­”æ¡ˆçš„è¯¦ç»†è§£é‡Š:</p><p><a href="https://leetcode-cn.com/problems/two-sum-ii-input-array-is-sorted/solution/yi-zhang-tu-gao-su-ni-on-de-shuang-zhi-zhen-jie-fa/">ä¸€å¼ å›¾å‘Šè¯‰ä½  O(n) çš„åŒæŒ‡é’ˆè§£æ³•çš„æœ¬è´¨åŸç†ï¼ˆC++/Javaï¼‰</a> </p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> åŒæŒ‡é’ˆ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day15</title>
      <link href="/2021/03/20/leetcode-day15/"/>
      <url>/2021/03/20/leetcode-day15/</url>
      
        <content type="html"><![CDATA[<h3 id="665-éé€’å‡æ•°åˆ—"><a href="#665-éé€’å‡æ•°åˆ—" class="headerlink" title="[665] éé€’å‡æ•°åˆ—"></a>[665] éé€’å‡æ•°åˆ—</h3><p><a href="https://leetcode-cn.com/problems/non-decreasing-array/description/">https://leetcode-cn.com/problems/non-decreasing-array/description/</a></p><ul><li>algorithms</li><li>Easy (26.42%)</li><li>Likes:    549</li><li>Dislikes: -</li><li>Total Accepted:    62.8K</li><li>Total Submissions: 236.8K</li><li>Testcase Example:  â€˜[4,2,3]â€™</li></ul><p>ç»™ä½ ä¸€ä¸ªé•¿åº¦ä¸ºÂ <code>n</code>Â çš„æ•´æ•°æ•°ç»„ï¼Œè¯·ä½ åˆ¤æ–­åœ¨ <strong>æœ€å¤š </strong>æ”¹å˜Â <code>1</code> ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹ï¼Œè¯¥æ•°ç»„èƒ½å¦å˜æˆä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚</p><p>æˆ‘ä»¬æ˜¯è¿™æ ·å®šä¹‰ä¸€ä¸ªéé€’å‡æ•°åˆ—çš„ï¼šÂ å¯¹äºæ•°ç»„ä¸­ä»»æ„çš„Â <code>i</code> <code>(0 <= i <= n-2)</code>ï¼Œæ€»æ»¡è¶³ <code>nums[i] <= nums[i + 1]</code>ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong> nums = [4,2,3]<strong>è¾“å‡º:</strong> true<strong>è§£é‡Š:</strong> ä½ å¯ä»¥é€šè¿‡æŠŠç¬¬ä¸€ä¸ª4å˜æˆ1æ¥ä½¿å¾—å®ƒæˆä¸ºä¸€ä¸ªéé€’å‡æ•°åˆ—ã€‚</pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre><strong>è¾“å…¥:</strong> nums = [4,2,1]<strong>è¾“å‡º:</strong> false<strong>è§£é‡Š:</strong> ä½ ä¸èƒ½åœ¨åªæ”¹å˜ä¸€ä¸ªå…ƒç´ çš„æƒ…å†µä¸‹å°†å…¶å˜ä¸ºéé€’å‡æ•°åˆ—ã€‚</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>1 <= n <= 10 ^ 4</code></li>    <li><code>- 10 ^ 5Â <= nums[i] <= 10 ^ 5</code></li></ul><h3 id="æ–¹æ³•1-è´ªå¿ƒç®—æ³•"><a href="#æ–¹æ³•1-è´ªå¿ƒç®—æ³•" class="headerlink" title="æ–¹æ³•1: è´ªå¿ƒç®—æ³•"></a>æ–¹æ³•1: è´ªå¿ƒç®—æ³•</h3><p>æ€è·¯:<br>å½“å‡ºç°é€’å‡æ—¶, å¦‚ä½•é€‰æ‹©æ”¾ç¼©æ˜¯é—®é¢˜çš„å…³é”®, æœ‰ä¸¤ç§ä¿®æ”¹æ–¹å¼:</p><ul><li>æ‰©å¤§åè€…, å¯èƒ½ä¼šé€ æˆåç»­ä¸è¿å¢</li><li>ç¼©å°å‰è€…, å¯èƒ½ä¼šå¯¼è‡´å‰é¢ä¸è¿å¢</li></ul><p>æ‰€ä»¥è¦é‡‡å–è´ªå¿ƒçš„ç­–ç•¥ï¼Œåœ¨éå†æ—¶ï¼Œæ¯æ¬¡éœ€è¦çœ‹è¿ç»­çš„ä¸‰ä¸ªå…ƒç´ ï¼Œä¹Ÿå°±æ˜¯ç»å‰é¡¾åï¼Œéµå¾ªä»¥ä¸‹ä¸¤ä¸ªåŸåˆ™ï¼š</p><ul><li>å°½é‡ä¸æ‰©å¤§åè€…çš„å€¼, å› ä¸ºè¿™ä¼šä½¿åé¢é€’å¢å›°éš¾</li><li>è‹¥ç¼©å°å‰è€…, åˆ™è¦ä¿è¯ç¼©å°åä¾ç„¶æ»¡è¶³é€’å¢</li></ul><p>å®ç°æ­¥éª¤:</p><ul><li>éå†æ•°ç»„, è‹¥ <code>i+1</code> å‡ºç°é€’å‡, åˆ™åˆ¤æ–­ <code>i-1</code> ä¸ <code>i+1</code> çš„å¤§å°å…³ç³», å‰è€…å¤§åˆ™åªå¯æ‰§è¡Œæ”¾å¤§åè€…æ“ä½œ, åè€…å¤§åˆ™æ”¾å¤§ <code>i+1</code> å’Œç¼©å° <code>i</code> çš†å¯, éµå¾ªè´ªå¿ƒç­–ç•¥, åº”ç¼©å° <code>i</code></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool checkPossibility(vector&lt;int&gt;&amp; nums) &#123;        int size = nums.size();        bool flag = nums[0] &lt;= nums[1] ? true : false;        for(int i = 1; i &lt; size - 1; ++i)&#123;            if(nums[i] &gt; nums[i+1])&#123;                if(flag)&#123;                    if(nums[i-1] &gt; nums[i+1])&#123;                        nums[i+1] = nums[i];                    &#125;else&#123;                        nums[i] = nums[i+1];                    &#125;                    flag = false;                &#125;                else&#123;                    return false;                &#125;            &#125;        &#125;        return true;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324135254.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code>, ä»…éå†ä¸€æ¬¡æ•°ç»„</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day14</title>
      <link href="/2021/03/19/leetcode-day14/"/>
      <url>/2021/03/19/leetcode-day14/</url>
      
        <content type="html"><![CDATA[<h3 id="122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II"><a href="#122-ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº-II" class="headerlink" title="[122] ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II"></a>[122] ä¹°å–è‚¡ç¥¨çš„æœ€ä½³æ—¶æœº II</h3><p><a href="https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/description/">https://leetcode-cn.com/problems/best-time-to-buy-and-sell-stock-ii/description/</a></p><ul><li>algorithms</li><li>Easy (66.44%)</li><li>Likes:    1153</li><li>Dislikes: -</li><li>Total Accepted:    326.7K</li><li>Total Submissions: 487.3K</li><li>Testcase Example:  â€˜[7,1,5,3,6,4]â€™</li><li>Source Code:       122.best-time-to-buy-and-sell-stock-ii.cpp</li></ul><p>ç»™å®šä¸€ä¸ªæ•°ç»„ï¼Œå®ƒçš„ç¬¬&nbsp;<em>i</em> ä¸ªå…ƒç´ æ˜¯ä¸€æ”¯ç»™å®šè‚¡ç¥¨ç¬¬ <em>i</em> å¤©çš„ä»·æ ¼ã€‚</p><p>è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥è®¡ç®—ä½ æ‰€èƒ½è·å–çš„æœ€å¤§åˆ©æ¶¦ã€‚ä½ å¯ä»¥å°½å¯èƒ½åœ°å®Œæˆæ›´å¤šçš„äº¤æ˜“ï¼ˆå¤šæ¬¡ä¹°å–ä¸€æ”¯è‚¡ç¥¨ï¼‰ã€‚</p><p><strong>æ³¨æ„ï¼š</strong>ä½ ä¸èƒ½åŒæ—¶å‚ä¸å¤šç¬”äº¤æ˜“ï¼ˆä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ï¼‰ã€‚</p><p>&nbsp;</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong> [7,1,5,3,6,4]<strong>è¾“å‡º:</strong> 7<strong>è§£é‡Š:</strong> åœ¨ç¬¬ 2 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 3 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚&nbsp;    éšåï¼Œåœ¨ç¬¬ 4 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 3ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 6ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 6-3 = 3 ã€‚</pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre><strong>è¾“å…¥:</strong> [1,2,3,4,5]<strong>è¾“å‡º:</strong> 4<strong>è§£é‡Š:</strong> åœ¨ç¬¬ 1 å¤©ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 1ï¼‰çš„æ—¶å€™ä¹°å…¥ï¼Œåœ¨ç¬¬ 5 å¤© ï¼ˆè‚¡ç¥¨ä»·æ ¼ = 5ï¼‰çš„æ—¶å€™å–å‡º, è¿™ç¬”äº¤æ˜“æ‰€èƒ½è·å¾—åˆ©æ¶¦ = 5-1 = 4 ã€‚&nbsp;    æ³¨æ„ä½ ä¸èƒ½åœ¨ç¬¬ 1 å¤©å’Œç¬¬ 2 å¤©æ¥è¿è´­ä¹°è‚¡ç¥¨ï¼Œä¹‹åå†å°†å®ƒä»¬å–å‡ºã€‚&nbsp;    å› ä¸ºè¿™æ ·å±äºåŒæ—¶å‚ä¸äº†å¤šç¬”äº¤æ˜“ï¼Œä½ å¿…é¡»åœ¨å†æ¬¡è´­ä¹°å‰å‡ºå”®æ‰ä¹‹å‰çš„è‚¡ç¥¨ã€‚</pre><p><strong>ç¤ºä¾‹&nbsp;3:</strong></p><pre><strong>è¾“å…¥:</strong> [7,6,4,3,1]<strong>è¾“å‡º:</strong> 0<strong>è§£é‡Š:</strong> åœ¨è¿™ç§æƒ…å†µä¸‹, æ²¡æœ‰äº¤æ˜“å®Œæˆ, æ‰€ä»¥æœ€å¤§åˆ©æ¶¦ä¸º 0ã€‚</pre><p>&nbsp;</p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>1 &lt;= prices.length &lt;= 3 * 10 ^ 4</code></li>    <li><code>0 &lt;= prices[i]&nbsp;&lt;= 10 ^ 4</code></li></ul><h3 id="æ–¹æ³•1-è´ªå¿ƒç®—æ³•"><a href="#æ–¹æ³•1-è´ªå¿ƒç®—æ³•" class="headerlink" title="æ–¹æ³•1: è´ªå¿ƒç®—æ³•"></a>æ–¹æ³•1: è´ªå¿ƒç®—æ³•</h3><p>ç”±äºåŒä¸€å¤©å¯ä»¥è¿›è¡Œå¤šæ¬¡ä¹°å–, é‚£ä¹ˆå¦‚æœæŠŠæ‰€æœ‰çš„ä¸Šå¡å…¨éƒ¨ä¹°ä¸‹, é‚£ä¹ˆè·å¾—çš„åˆ©ç›Šä¸€å®šæœ€å¤§</p><p>æ³¨æ„: æ­¤ç§æ–¹æ³•ä»…å¯è·å¾—æœ€å¤§åˆ©æ¶¦, å¹¶éçœŸå®çš„ä¹°å–æƒ…å†µ</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int maxProfit(vector&lt;int&gt;&amp; prices) &#123;            int res = 0;            int size = prices.size();            for(int i = 1; i &lt; size; ++i)&#123;                if(prices[i] &gt; prices[i-1])&#123;                    res += prices[i] - prices[i-1];                &#125;            &#125;            return res;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324104701.png"></p><p>å®˜æ–¹è§£æ³•:</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int maxProfit(vector&lt;int&gt;&amp; prices) &#123;            int res = 0;            int size = prices.size();            for(int i = 1; i &lt; size; ++i)&#123;                    res += max(0, prices[i] - prices[i-1]);            &#125;            return res;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324104833.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code>, ä»…éœ€ä¸€æ¬¡éå†</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code>, å¸¸æ•°ç©ºé—´</li></ul><h3 id="æ–¹æ³•2-åŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•2-åŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•2: åŠ¨æ€è§„åˆ’"></a>æ–¹æ³•2: åŠ¨æ€è§„åˆ’</h3><p>å¾…å®Œå–„</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day13</title>
      <link href="/2021/03/18/leetcode-day13/"/>
      <url>/2021/03/18/leetcode-day13/</url>
      
        <content type="html"><![CDATA[<h3 id="763-åˆ’åˆ†å­—æ¯åŒºé—´"><a href="#763-åˆ’åˆ†å­—æ¯åŒºé—´" class="headerlink" title="[763] åˆ’åˆ†å­—æ¯åŒºé—´"></a>[763] åˆ’åˆ†å­—æ¯åŒºé—´</h3><p><a href="https://leetcode-cn.com/problems/partition-labels/description/">https://leetcode-cn.com/problems/partition-labels/description/</a></p><ul><li>algorithms</li><li>Medium (76.57%)</li><li>Likes:    467</li><li>Dislikes: -</li><li>Total Accepted:    60.1K</li><li>Total Submissions: 78.6K</li><li>Testcase Example:  â€˜â€œababcbacadefegdehijhklijâ€â€˜</li><li>Source Code:       763.partition-labels.cpp</li></ul><p>å­—ç¬¦ä¸² <code>S</code> ç”±å°å†™å­—æ¯ç»„æˆã€‚æˆ‘ä»¬è¦æŠŠè¿™ä¸ªå­—ç¬¦ä¸²åˆ’åˆ†ä¸ºå°½å¯èƒ½å¤šçš„ç‰‡æ®µï¼ŒåŒä¸€å­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­ã€‚è¿”å›ä¸€ä¸ªè¡¨ç¤ºæ¯ä¸ªå­—ç¬¦ä¸²ç‰‡æ®µçš„é•¿åº¦çš„åˆ—è¡¨ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>S = "ababcbacadefegdehijhklij"<strong>è¾“å‡ºï¼š</strong>[9,7,8]<strong>è§£é‡Šï¼š</strong>åˆ’åˆ†ç»“æœä¸º "ababcbaca", "defegde", "hijhklij"ã€‚æ¯ä¸ªå­—æ¯æœ€å¤šå‡ºç°åœ¨ä¸€ä¸ªç‰‡æ®µä¸­ã€‚åƒ "ababcbacadefegde", "hijhklij" çš„åˆ’åˆ†æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºåˆ’åˆ†çš„ç‰‡æ®µæ•°è¾ƒå°‘ã€‚</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>S</code>çš„é•¿åº¦åœ¨<code>[1, 500]</code>ä¹‹é—´ã€‚</li>    <li><code>S</code>åªåŒ…å«å°å†™å­—æ¯ <code>'a'</code> åˆ° <code>'z'</code> ã€‚</li></ul><h3 id="æ–¹æ³•1-è´ªå¿ƒç®—æ³•"><a href="#æ–¹æ³•1-è´ªå¿ƒç®—æ³•" class="headerlink" title="æ–¹æ³•1: è´ªå¿ƒç®—æ³•"></a>æ–¹æ³•1: è´ªå¿ƒç®—æ³•</h3><ul><li>éå†æ•°ç»„, å¾—åˆ°æ¯ä¸ªå­—æ¯æœ€åå‡ºç°çš„ä½ç½®, è®°å½•åœ¨ hashtable ä¸­</li><li>å†æ¬¡éå†æ•°ç»„, è®¾ç½®ä¸¤ä¸ªæ ‡å¿— <code>start = end = 0</code> , åˆ†åˆ«ä»£è¡¨ä¸€ä¸ªå½“å‰ç‰‡æ®µçš„èµ·å§‹ä½ç½®å’Œå½“å‰å­—æ¯æœ€åå‡ºç°çš„ä½ç½®. åœ¨éå†çš„è¿‡ç¨‹ä¸­, æ›´æ–° <code>end = max(end, end_x)</code> , å…¶ä¸­ <code>end_x</code> ä¸ºhashtableä¸­è®°å½•çš„å­—æ¯ä½ç½®(å³æœ€åå‡ºç°çš„ä½ç½®)</li><li>å¦‚æœå½“å‰å­—æ¯çš„ä½ç½®ç­‰äº <code>end</code>, é‚£ä¹ˆå°†æ­¤ç‰‡æ®µé•¿åº¦ <strong><code>(end - start + 1)</code></strong> æ·»åŠ åˆ°è¿”å›ç»“æœä¸­, åŒæ—¶æ›´æ–°startçš„å€¼åˆ°ä¸‹ä¸€ä¸ªç‰‡æ®µ <code>start = end + 1</code></li></ul><p>ä¸Šè¿°åšæ³•ä½¿ç”¨è´ªå¿ƒçš„æ€æƒ³å¯»æ‰¾æ¯ä¸ªç‰‡æ®µå¯èƒ½çš„æœ€å°ç»“æŸä¸‹æ ‡ï¼Œå› æ­¤å¯ä»¥ä¿è¯æ¯ä¸ªç‰‡æ®µçš„é•¿åº¦ä¸€å®šæ˜¯ç¬¦åˆè¦æ±‚çš„æœ€çŸ­é•¿åº¦ï¼Œå¦‚æœå–æ›´çŸ­çš„ç‰‡æ®µï¼Œåˆ™ä¸€å®šä¼šå‡ºç°åŒä¸€ä¸ªå­—æ¯å‡ºç°åœ¨å¤šä¸ªç‰‡æ®µä¸­çš„æƒ…å†µã€‚ç”±äºæ¯æ¬¡å–çš„ç‰‡æ®µéƒ½æ˜¯ç¬¦åˆè¦æ±‚çš„æœ€çŸ­çš„ç‰‡æ®µï¼Œå› æ­¤å¾—åˆ°çš„ç‰‡æ®µæ•°ä¹Ÿæ˜¯æœ€å¤šçš„ã€‚</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; partitionLabels(string S) &#123;            int last_position_array[26];            for(int i=0;i&lt;S.size();++i)&#123;                last_position_array[S[i] - &#39;a&#39;] = i;            &#125;            int start =0, end = 0;            vector&lt;int&gt; res;            for(int i=0; i&lt;S.size(); ++i)&#123;                end = max(end, last_position_array[S[i] - &#39;a&#39;]);                if(i == end)&#123;                    res.push_back(end - start + 1);                    start = end + 1;                &#125;            &#125;            return res;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210324092412.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code> , åªéœ€éå†ä¸¤æ¬¡æ•°ç»„</li><li>ç©ºé—´å¤æ‚åº¦: <code>O()</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day12</title>
      <link href="/2021/03/17/leetcode-day12/"/>
      <url>/2021/03/17/leetcode-day12/</url>
      
        <content type="html"><![CDATA[<h3 id="452-ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ"><a href="#452-ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ" class="headerlink" title="[452] ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ"></a>[452] ç”¨æœ€å°‘æ•°é‡çš„ç®­å¼•çˆ†æ°”çƒ</h3><p><a href="https://leetcode-cn.com/problems/minimum-number-of-arrows-to-burst-balloons/description/">https://leetcode-cn.com/problems/minimum-number-of-arrows-to-burst-balloons/description/</a></p><ul><li>algorithms</li><li>Medium (50.95%)</li><li>Likes:    366</li><li>Dislikes: -</li><li>Total Accepted:    67.6K</li><li>Total Submissions: 133.8K</li><li>Testcase Example:  â€˜[[10,16],[2,8],[1,6],[7,12]]â€™</li></ul><p>åœ¨äºŒç»´ç©ºé—´ä¸­æœ‰è®¸å¤šçƒå½¢çš„æ°”çƒã€‚å¯¹äºæ¯ä¸ªæ°”çƒï¼Œæä¾›çš„è¾“å…¥æ˜¯æ°´å¹³æ–¹å‘ä¸Šï¼Œæ°”çƒç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ã€‚ç”±äºå®ƒæ˜¯æ°´å¹³çš„ï¼Œæ‰€ä»¥çºµåæ ‡å¹¶ä¸é‡è¦ï¼Œå› æ­¤åªè¦çŸ¥é“å¼€å§‹å’Œç»“æŸçš„æ¨ªåæ ‡å°±è¶³å¤Ÿäº†ã€‚å¼€å§‹åæ ‡æ€»æ˜¯å°äºç»“æŸåæ ‡ã€‚</p><p>ä¸€æ”¯å¼“ç®­å¯ä»¥æ²¿ç€ x è½´ä»ä¸åŒç‚¹å®Œå…¨å‚ç›´åœ°å°„å‡ºã€‚åœ¨åæ ‡ x å¤„å°„å‡ºä¸€æ”¯ç®­ï¼Œè‹¥æœ‰ä¸€ä¸ªæ°”çƒçš„ç›´å¾„çš„å¼€å§‹å’Œç»“æŸåæ ‡ä¸º <code>x</code><sub><code>start</code>ï¼Œ</sub><code>x</code><sub><code>end</code>ï¼Œ</sub> ä¸”æ»¡è¶³ Â <code>x<sub>start</sub>Â â‰¤ x â‰¤ x</code><sub><code>end</code>ï¼Œ</sub>åˆ™è¯¥æ°”çƒä¼šè¢«å¼•çˆ†<sub>ã€‚</sub>å¯ä»¥å°„å‡ºçš„å¼“ç®­çš„æ•°é‡æ²¡æœ‰é™åˆ¶ã€‚ å¼“ç®­ä¸€æ—¦è¢«å°„å‡ºä¹‹åï¼Œå¯ä»¥æ— é™åœ°å‰è¿›ã€‚æˆ‘ä»¬æƒ³æ‰¾åˆ°ä½¿å¾—æ‰€æœ‰æ°”çƒå…¨éƒ¨è¢«å¼•çˆ†ï¼Œæ‰€éœ€çš„å¼“ç®­çš„æœ€å°æ•°é‡ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•°ç»„ <code>points</code> ï¼Œå…¶ä¸­ <code>points [i] = [x<sub>start</sub>,x<sub>end</sub>]</code> ï¼Œè¿”å›å¼•çˆ†æ‰€æœ‰æ°”çƒæ‰€å¿…é¡»å°„å‡ºçš„æœ€å°å¼“ç®­æ•°ã€‚</p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>points = [[10,16],[2,8],[1,6],[7,12]]<strong>è¾“å‡ºï¼š</strong>2<strong>è§£é‡Šï¼š</strong>å¯¹äºè¯¥æ ·ä¾‹ï¼Œx = 6 å¯ä»¥å°„çˆ† [2,8],[1,6] ä¸¤ä¸ªæ°”çƒï¼Œä»¥åŠ x = 11 å°„çˆ†å¦å¤–ä¸¤ä¸ªæ°”çƒ</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>points = [[1,2],[3,4],[5,6],[7,8]]<strong>è¾“å‡ºï¼š</strong>4</pre><p><strong>ç¤ºä¾‹ 3ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>points = [[1,2],[2,3],[3,4],[4,5]]<strong>è¾“å‡ºï¼š</strong>2</pre><p><strong>ç¤ºä¾‹ 4ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>points = [[1,2]]<strong>è¾“å‡ºï¼š</strong>1</pre><p><strong>ç¤ºä¾‹ 5ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>points = [[2,3],[2,3]]<strong>è¾“å‡ºï¼š</strong>1</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>0 <= points.length <= 10<sup>4</sup></code></li>    <li><code>points[i].length == 2</code></li>    <li><code>-2<sup>31</sup> <= x<sub>start</sub> <Â x<sub>end</sub> <= 2<sup>31</sup> - 1</code></li></ul><h3 id="æ–¹æ³•1-æ’åº-è´ªå¿ƒç®—æ³•"><a href="#æ–¹æ³•1-æ’åº-è´ªå¿ƒç®—æ³•" class="headerlink" title="æ–¹æ³•1: æ’åº + è´ªå¿ƒç®—æ³•"></a>æ–¹æ³•1: æ’åº + è´ªå¿ƒç®—æ³•</h3><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210323210413.png"></p><p>è¯¥ç®­å¯ä¸€ç›´å‘å³ç§»åŠ¨, ç›´è‡³è“è‰²æ°”çƒå³è¾¹ç•Œ, å› æ­¤ç®­èƒ½ç§»åŠ¨çš„å‰ææ˜¯ <strong>ä¿è¯åŸæœ¬è¢«å¼•çˆ†çš„æ°”çƒä»ä¼šè¢«å¼•çˆ†</strong> , æ‰€ä»¥ <strong>ä¸€å®šå­˜åœ¨ä¸€ç§æœ€ä¼˜ï¼ˆå°„å‡ºçš„ç®­æ•°æœ€å°ï¼‰çš„æ–¹æ³•ï¼Œä½¿å¾—æ¯ä¸€æ”¯ç®­çš„å°„å‡ºä½ç½®éƒ½æ°å¥½å¯¹åº”ç€æŸä¸€ä¸ªæ°”çƒçš„å³è¾¹ç•Œã€‚</strong> , è€Œè¿™åªç®­çš„ä½ç½®, ä¸€å®šåœ¨ <strong>è“è‰²æ°”çƒå³è¾¹ç•Œ</strong> , è¿™æ˜¯å±€éƒ¨æœ€ä¼˜è§£, å»é™¤æ‰å·²ç»å°„çˆ†çš„æ°”çƒ, é‡å¤æ­¤æ–¹æ³•, åˆ™å¯æ‰¾åˆ°æœ€ä¼˜è§£. </p><p>æ€è·¯:    </p><ul><li>å°†æ•°ç»„æŒ‰å³ä¾§åŒºé—´å‡åºæ’åˆ—</li><li>å°†æœ€å·¦ä¾§æ°”çƒè®¾ç½®ä¸ºæ ‡å¿—æ°”çƒ, å–å…¶å³ä¾§ä½ç½® <code>y[i]</code> ä¸åé¢çš„æ°”çƒçš„å·¦ä¾§ä½ç½® <code>x[j]</code> åšå¯¹æ¯”, è‹¥ <code>y[i] &gt;= x[j]</code> , åˆ™æ°”çƒå¯è¢«å°„çˆ†; è‹¥å‡ºç° <code>y[i] &lt; x[j]</code> è¡¨ç¤ºå½“å‰ç®­å°„ä¸åˆ°è¯¥æ°”çƒ, åˆ™å°†è¯¥æ°”çƒè®¾ç½®ä¸ºæ ‡å¿—æ°”çƒ, è¿›è¡Œä¸‹ä¸€è½®æ¯”è¾ƒå³å¯</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int findMinArrowShots(vector&lt;vector&lt;int&gt;&gt;&amp; points) &#123;            if(points.empty())&#123;                return 0;            &#125;            sort(points.begin(), points.end(), [](vector&lt;int&gt;&amp; a, vector&lt;int&gt;&amp; b)&#123;                    return a[1] &lt; b[1];                    &#125;);            vector&lt;int&gt; point = points[0];            int count = 1;            for(int i=1; i &lt; points.size(); ++i)&#123;                if(point[1] &lt; points[i][0])&#123;                    point = points[i];                    count++;                &#125;            &#125;            return count;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210323212043.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(nlogn)</code>, æ’åºä¸º <code>O(nlogn)</code> , å†è¿›è¡Œä¸€æ¬¡éå† <code>O(n)</code></li><li>ç©ºé—´å¤æ‚åº¦: <code>O(logn)</code>, æ’åºæ‰€ä½¿ç”¨çš„æ ˆç©ºé—´</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day11</title>
      <link href="/2021/03/16/leetcode-day11/"/>
      <url>/2021/03/16/leetcode-day11/</url>
      
        <content type="html"><![CDATA[<h2 id="605-ç§èŠ±é—®é¢˜"><a href="#605-ç§èŠ±é—®é¢˜" class="headerlink" title="[605] ç§èŠ±é—®é¢˜"></a>[605] ç§èŠ±é—®é¢˜</h2><p><a href="https://leetcode-cn.com/problems/can-place-flowers/description/">https://leetcode-cn.com/problems/can-place-flowers/description/</a></p><ul><li>algorithms</li><li>Easy (34.14%)</li><li>Likes:    322</li><li>Dislikes: -</li><li>Total Accepted:    84.3K</li><li>Total Submissions: 249.4K</li><li>Testcase Example:  â€˜[1,0,0,0,1]\n1â€™</li><li>Source Code:       605.can-place-flowers.cpp</li></ul><p>å‡è®¾æœ‰ä¸€ä¸ªå¾ˆé•¿çš„èŠ±å›ï¼Œä¸€éƒ¨åˆ†åœ°å—ç§æ¤äº†èŠ±ï¼Œå¦ä¸€éƒ¨åˆ†å´æ²¡æœ‰ã€‚å¯æ˜¯ï¼ŒèŠ±ä¸èƒ½ç§æ¤åœ¨ç›¸é‚»çš„åœ°å—ä¸Šï¼Œå®ƒä»¬ä¼šäº‰å¤ºæ°´æºï¼Œä¸¤è€…éƒ½ä¼šæ­»å»ã€‚</p><p>ç»™ä½ ä¸€ä¸ªæ•´æ•°æ•°ç»„Â Â <code>flowerbed</code> è¡¨ç¤ºèŠ±å›ï¼Œç”±è‹¥å¹² <code>0</code> å’Œ <code>1</code> ç»„æˆï¼Œå…¶ä¸­ <code>0</code> è¡¨ç¤ºæ²¡ç§æ¤èŠ±ï¼Œ<code>1</code> è¡¨ç¤ºç§æ¤äº†èŠ±ã€‚å¦æœ‰ä¸€ä¸ªæ•°Â <code>n</code><strong> </strong>ï¼Œèƒ½å¦åœ¨ä¸æ‰“ç ´ç§æ¤è§„åˆ™çš„æƒ…å†µä¸‹ç§å…¥Â <code>n</code><strong>Â </strong>æœµèŠ±ï¼Ÿèƒ½åˆ™è¿”å› <code>true</code> ï¼Œä¸èƒ½åˆ™è¿”å› <code>false</code>ã€‚</p><p>Â </p><p><strong>ç¤ºä¾‹ 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>flowerbed = [1,0,0,0,1], n = 1<strong>è¾“å‡ºï¼š</strong>true</pre><p><strong>ç¤ºä¾‹ 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>flowerbed = [1,0,0,0,1], n = 2<strong>è¾“å‡ºï¼š</strong>false</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>1 <= flowerbed.length <= 2 * 10<sup>4</sup></code></li>    <li><code>flowerbed[i]</code> ä¸º <code>0</code> æˆ– <code>1</code></li>    <li><code>flowerbed</code> ä¸­ä¸å­˜åœ¨ç›¸é‚»çš„ä¸¤æœµèŠ±</li>    <li><code>0 <= n <= flowerbed.length</code></li></ul><h3 id="æ–¹æ³•1-è·³æ ¼æ³•"><a href="#æ–¹æ³•1-è·³æ ¼æ³•" class="headerlink" title="æ–¹æ³•1: è·³æ ¼æ³•"></a>æ–¹æ³•1: è·³æ ¼æ³•</h3><p>è¯¥æ–¹æ³•ä»…éœ€ä¸€æ¬¡éå†, å¯åœ¨ä¸éå†å®Œçš„æƒ…å†µä¸‹å¾—å‡ºç­”æ¡ˆ</p><p>æ€è·¯å¦‚ä¸‹:</p><ul><li>éå†æ•°ç»„, è‹¥ <code>index</code> ä¸º1, åˆ™å¾€åè·³ä¸¤æ ¼</li><li>è‹¥ <code>index</code> ä¸º0, ç”±äºä¸Šä¸€æ¡æ“ä½œå¯å¾—, <code>index-1</code> ä¸€å®šä¸º0, åˆ™éœ€è¦åˆ¤æ–­ <code>index+1</code> çš„å€¼<ul><li>å½“ <code>index</code> ä¸ºæœ€åä¸€ä½, å¯ç›´æ¥ç§èŠ±, æ— éœ€å…¶ä»–åˆ¤æ–­</li><li><code>index+1</code> ä¸º0, åˆ™å¯ä»¥ç§èŠ±, å¯ä»¥å°† <code>index</code> ç½®ä¸º1, åç»­æŒ‰ç…§ç¬¬ä¸€æ¡è¿›è¡Œå¤„ç†</li><li><code>index+1</code> ä¸º1, ä¸å¯ç§èŠ±, å‘åè·³ä¸‰æ ¼</li></ul></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool canPlaceFlowers(vector&lt;int&gt;&amp; flowerbed, int n) &#123;            if(n == 0)&#123;                return true;            &#125;            int size = flowerbed.size();            for(int i=0; i&lt;size;)&#123;                if(flowerbed[i] == 1)&#123;                    i += 2;                &#125;else if(i == size - 1 || flowerbed[i+1] == 0)&#123;                    // è‹¥åœ¨æœ€åä¸€ä¸ªåˆ™ç›´æ¥å¯ä»¥ç§                    n--;                    if(n == 0)&#123;                        return n == 0;                    &#125;                    i+=2;                &#125;else&#123;                    i+=3;                &#125;            &#125;            return n == 0;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210323180355.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code>, ä»…éœ€ä¸€æ¬¡éå†</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul><h3 id="æ–¹æ³•2-å‰åç§èŠ±ï¼Œç¬é—´ç§’æ€"><a href="#æ–¹æ³•2-å‰åç§èŠ±ï¼Œç¬é—´ç§’æ€" class="headerlink" title="æ–¹æ³•2:å‰åç§èŠ±ï¼Œç¬é—´ç§’æ€"></a>æ–¹æ³•2:å‰åç§èŠ±ï¼Œç¬é—´ç§’æ€</h3><p><strong>å¦‚æœå­˜åœ¨è¿ç»­çš„3ä¸ª0, åˆ™ä¸€å®šèƒ½ç§èŠ±</strong></p><p>è‹¥ç›´æ¥è¿›è¡Œè®¨è®º, éœ€è¦è¿›è¡Œå¤æ‚çš„è¾¹ç•Œé—®é¢˜è®¨è®º, å¦‚</p><p><code>[0, 0, 1, 0, 0, 1, 0, 0]</code> è™½ç„¶é¦–å°¾éƒ½åªæœ‰2ä¸ª0, ä½†é¦–å°¾æ˜¯å¯ä»¥ç§èŠ±çš„<br>,æ‰€ä»¥éœ€è¦å¯¹é¦–å°¾è¿›è¡Œè®¨è®º</p><p>å…¶å®ä¸ç”¨è¿™æ ·, å¯ä»¥ç›´æ¥åœ¨æ•°ç»„ä¸¤ç«¯æ·»åŠ ä¸€ä¸ª <code>0</code> æ¥è§£å†³è¿™ä¸ªé—®é¢˜<br><code>[0, 0, 1, 0, 0, 1, 0, 0]</code> -&gt; <code>[0, 0, 0, 1, 0, 0, 1, 0, 0, 0]</code> </p><p>è¿™æ ·å°±å¯ä»¥ç»Ÿä¸€è®¨è®º</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    bool canPlaceFlowers(vector&lt;int&gt;&amp; flowerbed, int n) &#123;            if(n == 0)&#123;                return true;            &#125;            flowerbed.insert(flowerbed.begin(), 0);            flowerbed.insert(flowerbed.end(), 0);            for(int i = 1; i &lt; flowerbed.size() - 1; i++)&#123;                if(flowerbed[i-1] == 0 &amp;&amp; flowerbed[i] == 0 &amp;&amp; flowerbed[i+1] == 0)&#123;                    n--;                    flowerbed[i] = 1;                    if(n == 0)&#123;                        return n == 0;                    &#125;                &#125;            &#125;            return n == 0;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210323183030.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code>, ä»…éœ€ä¸€æ¬¡éå†</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day10</title>
      <link href="/2021/03/15/leetcode-day10/"/>
      <url>/2021/03/15/leetcode-day10/</url>
      
        <content type="html"><![CDATA[<h2 id="435-æ— é‡å åŒºé—´"><a href="#435-æ— é‡å åŒºé—´" class="headerlink" title="[435] æ— é‡å åŒºé—´"></a>[435] æ— é‡å åŒºé—´</h2><p><a href="https://leetcode-cn.com/problems/non-overlapping-intervals/description/">https://leetcode-cn.com/problems/non-overlapping-intervals/description/</a></p><ul><li>algorithms</li><li>Medium (49.21%)</li><li>Likes:    378</li><li>Dislikes: -</li><li>Total Accepted:    61.4K</li><li>Total Submissions: 124.8K</li><li>Testcase Example:  â€˜[[1,2]]â€™</li><li>Source Code:       435.non-overlapping-intervals.cpp</li></ul><p>ç»™å®šä¸€ä¸ªåŒºé—´çš„é›†åˆï¼Œæ‰¾åˆ°éœ€è¦ç§»é™¤åŒºé—´çš„æœ€å°æ•°é‡ï¼Œä½¿å‰©ä½™åŒºé—´äº’ä¸é‡å ã€‚</p><p><strong>æ³¨æ„:</strong></p><ol>    <li>å¯ä»¥è®¤ä¸ºåŒºé—´çš„ç»ˆç‚¹æ€»æ˜¯å¤§äºå®ƒçš„èµ·ç‚¹ã€‚</li>    <li>åŒºé—´ [1,2] å’Œ [2,3] çš„è¾¹ç•Œç›¸äº’&ldquo;æ¥è§¦&rdquo;ï¼Œä½†æ²¡æœ‰ç›¸äº’é‡å ã€‚</li></ol><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong> [ [1,2], [2,3], [3,4], [1,3] ]<strong>è¾“å‡º:</strong> 1<strong>è§£é‡Š:</strong> ç§»é™¤ [1,3] åï¼Œå‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚</pre><p><strong>ç¤ºä¾‹ 2:</strong></p><pre><strong>è¾“å…¥:</strong> [ [1,2], [1,2], [1,2] ]<strong>è¾“å‡º:</strong> 2<strong>è§£é‡Š:</strong> ä½ éœ€è¦ç§»é™¤ä¸¤ä¸ª [1,2] æ¥ä½¿å‰©ä¸‹çš„åŒºé—´æ²¡æœ‰é‡å ã€‚</pre><p><strong>ç¤ºä¾‹ 3:</strong></p><pre><strong>è¾“å…¥:</strong> [ [1,2], [2,3] ]<strong>è¾“å‡º:</strong> 0<strong>è§£é‡Š:</strong> ä½ ä¸éœ€è¦ç§»é™¤ä»»ä½•åŒºé—´ï¼Œå› ä¸ºå®ƒä»¬å·²ç»æ˜¯æ— é‡å çš„äº†ã€‚</pre><h3 id="æ–¹æ³•1-è´ªå¿ƒç®—æ³•"><a href="#æ–¹æ³•1-è´ªå¿ƒç®—æ³•" class="headerlink" title="æ–¹æ³•1: è´ªå¿ƒç®—æ³•"></a>æ–¹æ³•1: è´ªå¿ƒç®—æ³•</h3><p>è¦é€‰æ‹©ä¿ç•™åŒºé—´, åŒºé—´çš„ç»“å°¾ååˆ†é‡è¦. ç›¸åŒçš„èµ·å§‹ç©ºé—´, é€‰æ‹©çš„åŒºé—´ç»“å°¾è¶Šå°, ä½™ç•™ç»™å…¶ä»–åŒºé—´çš„ç©ºé—´å°±è¶Šå¤§, åˆ™å¯ä¿ç•™æ›´å¤šçš„ç©ºé—´. é¦–å…ˆç¡®å®šæœ€å·¦ä¾§åŒºé—´, å†é€‰æ‹©ä¸ä¹‹ä¸ç›¸äº¤çš„åŒºé—´ä¸­å³åŒºé—´æœ€å°çš„åŒºé—´, å°†è¯¥åŒºé—´å½“ä½œä½™ä¸‹ç©ºé—´çš„æœ€å·¦ä¾§ç©ºé—´, é‡å¤æ­¤æ“ä½œå³å¯. æ‰€ä»¥è´ªå¿ƒç­–ç•¥ä¸º: ä¼˜å…ˆä¿ç•™ <strong>ç»“å°¾å°</strong> ä¸” <strong>ä¸ç›¸äº¤</strong> çš„åŒºé—´. </p><ul><li>é¦–å…ˆæŒ‰ç…§å³åŒºé—´å¢åºæ’åº(ä½¿ç”¨Lambda)</li><li>æ¯æ¬¡é€‰æ‹©ç»“å°¾å°ä¸”å’Œå‰ä¸€åŒºé—´ä¸ç›¸äº¤çš„åŒºé—´</li></ul><p>æ³¨æ„: </p><ul><li><p>æ’åºåæœ€å·¦ä¾§å‡ºç° <code>[[1, 4], [2, 4], [3, 4]...]</code> è¯¥å¦‚ä½•é€‰æ‹©?</p><p>  ä»»é€‰ä¸€ä¸ªå³å¯, æˆ‘é€‰æ‹©çš„æ˜¯ç¬¬ä¸€é¡¹, åé¢ä¸å…¶ç›¸äº¤çš„ä¼šè¢«èˆå»</p></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int eraseOverlapIntervals(vector&lt;vector&lt;int&gt;&gt;&amp; intervals) &#123;            if(intervals.empty())&#123;                return 0;            &#125;            int size = intervals.size();            sort(intervals.begin(), intervals.end(), [](vector&lt;int&gt;&amp; a, vector&lt;int&gt;&amp; b)&#123;                    return a[1] &lt; b[1];                    &#125;);            int total = 0, prev = intervals[0][1];            for(int i = 1; i &lt; size; ++i)&#123;                if(intervals[i][0] &lt; prev)&#123;                    ++total;                &#125;                else&#123;                    prev = intervals[i][1];                &#125;            &#125;            return total;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210323170045.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(nlogn)</code>, éœ€è¦ <code>O(nlogn)</code> è¿›è¡Œæ’åº, å†éœ€è¦ <code>O(n)</code> è¿›è¡Œéå†</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(logn)</code>, æ’åºæ‰€éœ€è¦çš„æ ˆç©ºé—´</li></ul><h3 id="æ–¹æ³•2-åŠ¨æ€è§„åˆ’"><a href="#æ–¹æ³•2-åŠ¨æ€è§„åˆ’" class="headerlink" title="æ–¹æ³•2: åŠ¨æ€è§„åˆ’"></a>æ–¹æ³•2: åŠ¨æ€è§„åˆ’</h3><p>å¾…å®Œæˆ</p>]]></content>
      
      
      <categories>
          
          <category> è´ªå¿ƒç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day9</title>
      <link href="/2021/03/14/leetcode-day9/"/>
      <url>/2021/03/14/leetcode-day9/</url>
      
        <content type="html"><![CDATA[<h3 id="è´ªå¿ƒç®—æ³•"><a href="#è´ªå¿ƒç®—æ³•" class="headerlink" title="è´ªå¿ƒç®—æ³•:"></a>è´ªå¿ƒç®—æ³•:</h3><ul><li>é‡‡ç”¨è´ªå¿ƒçš„ç­–ç•¥, ä¿è¯æ¯æ¬¡æ“ä½œéƒ½æ˜¯å±€éƒ¨æœ€ä¼˜çš„, ä»è€Œä½¿æœ€åå¾—åˆ°çš„ç»“æœæ˜¯å…¨å±€æœ€ä¼˜çš„</li><li>å…¨å±€ç»“æœæ˜¯å±€éƒ¨ç»“æœçš„ç®€å•æ±‚å’Œ, ä¸”å±€éƒ¨ç»“æœäº’ä¸ç›¸å¹², å› æ­¤å±€éƒ¨æœ€ä¼˜ç­–ç•¥ä¹Ÿæ˜¯å…¨å±€æœ€ä¼˜ç­–ç•¥</li></ul><h3 id="135-åˆ†å‘ç³–æœ"><a href="#135-åˆ†å‘ç³–æœ" class="headerlink" title="[135] åˆ†å‘ç³–æœ"></a>[135] åˆ†å‘ç³–æœ</h3><p><a href="https://leetcode-cn.com/problems/candy/description/">https://leetcode-cn.com/problems/candy/description/</a></p><ul><li>algorithms</li><li>Hard (48.16%)</li><li>Likes:    508</li><li>Dislikes: -</li><li>Total Accepted:    68.3K</li><li>Total Submissions: 141.8K</li><li>Testcase Example:  â€˜[1,0,2]â€™</li><li>Source Code:       135.candy.cpp</li></ul><p>è€å¸ˆæƒ³ç»™å­©å­ä»¬åˆ†å‘ç³–æœï¼Œæœ‰ <em>N</em>Â ä¸ªå­©å­ç«™æˆäº†ä¸€æ¡ç›´çº¿ï¼Œè€å¸ˆä¼šæ ¹æ®æ¯ä¸ªå­©å­çš„è¡¨ç°ï¼Œé¢„å…ˆç»™ä»–ä»¬è¯„åˆ†ã€‚</p><p>ä½ éœ€è¦æŒ‰ç…§ä»¥ä¸‹è¦æ±‚ï¼Œå¸®åŠ©è€å¸ˆç»™è¿™äº›å­©å­åˆ†å‘ç³–æœï¼š</p><ul>    <li>æ¯ä¸ªå­©å­è‡³å°‘åˆ†é…åˆ° 1 ä¸ªç³–æœã€‚</li>    <li>è¯„åˆ†æ›´é«˜çš„å­©å­å¿…é¡»æ¯”ä»–ä¸¤ä¾§çš„é‚»ä½å­©å­è·å¾—æ›´å¤šçš„ç³–æœã€‚</li></ul><p>é‚£ä¹ˆè¿™æ ·ä¸‹æ¥ï¼Œè€å¸ˆè‡³å°‘éœ€è¦å‡†å¤‡å¤šå°‘é¢—ç³–æœå‘¢ï¼Ÿ</p><p>Â </p><p><strong>ç¤ºä¾‹Â 1ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>[1,0,2]<strong>è¾“å‡ºï¼š</strong>5<strong>è§£é‡Šï¼š</strong>ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 2ã€1ã€2 é¢—ç³–æœã€‚</pre><p><strong>ç¤ºä¾‹Â 2ï¼š</strong></p><pre><strong>è¾“å…¥ï¼š</strong>[1,2,2]<strong>è¾“å‡ºï¼š</strong>4<strong>è§£é‡Šï¼š</strong>ä½ å¯ä»¥åˆ†åˆ«ç»™è¿™ä¸‰ä¸ªå­©å­åˆ†å‘ 1ã€2ã€1 é¢—ç³–æœã€‚     ç¬¬ä¸‰ä¸ªå­©å­åªå¾—åˆ° 1 é¢—ç³–æœï¼Œè¿™å·²æ»¡è¶³ä¸Šè¿°ä¸¤ä¸ªæ¡ä»¶ã€‚</pre><h3 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯:"></a>æ€è·¯:</h3><ul><li><p>å°†æ‰€æœ‰å­©å­çš„ç³–æœæ•°é‡ç½®ä¸º1</p></li><li><p>ä»å·¦è‡³å³éå†è¯„åˆ†æ•°ç»„, å¦‚æœå·¦ä¾§è¯„åˆ†å°äºå³ä¾§, åˆ™å°†  <strong>å³ä¾§ç³–æœæ•°é‡æ”¹ä¸ºå·¦ä¾§ç³–æœæ•°é‡+1</strong> </p></li><li><p>ä»å³å¾€å·¦éå†è¯„åˆ†æ•°ç»„, å¦‚æœå·¦ä¾§è¯„åˆ†å¤§äºå³ä¾§, åˆ™ <strong>é€‰æ‹©å·¦ä¾§è¯„åˆ†ä¸å³ä¾§è¯„åˆ†+1çš„æœ€å¤§å€¼</strong></p><table><thead><tr><th>1</th><th>2</th><th>3</th><th>1</th><th>1</th></tr></thead><tbody><tr><td></td><td></td><td>j-1</td><td>j</td><td></td></tr></tbody></table><p>  è‹¥å‡ºç°ä»¥ä¸Šæƒ…å†µ, ç›´æ¥å¯¹ <code>j-1</code> é¡¹ +1 æˆ–ç­‰äº  <code>j</code> é¡¹+1, ä¼šé€ æˆé”™è¯¯</p></li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int candy(vector&lt;int&gt;&amp; ratings) &#123;        int size = ratings.size();        if(size &lt; 2)&#123;            return size;        &#125;        vector&lt;int&gt; num(size, 1);        for(int i = 0; i &lt; size - 1; ++i)&#123;            if(ratings[i] &lt; ratings[i+1])&#123;                num[i+1] = num[i] + 1;            &#125;        &#125;        for(int j = size - 1; j &gt; 0; --j)&#123;            if(ratings[j] &lt; ratings[j-1])&#123;                num[j-1] = max(num[j-1], num[j] + 1);            &#125;        &#125;        return accumulate(num.begin(), num.end(), 0);    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210323125046.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code> , åªéœ€éå†ä¸¤æ¬¡</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(n)</code></li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
            <tag> è´ªå¿ƒç®—æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day8</title>
      <link href="/2021/03/13/leetcode-day8/"/>
      <url>/2021/03/13/leetcode-day8/</url>
      
        <content type="html"><![CDATA[<h3 id="å‰‘æŒ‡-Offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"><a href="#å‰‘æŒ‡-Offer-09-ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—" class="headerlink" title="å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—"></a>å‰‘æŒ‡ Offer 09. ç”¨ä¸¤ä¸ªæ ˆå®ç°é˜Ÿåˆ—</h3><p>ç”¨ä¸¤ä¸ªæ ˆå®ç°ä¸€ä¸ªé˜Ÿåˆ—ã€‚é˜Ÿåˆ—çš„å£°æ˜å¦‚ä¸‹ï¼Œè¯·å®ç°å®ƒçš„ä¸¤ä¸ªå‡½æ•° <code>appendTail</code> å’Œ <code>deleteHead</code> ï¼Œåˆ†åˆ«å®Œæˆåœ¨é˜Ÿåˆ—å°¾éƒ¨æ’å…¥æ•´æ•°å’Œåœ¨é˜Ÿåˆ—å¤´éƒ¨åˆ é™¤æ•´æ•°çš„åŠŸèƒ½ã€‚(è‹¥é˜Ÿåˆ—ä¸­æ²¡æœ‰å…ƒç´ ï¼Œ<code>deleteHead</code>Â æ“ä½œè¿”å› -1 )</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code>è¾“å…¥ï¼š[&quot;CQueue&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;][[],[3],[],[]]è¾“å‡ºï¼š[null,null,3,-1]</code></pre><p>ç¤ºä¾‹ 2ï¼š</p><pre><code>è¾“å…¥ï¼š[&quot;CQueue&quot;,&quot;deleteHead&quot;,&quot;appendTail&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;][[],[],[5],[2],[],[]]è¾“å‡ºï¼š[null,-1,null,null,5,2]</code></pre><p>æç¤ºï¼š</p><ul><li><code>1 &lt;= values &lt;= 10000</code></li><li><code>æœ€å¤šä¼šå¯¹ appendTailã€deleteHead è¿›è¡Œ 10000 æ¬¡è°ƒç”¨</code></li></ul><p>è§£é¢˜æ€è·¯:</p><ul><li><code>appendTail</code> , å¯ç›´æ¥æ‰§è¡Œæ ˆçš„ <code>push</code> æ“ä½œ</li><li><code>deleteHead</code> , å¯å°†æ ˆç¿»è½¬, å†æ‰§è¡Œå‡ºæ ˆ <code>pop</code> æ“ä½œ</li></ul><p>æ ˆçš„ç¿»è½¬å¯åˆ©ç”¨ä¸¤ä¸ªæ ˆæ¥å®ç°, å…·ä½“æ“ä½œæ˜¯: å¯¹æ ˆAæ‰§è¡Œå‡ºæ ˆæ“ä½œ, å°†å‡ºæ ˆå…ƒç´ åœ¨æ ˆBå…¥æ ˆ, ç›´è‡³æ ˆAä¸ºç©º</p><pre><code class="line-numbers language-cpp">class CQueue &#123;public:    stack&lt;int&gt; A, B;    CQueue() &#123;&#125;    void appendTail(int value) &#123;        A.push(value);    &#125;    int deleteHead() &#123;        if(!B.empty())&#123;            int tmp = B.top();            B.pop();            return tmp;        &#125;        if(A.empty())&#123;            return -1;        &#125;        while(!A.empty())&#123;            int tmp = A.top();            A.pop();            B.push(tmp);        &#125;        int tmp = B.top();        B.pop();        return tmp;    &#125;&#125;;/** * Your CQueue object will be instantiated and called as such: * CQueue* obj = new CQueue(); * obj-&gt;appendTail(value); * int param_2 = obj-&gt;deleteHead(); */</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210319174210.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>appendTail</code> å¤æ‚åº¦ä¸º $O(1)$ , <code>deleteHead</code> æ‰§è¡Œ N æ¬¡å…±éœ€æ‰§è¡ŒNä¸ªå…ƒç´ çš„ç¿»è½¬</li><li>ç©ºé—´å¤æ‚åº¦: $O(N)$ , æœ€åæƒ…å†µä¸ºæ ˆAå’Œæ ˆBéƒ½æœ‰Nä¸ªå…ƒç´ </li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> å‰‘æŒ‡Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day7</title>
      <link href="/2021/03/12/leetcode-day7/"/>
      <url>/2021/03/12/leetcode-day7/</url>
      
        <content type="html"><![CDATA[<h2 id="706-è®¾è®¡å“ˆå¸Œæ˜ å°„"><a href="#706-è®¾è®¡å“ˆå¸Œæ˜ å°„" class="headerlink" title="[706] è®¾è®¡å“ˆå¸Œæ˜ å°„"></a>[706] è®¾è®¡å“ˆå¸Œæ˜ å°„</h2><p><a href="https://leetcode-cn.com/problems/design-hashmap/description/">https://leetcode-cn.com/problems/design-hashmap/description/</a></p><ul><li>algorithms</li><li>Easy (58.60%)</li><li>Likes:    124</li><li>Dislikes: -</li><li>Total Accepted:    22.7K</li><li>Total Submissions: 38.6K</li><li>Testcase Example:  â€˜[â€œMyHashMapâ€,â€putâ€,â€putâ€,â€getâ€,â€getâ€,â€putâ€,â€getâ€,â€removeâ€,â€getâ€]\nâ€™ +<br>â€˜[[],[1,1],[2,2],[1],[3],[2,1],[2],[2],[2]]â€™</li></ul><p>ä¸ä½¿ç”¨ä»»ä½•å†…å»ºçš„å“ˆå¸Œè¡¨åº“è®¾è®¡ä¸€ä¸ªå“ˆå¸Œæ˜ å°„ï¼ˆHashMapï¼‰ã€‚</p><p>å®ç° <code>MyHashMap</code> ç±»ï¼š</p><ul>    <li><code>MyHashMap()</code> ç”¨ç©ºæ˜ å°„åˆå§‹åŒ–å¯¹è±¡</li>    <li><code>void put(int key, int value)</code> å‘ HashMap æ’å…¥ä¸€ä¸ªé”®å€¼å¯¹ <code>(key, value)</code> ã€‚å¦‚æœ <code>key</code> å·²ç»å­˜åœ¨äºæ˜ å°„ä¸­ï¼Œåˆ™æ›´æ–°å…¶å¯¹åº”çš„å€¼ <code>value</code> ã€‚</li>    <li><code>int get(int key)</code> è¿”å›ç‰¹å®šçš„ <code>key</code> æ‰€æ˜ å°„çš„ <code>value</code> ï¼›å¦‚æœæ˜ å°„ä¸­ä¸åŒ…å« <code>key</code> çš„æ˜ å°„ï¼Œè¿”å› <code>-1</code> ã€‚</li>    <li><code>void remove(key)</code> å¦‚æœæ˜ å°„ä¸­å­˜åœ¨ <code>key</code> çš„æ˜ å°„ï¼Œåˆ™ç§»é™¤ <code>key</code> å’Œå®ƒæ‰€å¯¹åº”çš„ <code>value</code> ã€‚</li></ul><p>Â </p><p><strong>ç¤ºä¾‹ï¼š</strong></p><pre><strong>è¾“å…¥</strong>ï¼š["MyHashMap", "put", "put", "get", "get", "put", "get", "remove", "get"][[], [1, 1], [2, 2], [1], [3], [2, 1], [2], [2], [2]]<strong>è¾“å‡º</strong>ï¼š[null, null, null, 1, -1, null, 1, null, -1]<strong>è§£é‡Š</strong>ï¼šMyHashMap myHashMap = new MyHashMap();myHashMap.put(1, 1); // myHashMap ç°åœ¨ä¸º [[1,1]]myHashMap.put(2, 2); // myHashMap ç°åœ¨ä¸º [[1,1], [2,2]]myHashMap.get(1);    // è¿”å› 1 ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1], [2,2]]myHashMap.get(3);    // è¿”å› -1ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1], [2,2]]myHashMap.put(2, 1); // myHashMap ç°åœ¨ä¸º [[1,1], [2,1]]ï¼ˆæ›´æ–°å·²æœ‰çš„å€¼ï¼‰myHashMap.get(2);    // è¿”å› 1 ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1], [2,1]]myHashMap.remove(2); // åˆ é™¤é”®ä¸º 2 çš„æ•°æ®ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1]]myHashMap.get(2);    // è¿”å› -1ï¼ˆæœªæ‰¾åˆ°ï¼‰ï¼ŒmyHashMap ç°åœ¨ä¸º [[1,1]]</pre><p>Â </p><p><strong>æç¤ºï¼š</strong></p><ul>    <li><code>0 <= key, value <= 10<sup>6</sup></code></li>    <li>æœ€å¤šè°ƒç”¨ <code>10<sup>4</sup></code> æ¬¡ <code>put</code>ã€<code>get</code> å’Œ <code>remove</code> æ–¹æ³•</li></ul><p>Â </p><p><strong>è¿›é˜¶ï¼š</strong>ä½ èƒ½å¦ä¸ä½¿ç”¨å†…ç½®çš„ HashMap åº“è§£å†³æ­¤é—®é¢˜ï¼Ÿ</p><h3 id="æ–¹æ³•1-æš´åŠ›ä¸€ç»´æ•°ç»„"><a href="#æ–¹æ³•1-æš´åŠ›ä¸€ç»´æ•°ç»„" class="headerlink" title="æ–¹æ³•1: æš´åŠ›ä¸€ç»´æ•°ç»„"></a>æ–¹æ³•1: æš´åŠ›ä¸€ç»´æ•°ç»„</h3><p>é€‚ç”¨äºkeyèŒƒå›´è¾ƒå°çš„æƒ…å†µ</p><pre><code class="line-numbers language-cpp">class MyHashMap &#123;public:    /** Initialize your data structure here. */    MyHashMap() &#123;            const int N = 1000001;            data = vector&lt;int&gt;(N, -1); //ç›´æ¥åˆå§‹åŒ–ä¸º-1    &#125;    /** value will always be non-negative. */    void put(int key, int value) &#123;            data[key] = value;    &#125;    /** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */    int get(int key) &#123;            return data[key];    &#125;    /** Removes the mapping of the specified value key if this map contains a mapping for the key */    void remove(int key) &#123;            data[key] = -1;    &#125;private:        vector&lt;int&gt; data;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210319103752.png"></p><h3 id="æ–¹æ³•2-äºŒç»´æ•°ç»„-ç¨€ç–æ•°ç»„èŠ‚çœç©ºé—´"><a href="#æ–¹æ³•2-äºŒç»´æ•°ç»„-ç¨€ç–æ•°ç»„èŠ‚çœç©ºé—´" class="headerlink" title="æ–¹æ³•2: äºŒç»´æ•°ç»„, ç¨€ç–æ•°ç»„èŠ‚çœç©ºé—´"></a>æ–¹æ³•2: äºŒç»´æ•°ç»„, ç¨€ç–æ•°ç»„èŠ‚çœç©ºé—´</h3><p>é€šè¿‡è®¾ç½®ä¸¤ä¸ªhashå€¼æ¥é¿å…å†²çª</p><pre><code class="line-numbers language-cpp">class MyHashMap &#123;public:    /** Initialize your data structure here. */    MyHashMap() &#123;            data.resize(N);    &#125;        auto getHashValue1(int key)&#123;            return key % N;        &#125;        auto getHashValue2(int key)&#123;            return key / N;        &#125;    /** value will always be non-negative. */    void put(int key, int value) &#123;            auto hashkey1 = getHashValue1(key);            auto hashkey2 = getHashValue2(key);            if(data[hashkey1].empty())&#123;                data[hashkey1].resize(N, -1);            &#125;            data[hashkey1][hashkey2] = value;    &#125;    /** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */    int get(int key) &#123;            auto hashkey1 = getHashValue1(key);            auto hashkey2 = getHashValue2(key);            if(data[hashkey1].empty())&#123;                return -1;            &#125;            return data[hashkey1][hashkey2];    &#125;    /** Removes the mapping of the specified value key if this map contains a mapping for the key */    void remove(int key) &#123;            auto hashkey1 = getHashValue1(key);            auto hashkey2 = getHashValue2(key);            if(!data[hashkey1].empty())&#123;                data[hashkey1][hashkey2] = -1;            &#125;    &#125;private:        const int N = 1001;        vector&lt;vector&lt;int&gt;&gt; data;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210319110154.png"></p><h3 id="æ–¹æ³•3-é“¾åœ°å€æ³•-æ— å¤´èŠ‚ç‚¹"><a href="#æ–¹æ³•3-é“¾åœ°å€æ³•-æ— å¤´èŠ‚ç‚¹" class="headerlink" title="æ–¹æ³•3: é“¾åœ°å€æ³• æ— å¤´èŠ‚ç‚¹"></a>æ–¹æ³•3: é“¾åœ°å€æ³• æ— å¤´èŠ‚ç‚¹</h3><p>è¿™æ˜¯ä¸€ç§å¤„ç†å†²çªçš„æ–¹æ³•, å…·ä½“åŸç†å¦‚å›¾:</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/IMG_3726.JPG"></p><p>æ­¤æ–¹æ³•ä¸ä½¿ç”¨å¤´èŠ‚ç‚¹(dummy head node), å°†æ‰€æœ‰å…³é”®å­—ä¸ºåŒä¹‰è¯çš„è®°å½•å­˜å‚¨åœ¨åŒä¸€çº¿æ€§é“¾è¡¨ä¸­, å‡å°ç©ºé—´å¼€é”€, ä½†æ¯æ¬¡éƒ½éœ€è¦åˆ¤æ–­æ˜¯å¦ä¸ºç©ºèŠ‚ç‚¹</p><p>éœ€æ³¨æ„å½“ç§»é™¤é”®å€¼å¯¹æ—¶, å¯¹äºå¤´èŠ‚ç‚¹ä¸éå¤´èŠ‚ç‚¹è¦åˆ†å¼€è®¨è®º</p><pre><code class="line-numbers language-cpp">struct MyListNode&#123;    int key;     int val;    MyListNode* next;    MyListNode() : key(-1), val(-1), next(nullptr) &#123;&#125;    MyListNode(int _key, int _val) : key(_key), val(_val), next(nullptr) &#123;&#125;&#125;;class MyHashMap &#123;public:    /** Initialize your data structure here. */    MyHashMap() &#123;            data.resize(N);    &#125;        auto getHashValue(int key)&#123;            return key % N;        &#125;    /** value will always be non-negative. */    void put(int key, int value) &#123;            auto hashkey = getHashValue(key);            auto&amp; head = data[hashkey];            if(head==nullptr)&#123;                head = new MyListNode(key, value);                return;            &#125;            auto p = head;            auto tail = p;            // add value which has been added            while(p != nullptr)&#123;                if(p-&gt;key == key)&#123;                    p-&gt;val = value;                    return;                &#125;                tail = p;                p = p-&gt;next;            &#125;            // add new value            tail-&gt;next = new MyListNode(key, value);    &#125;    /** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */    int get(int key) &#123;            auto hashkey = getHashValue(key);            auto&amp; head = data[hashkey];            if(head==nullptr)&#123;                return -1;            &#125;            auto p = head;            while(p != nullptr)&#123;                if(p-&gt;key == key)&#123;                    return p-&gt;val;                &#125;                p = p-&gt;next;            &#125;            return -1;    &#125;    /** Removes the mapping of the specified value key if this map contains a mapping for the key */    void remove(int key) &#123;            auto hashkey = getHashValue(key);            auto&amp; head = data[hashkey];            if(head==nullptr)&#123;                return;            &#125;            auto p = head;            MyListNode* prev = nullptr;            while(p != nullptr)&#123;                if(p-&gt;key == key)&#123;                    // remove head                    if(prev == nullptr)&#123;                        auto dummy = head;                        head = head-&gt;next; // nullptr                        dummy-&gt;next = nullptr;                        delete dummy;                    &#125;                    else&#123;                        prev-&gt;next = p-&gt;next;                        p-&gt;next = nullptr;                        delete p;                    &#125;                    return;                &#125;                prev = p;                p = p-&gt;next;            &#125;    &#125;private:        const int N = 1001;        vector&lt;MyListNode*&gt; data;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210319120829.png"></p><h3 id="æ–¹æ³•4-é“¾åœ°å€æ³•-æœ‰å¤´èŠ‚ç‚¹"><a href="#æ–¹æ³•4-é“¾åœ°å€æ³•-æœ‰å¤´èŠ‚ç‚¹" class="headerlink" title="æ–¹æ³•4: é“¾åœ°å€æ³• æœ‰å¤´èŠ‚ç‚¹"></a>æ–¹æ³•4: é“¾åœ°å€æ³• æœ‰å¤´èŠ‚ç‚¹</h3><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/IMG_3726.JPG"></p><p>å¤´èŠ‚ç‚¹ä¸€ç›´å­˜åœ¨, çœå»äº†å¯¹å¤´èŠ‚ç‚¹çš„åˆ¤æ–­, ä½†ç•¥å ç©ºé—´</p><pre><code class="line-numbers language-cpp">struct MyListNode&#123;    int key;     int val;    MyListNode* next;    MyListNode() : key(-1), val(-1), next(nullptr) &#123;&#125;    MyListNode(int _key, int _val) : key(_key), val(_val), next(nullptr) &#123;&#125;&#125;;class MyHashMap &#123;public:    /** Initialize your data structure here. */    MyHashMap() &#123;            data.resize(N, new MyListNode());    &#125;        auto getHashValue(int key)&#123;            return key % N;        &#125;    /** value will always be non-negative. */    void put(int key, int value) &#123;            auto hashkey = getHashValue(key);            auto&amp; head = data[hashkey];            auto p = head;            auto tail = p;            // add value which has been added            while(p != nullptr)&#123;                if(p-&gt;key == key)&#123;                    p-&gt;val = value;                    return;                &#125;                tail = p;                p = p-&gt;next;            &#125;            // add new value            tail-&gt;next = new MyListNode(key, value);    &#125;    /** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */    int get(int key) &#123;            auto hashkey = getHashValue(key);            auto&amp; head = data[hashkey];            auto p = head;            while(p != nullptr)&#123;                if(p-&gt;key == key)&#123;                    return p-&gt;val;                &#125;                p = p-&gt;next;            &#125;            return -1;    &#125;    /** Removes the mapping of the specified value key if this map contains a mapping for the key */    void remove(int key) &#123;            auto hashkey = getHashValue(key);            auto&amp; head = data[hashkey];            auto p = head;            MyListNode* prev = nullptr;            while(p != nullptr)&#123;                if(p-&gt;key == key)&#123;                    prev-&gt;next = p-&gt;next;                    p-&gt;next = nullptr;                    delete p;                    return;                &#125;                prev = p;                p = p-&gt;next;            &#125;    &#125;private:        const int N = 1001;        vector&lt;MyListNode*&gt; data;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210319154530.png"></p><h3 id="æ–¹æ³•5-å¼€æ”¾åœ°å€æ³•-çº¿æ€§æ¢æµ‹"><a href="#æ–¹æ³•5-å¼€æ”¾åœ°å€æ³•-çº¿æ€§æ¢æµ‹" class="headerlink" title="æ–¹æ³•5: å¼€æ”¾åœ°å€æ³• çº¿æ€§æ¢æµ‹"></a>æ–¹æ³•5: å¼€æ”¾åœ°å€æ³• çº¿æ€§æ¢æµ‹</h3><p>ç®—æ³•åŸç†: </p><p>$$<br>H_i = (H(key) + d_i) \space MOD \space m  \quad i=1, 2, \cdots, k(k&lt;=m-1)<br>$$</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/IMG_3729.JPG"></p><pre><code class="line-numbers language-cpp">class MyHashMap &#123;public:    /** Initialize your data structure here. */    MyHashMap() &#123;            hashtable = vector&lt;pair&lt;int, int&gt;&gt;(N, &#123;-1, -1&#125;);    &#125;        auto getHashValue(int key)&#123;            int k = key % N;            while(hashtable[k].first != key &amp;&amp; hashtable[k].first != -1)&#123;                k = (k + 1) % N;            &#125;            return k;         &#125;    /** value will always be non-negative. */    void put(int key, int value) &#123;            auto k = getHashValue(key);            hashtable[k] = &#123;key, value&#125;;    &#125;    /** Returns the value to which the specified key is mapped, or -1 if this map contains no mapping for the key */    int get(int key) &#123;            auto k = getHashValue(key);            if(hashtable[k].first == -1)&#123;                return -1;            &#125;            return hashtable[k].second;    &#125;    /** Removes the mapping of the specified value key if this map contains a mapping for the key */    void remove(int key) &#123;            auto k = getHashValue(key);            if(hashtable[k].first != -1)&#123;                hashtable[k].first = -2;            &#125;    &#125;private:        const static int N = 20011;        vector&lt;pair&lt;int, int&gt;&gt; hashtable;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210319162846.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day6</title>
      <link href="/2021/03/11/leetcode-day6/"/>
      <url>/2021/03/11/leetcode-day6/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰‘æŒ‡-Offer-06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"><a href="#å‰‘æŒ‡-Offer-06-ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨" class="headerlink" title="å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨"></a>å‰‘æŒ‡ Offer 06. ä»å°¾åˆ°å¤´æ‰“å°é“¾è¡¨</h2><p>è¾“å…¥ä¸€ä¸ªé“¾è¡¨çš„å¤´èŠ‚ç‚¹ï¼Œä»å°¾åˆ°å¤´åè¿‡æ¥è¿”å›æ¯ä¸ªèŠ‚ç‚¹çš„å€¼ï¼ˆç”¨æ•°ç»„è¿”å›ï¼‰ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code class="line-numbers language-cpp">è¾“å…¥ï¼šhead = [1,3,2]è¾“å‡ºï¼š[2,3,1]</code></pre><p>é™åˆ¶ï¼š</p><p><code>0 &lt;= é“¾è¡¨é•¿åº¦ &lt;= 10000</code></p><h3 id="æ–¹æ³•1-é€’å½’"><a href="#æ–¹æ³•1-é€’å½’" class="headerlink" title="æ–¹æ³•1: é€’å½’"></a>æ–¹æ³•1: é€’å½’</h3><p>å…ˆè¿›è¡Œé€’å½’è‡³é“¾è¡¨å°¾éƒ¨, åœ¨å›æº¯çš„æ—¶å€™, å°†å€¼æ·»åŠ å…¥æ•°ç»„, å³å¯å®ç°é€†åºè¾“å‡º</p><ul><li>ç»ˆæ­¢æ¡ä»¶: æŒ‡é’ˆ <code>head == None</code> , ä»£è¡¨åœ¨é“¾è¡¨å°¾éƒ¨</li><li>é€’å½’è¿›è¡Œ: <code>head = head-&gt;next</code></li><li>å›æº¯é˜¶æ®µ: å°† <code>head-&gt;val</code> æ·»åŠ è‡³è¿”å›æ•°ç»„</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; reversePrint(ListNode* head) &#123;        reverse_array(head);        return res;    &#125;private:    vector&lt;int&gt; res;    void reverse_array(ListNode* head)&#123;        if(head == nullptr) return;               reverse_array(head-&gt;next);        res.push_back(head-&gt;val);        &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210311120222.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(N)</code>,  éå†é“¾è¡¨ï¼Œé€’å½’Næ¬¡ã€‚</li><li>ç©ºé—´å¤æ‚åº¦:    <code>O(N)</code>, é€’å½’éœ€è¦ <code>O(N)</code> çš„æ ˆç©ºé—´</li></ul><h3 id="æ–¹æ³•2-è¾…åŠ©æ ˆæ³•"><a href="#æ–¹æ³•2-è¾…åŠ©æ ˆæ³•" class="headerlink" title="æ–¹æ³•2: è¾…åŠ©æ ˆæ³•"></a>æ–¹æ³•2: è¾…åŠ©æ ˆæ³•</h3><p>é“¾è¡¨åªèƒ½ä»å‰å‘å, è€Œåˆéœ€è¦å€’åºè¾“å‡º, åˆ™å¯ä»¥ä½¿ç”¨æ ˆæ¥è§£å†³</p><ul><li>éå†é“¾è¡¨, å°†é“¾è¡¨å€¼æ·»åŠ å…¥æ ˆä¸­</li><li>å°†æ ˆé¡¶å…ƒç´ æ·»åŠ è‡³è¾“å‡ºæ•°ç»„, æ‰§è¡Œå‡ºæ ˆæ“ä½œ</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; reversePrint(ListNode* head) &#123;        stack&lt;int&gt; st;        while(head != nullptr)&#123;            st.push(head-&gt;val);            head = head-&gt;next;        &#125;        vector&lt;int&gt; res;        while(!st.empty())&#123;            res.push_back(st.top());            st.pop();        &#125;        return res;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210311162411.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(N)</code>, å…¥æ ˆå‡ºæ ˆæ—¶é—´æ€»å’Œä¸º <code>O(N)</code></li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(N)</code>, </li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> å‰‘æŒ‡Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day5</title>
      <link href="/2021/03/10/leetcode-day5/"/>
      <url>/2021/03/10/leetcode-day5/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰‘æŒ‡-Offer-05-æ›¿æ¢ç©ºæ ¼"><a href="#å‰‘æŒ‡-Offer-05-æ›¿æ¢ç©ºæ ¼" class="headerlink" title="å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼"></a>å‰‘æŒ‡ Offer 05. æ›¿æ¢ç©ºæ ¼</h2><p><a href="https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/">https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/</a> </p><p>è¯·å®ç°ä¸€ä¸ªå‡½æ•°ï¼ŒæŠŠå­—ç¬¦ä¸² s ä¸­çš„æ¯ä¸ªç©ºæ ¼æ›¿æ¢æˆâ€%20â€ã€‚</p><p>ç¤ºä¾‹ 1ï¼š</p><pre><code class="line-numbers language-bash">è¾“å…¥ï¼šs = &quot;We are happy.&quot;è¾“å‡ºï¼š&quot;We%20are%20happy.&quot;</code></pre><p>é™åˆ¶ï¼š</p><p><code>0 &lt;= s çš„é•¿åº¦ &lt;= 10000</code></p><h3 id="æ–¹æ³•1"><a href="#æ–¹æ³•1" class="headerlink" title="æ–¹æ³•1:"></a>æ–¹æ³•1:</h3><p>è®¾ç½®ä¸€ä¸ªæ–°çš„æ•°ç»„, å°†ç»“æœå­˜åˆ°æ–°æ•°ç»„ä¸Š.</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    string replaceSpace(string s) &#123;        string res;        for(auto &amp;e: s)&#123;            if(e == &#39; &#39;)&#123;                res += &quot;%20&quot;;            &#125;            else&#123;                res += e;            &#125;        &#125;        return res;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210311114319.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code></li><li>ç©ºé—´å¤æ‚åº¦: â€˜O(n)â€™, éœ€è¦é¢å¤–æ•°ç»„æ¥å­˜å‚¨</li></ul><h3 id="æ–¹æ³•2"><a href="#æ–¹æ³•2" class="headerlink" title="æ–¹æ³•2:"></a>æ–¹æ³•2:</h3><p>ä¸åˆ›å»ºæ–°æ•°ç»„, åŸåœ°æ‰©å……</p><p>c++å¯ä»¥é€šè¿‡ <code>array.resize()</code> æ¥é‡ç½®æ•°ç»„é•¿åº¦, åˆ©ç”¨è¿™ä¸€ç‚¹, åˆ™æ— éœ€æ–°å»ºæ•°ç»„</p><ul><li>é¦–å…ˆéå†åŸå§‹æ•°ç»„, ç»Ÿè®¡ç©ºæ ¼æ•°</li><li>é‡ç½®æ•°ç»„é•¿åº¦,  æ–°é•¿åº¦ä¸ºåŸå§‹é•¿åº¦ + 2 * ç©ºæ ¼æ•°</li><li>å€’åºéå†æ•°ç»„, é‡åˆ°ç©ºæ ¼æ›¿æ¢, å¦åˆ™ä¸å˜, ç›´æ¥ç§»åˆ°ç›¸åº”ä½ç½®</li></ul><pre><code class="line-numbers language-cpp">class Solution &#123;public:    string replaceSpace(string s) &#123;        int count = 0, len = s.size();        for(auto &amp;e: s)&#123;            if(e == &#39; &#39;)&#123;                count++;            &#125;        &#125;        s.resize(len + 2 * count);        for(int i = len - 1, j = s.size() - 1; i &lt; j; i--,j--)&#123;            if(s[i] == &#39; &#39;)&#123;                s[j-2] = &#39;%&#39;;                s[j-1] = &#39;2&#39;;                s[j] = &#39;0&#39;;                j -= 2;            &#125;            else&#123;                s[j] = s[i];            &#125;           &#125;          return s;       &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210311120222.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦:  <code>O(n)</code>  ä¸¤æ¬¡éå†æ•°ç»„</li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(1)</code> æ— é¢å¤–ç©ºé—´</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> å‰‘æŒ‡Offer </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day4</title>
      <link href="/2021/03/09/leetcode-day4/"/>
      <url>/2021/03/09/leetcode-day4/</url>
      
        <content type="html"><![CDATA[<p>[136] åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</p><p><a href="https://leetcode-cn.com/problems/single-number/description/">https://leetcode-cn.com/problems/single-number/description/</a></p><ul><li>algorithms</li><li>Easy (70.80%)</li><li>Likes:    1743</li><li>Dislikes: -</li><li>Total Accepted:    348.9K</li><li>Total Submissions: 491.3K</li><li>Testcase Example:  â€˜[2,2,1]â€™</li><li>Source Code:       136.single-number.cpp</li></ul><p>ç»™å®šä¸€ä¸ª<strong>éç©º</strong>æ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚</p><p><strong>è¯´æ˜ï¼š</strong></p><p>ä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥:</strong> [2,2,1]<strong>è¾“å‡º:</strong> 1</pre><p><strong>ç¤ºä¾‹&nbsp;2:</strong></p><pre><strong>è¾“å…¥:</strong> [4,1,2,1,2]<strong>è¾“å‡º:</strong> 4</pre><p>æ–¹æ³•ä¸€: ä½è¿ç®—</p><p>å¼‚æˆ–è¿ç®—æ€§è´¨:</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210311101301.png"></p><p>æ•…å°†æ•°ç»„å†…å…ƒç´ ä¾æ¬¡è¿›è¡Œå¼‚æˆ–è¿ç®—, æœ€ç»ˆçš„ç»“æœå³ä¸ºå‡ºç°ä¸€æ¬¡çš„æ•°.</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int singleNumber(vector&lt;int&gt;&amp; nums) &#123;            int res = 0;            for(auto e: nums)&#123;                res ^= e;            &#125;            return res;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210311101604.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(n)</code>, ä¸numsçš„å¤§å°æœ‰å…³, ç›¸å½“äºéå†ä¸€éæ•°ç»„</li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code>, é™¤è¾“å‡ºæ•°ç»„å¤–,æ— é¢å¤–ç©ºé—´</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day3</title>
      <link href="/2021/03/08/leetcode-day3/"/>
      <url>/2021/03/08/leetcode-day3/</url>
      
        <content type="html"><![CDATA[<h2 id="338-æ¯”ç‰¹ä½è®¡æ•°"><a href="#338-æ¯”ç‰¹ä½è®¡æ•°" class="headerlink" title="[338] æ¯”ç‰¹ä½è®¡æ•°"></a>[338] æ¯”ç‰¹ä½è®¡æ•°</h2><p><a href="https://leetcode-cn.com/problems/counting-bits/description/">https://leetcode-cn.com/problems/counting-bits/description/</a></p><ul><li>algorithms</li><li>Medium (76.57%)</li><li>Likes:    664</li><li>Dislikes: -</li><li>Total Accepted:    115.6K</li><li>Total Submissions: 146.3K</li><li>Testcase Example:  â€˜2â€™</li><li>Source Code:       338.counting-bits.cpp</li></ul><p>ç»™å®šä¸€ä¸ªéè´Ÿæ•´æ•°&nbsp;<strong>num</strong>ã€‚å¯¹äº&nbsp;<strong>0 &le; i &le; num </strong>èŒƒå›´ä¸­çš„æ¯ä¸ªæ•°å­—&nbsp;<strong>i&nbsp;</strong>ï¼Œè®¡ç®—å…¶äºŒè¿›åˆ¶æ•°ä¸­çš„ 1 çš„æ•°ç›®å¹¶å°†å®ƒä»¬ä½œä¸ºæ•°ç»„è¿”å›ã€‚</p><p><strong>ç¤ºä¾‹ 1:</strong></p><pre><strong>è¾“å…¥: </strong>2<strong>è¾“å‡º: </strong>[0,1,1]</pre><p><strong>ç¤ºä¾‹&nbsp;2:</strong></p><pre><strong>è¾“å…¥: </strong>5<strong>è¾“å‡º: </strong><code>[0,1,1,2,1,2]</code></pre><p><strong>è¿›é˜¶:</strong></p><ul>    <li>ç»™å‡ºæ—¶é—´å¤æ‚åº¦ä¸º<strong>O(n*sizeof(integer))</strong>çš„è§£ç­”éå¸¸å®¹æ˜“ã€‚ä½†ä½ å¯ä»¥åœ¨çº¿æ€§æ—¶é—´<strong>O(n)</strong>å†…ç”¨ä¸€è¶Ÿæ‰«æåšåˆ°å—ï¼Ÿ</li>    <li>è¦æ±‚ç®—æ³•çš„ç©ºé—´å¤æ‚åº¦ä¸º<strong>O(n)</strong>ã€‚</li>    <li>ä½ èƒ½è¿›ä¸€æ­¥å®Œå–„è§£æ³•å—ï¼Ÿè¦æ±‚åœ¨C++æˆ–ä»»ä½•å…¶ä»–è¯­è¨€ä¸­ä¸ä½¿ç”¨ä»»ä½•å†…ç½®å‡½æ•°ï¼ˆå¦‚ C++ ä¸­çš„&nbsp;<strong>__builtin_popcount</strong>ï¼‰æ¥æ‰§è¡Œæ­¤æ“ä½œã€‚</li></ul><p>æ–¹æ³•1: </p><p>ä»0åˆ°numç›´æ¥è®¡ç®—1çš„ä¸ªæ•°, è®¡ç®—æ–¹æ³•ç”¨åˆ°äº†ä¸Šé¢çš„ å¸ƒèµ–æ©Â·å…‹å°¼æ ¹ç®—æ³•</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int count_ones(int x)&#123;        int count = 0;        while(x &gt; 0)&#123;            x &amp;= (x - 1);            count++;        &#125;        return count;    &#125;    vector&lt;int&gt; countBits(int num) &#123;            vector&lt;int&gt; result(num + 1);            for(int x=0; x &lt;= num; x++)&#123;                result[x] = count_ones(x);            &#125;            return result;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210307234957.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(k*num)</code> , k ä¸ºintæ•´å‹é•¿åº¦(32), </li><li>ç©ºé—´å¤æ‚åº¦: <code>O(1)</code> , é™¤äº†è¿”å›çš„æ•°ç»„ä»¥å¤–ï¼Œç©ºé—´å¤æ‚åº¦ä¸ºå¸¸æ•°ã€‚</li></ul><p>æ–¹æ³•2: åŠ¨æ€è§„åˆ’ æœ€é«˜æœ‰æ•ˆä½</p><p>å¯¹äºæ•´æ•°x, å­˜åœ¨ä¸€ä¸ªæœ€å¤§æ•´æ•°y, ä¸”yæ˜¯2çš„æ•´æ•°å¹‚, ä»¤ <code>z=y-x</code>, ç”¨ <code>bits[x]</code> æ¥è¡¨ç¤ºxçš„â€™ä¸€æ¯”ç‰¹æ•°â€™, åˆ™ <code>bit[x] = bit[z] + 1 </code>, è¿™é‡ŒåŠ çš„ <code>1</code> æ˜¯æœ€é«˜ä½çš„1.</p><table><thead><tr><th>x</th><th>1</th><th>0</th><th>1</th><th>1</th></tr></thead><tbody><tr><td>y</td><td>1</td><td>0</td><td>0</td><td>0</td></tr><tr><td>z=x-y</td><td>0</td><td>0</td><td>1</td><td>1</td></tr></tbody></table><p><strong>æ­£æ•´æ•° <code>y</code> æ˜¯ <code>2</code> çš„æ•´æ•°æ¬¡å¹‚ï¼Œå½“ä¸”ä»…å½“ <code>y&amp;(y-1)=0 </code></strong></p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; countBits(int num) &#123;            vector&lt;int&gt; result(num + 1);            int highbit = 0;            for(int x=1; x &lt;= num; x++)&#123;                if((x &amp; (x - 1)) == 0)&#123;                    highbit = x;                &#125;                result[x] = result[x - highbit] + 1;            &#125;            return result;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210308113259.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(num)</code> , åªéœ€è¦ <code>O(1)</code> çš„æ—¶é—´è®¡ç®—</li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(1)</code>, ä¸ºå¸¸æ•°</li></ul><p>æ–¹æ³•3: åŠ¨æ€è§„åˆ’ æœ€ä½æœ‰æ•ˆä½</p><p>å°†xå³ç§»ä¸€ä½å¯å¾—åˆ° $\dfrac{x}{2}$ çš„å€¼,</p><table><thead><tr><th>x</th><th>1</th><th>0</th><th>1</th><th>1</th></tr></thead><tbody><tr><td>x/2</td><td>0</td><td>1</td><td>0</td><td>1</td></tr></tbody></table><p> åå‘è€ƒè™‘:</p><p>$$<br>bit[x] = bit[\dfrac{x}{2}] + bit[x]æœ€ä½ä½<br>$$</p><p>æ®æ­¤, åˆå¹¶å¥‡å¶æƒ…å†µ:</p><p>$$<br>bit[x] = bit[\dfrac{x}{2}] + (x &amp; 1)<br>$$</p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; countBits(int num) &#123;            vector&lt;int&gt; result(num + 1);            int highbit = 0;            for(int x=1; x &lt;= num; x++)&#123;                result[x] = result[x&gt;&gt;1] + (x &amp; 1);            &#125;            return result;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210308115024.png"></p><p>æ–¹æ³•4: åŠ¨æ€è§„åˆ’ æœ€ä½è®¾ç½®ä½</p><p>å®šä¹‰æ­£æ•´æ•° <code>x</code> çš„ã€Œæœ€ä½è®¾ç½®ä½ã€ä¸º <code>x</code> çš„äºŒè¿›åˆ¶è¡¨ç¤ºä¸­çš„æœ€ä½çš„ <code>1</code> æ‰€åœ¨ä½ã€‚</p><table><thead><tr><th>1</th><th>0</th><th>1</th><th>0</th></tr></thead></table><p> æœ€ä½è®¾ç½®ä½æ˜¯ <code>2</code></p><p> ä»¤ <code>y=x&amp;(x-1)</code> , åˆ™yæ˜¯å»é™¤æœ€ä½è®¾ç½®ä½åçš„æ•°, åˆ™ <code>bits[x]=bits[y]+1</code></p><table><thead><tr><th>x</th><th>1</th><th>0</th><th>1</th><th>0</th></tr></thead><tbody><tr><td>x-1</td><td>1</td><td>0</td><td>0</td><td>1</td></tr><tr><td>x&amp;(x-1)</td><td>1</td><td>0</td><td>0</td><td>0</td></tr></tbody></table><pre><code class="line-numbers language-cpp">class Solution &#123;public:    vector&lt;int&gt; countBits(int num) &#123;            vector&lt;int&gt; result(num + 1);            int highbit = 0;            for(int x=1; x &lt;= num; x++)&#123;                result[x] = result[x&amp;(x-1)] +1;            &#125;            return result;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210308120402.png"></p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day2</title>
      <link href="/2021/03/07/leetcode-day2/"/>
      <url>/2021/03/07/leetcode-day2/</url>
      
        <content type="html"><![CDATA[<h2 id="461-æ±‰æ˜è·ç¦»"><a href="#461-æ±‰æ˜è·ç¦»" class="headerlink" title="[461] æ±‰æ˜è·ç¦»"></a>[461] æ±‰æ˜è·ç¦»</h2><p><a href="https://leetcode-cn.com/problems/hamming-distance/description/">https://leetcode-cn.com/problems/hamming-distance/description/</a></p><ul><li>algorithms</li><li>Easy (78.70%)</li><li>Likes:    379</li><li>Dislikes: -</li><li>Total Accepted:    97.6K</li><li>Total Submissions: 123.7K</li><li>Testcase Example:  â€˜1\n4â€™</li><li>Source Code:       461.hamming-distance.cpp</li></ul><p>ä¸¤ä¸ªæ•´æ•°ä¹‹é—´çš„<a href="https://baike.baidu.com/item/%E6%B1%89%E6%98%8E%E8%B7%9D%E7%A6%BB">æ±‰æ˜è·ç¦»</a>æŒ‡çš„æ˜¯è¿™ä¸¤ä¸ªæ•°å­—å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®çš„æ•°ç›®ã€‚</p><p>ç»™å‡ºä¸¤ä¸ªæ•´æ•° <code>x</code> å’Œ <code>y</code>ï¼Œè®¡ç®—å®ƒä»¬ä¹‹é—´çš„æ±‰æ˜è·ç¦»ã€‚</p><p><strong>æ³¨æ„ï¼š</strong><br />0 &le; <code>x</code>, <code>y</code> &lt; 2<sup>31</sup>.</p><p><strong>ç¤ºä¾‹:</strong></p><pre><strong>è¾“å…¥:</strong> x = 1, y = 4<strong>è¾“å‡º:</strong> 2<strong>è§£é‡Š:</strong>1   (0 0 0 1)4   (0 1 0 0)       &uarr;   &uarr;ä¸Šé¢çš„ç®­å¤´æŒ‡å‡ºäº†å¯¹åº”äºŒè¿›åˆ¶ä½ä¸åŒçš„ä½ç½®ã€‚</pre><p>æ–¹æ³•1:</p><p>è®¡ç®—xä¸yçš„XORå€¼, å€¼ä¸1è¿›è¡Œ <code>&amp;</code> æ“ä½œ, ç»“æœä¸º1åˆ™xä¸yåœ¨æ­¤ä½å€¼ä¸åŒ, æ±‰æ˜è·ç¦»+1, å†è¿›è¡Œç§»ä½æ“ä½œ, é€ä½è®¡ç®—å³å¯.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210307215223.png"></p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int hammingDistance(int x, int y) &#123;            int z = x ^ y;            int distance = 0;            while(z)&#123;                distance += z &amp; 1;                z = z &gt;&gt; 1;            &#125;            return distance;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210307230112.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: O(1), æ•´æ•°é•¿åº¦å›ºå®š, æœ€é«˜32ä½ </li><li>ç©ºé—´å¤æ‚åº¦: O(1), æ’å®šç©ºé—´</li></ul><p>æ–¹æ³•2: å¸ƒèµ–æ©Â·å…‹å°¼æ ¹ç®—æ³•</p><p>é€ä½ç§»åŠ¨ï¼Œé€ä½æ¯”è¾ƒè¾¹ç¼˜ä½ç½®æ˜¯å¦ä¸º 1ã€‚åˆ©ç”¨å¸ƒè±æ©Â·å…‹å°¼æ ¹ç®—æ³•, é‡åˆ°æœ€å³è¾¹çš„ 1 åï¼Œå¦‚æœå¯ä»¥è·³è¿‡ä¸­é—´çš„ 0ï¼Œç›´æ¥è·³åˆ°ä¸‹ä¸€ä¸ª 1ï¼Œæ•ˆç‡ä¼šé«˜å¾ˆå¤š. </p><p>å½“ <code>num &amp; (num - 1)</code> è¿ç®—æ—¶, æœ€å³è¾¹ç­‰äº1çš„ä¸€ä½ä¼šè¢«æŠ¹é™¤</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210307225134.png"></p><pre><code class="line-numbers language-cpp">class Solution &#123;public:    int hammingDistance(int x, int y) &#123;            int z = x xor y;            int distance = 0;            while(z)&#123;                distance += 1;                z = z &amp; (z - 1);            &#125;            return distance;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210307230254.png"></p><p>å¤æ‚åº¦åˆ†æ: </p><ul><li>æ—¶é—´å¤æ‚åº¦: <code>O(1)</code>, å®é™…è¿›è¡Œäº†æ›´å°‘çš„è¿­ä»£</li><li>ç©ºé—´å¤æ‚åº¦:  <code>O(1)</code>, æ’å®šç©ºé—´</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Day1</title>
      <link href="/2021/03/06/leetcode-day1/"/>
      <url>/2021/03/06/leetcode-day1/</url>
      
        <content type="html"><![CDATA[<p>[1] Two Sum  </p><p><a href="https://leetcode.com/problems/two-sum/description/">https://leetcode.com/problems/two-sum/description/</a></p><ul><li>algorithms</li><li>Easy (46.37%)</li><li>Likes:    19171</li><li>Dislikes: 682</li><li>Total Accepted:    3.8M</li><li>Total Submissions: 8.3M</li><li>Testcase Example:  â€˜[2,7,11,15]\n9â€™</li></ul><p>Given an array of integers <code>nums</code>&nbsp;and an integer <code>target</code>, return <em>indices of the two numbers such that they add up to <code>target</code></em>.</p><p>You may assume that each input would have <strong><em>exactly</em> one solution</strong>, and you may not use the <em>same</em> element twice.</p><p>You can return the answer in any order.</p><p>&nbsp;</p><p><strong>Example 1:</strong></p><pre><strong>Input:</strong> nums = [2,7,11,15], target = 9<strong>Output:</strong> [0,1]<strong>Output:</strong> Because nums[0] + nums[1] == 9, we return [0, 1].</pre><p><strong>Example 2:</strong></p><pre><strong>Input:</strong> nums = [3,2,4], target = 6<strong>Output:</strong> [1,2]</pre><p><strong>Example 3:</strong></p><pre><strong>Input:</strong> nums = [3,3], target = 6<strong>Output:</strong> [0,1]</pre><p>&nbsp;</p><p><strong>Constraints:</strong></p><ul>    <li><code>2 &lt;= nums.length &lt;= 10<sup>3</sup></code></li>    <li><code>-10<sup>9</sup> &lt;= nums[i] &lt;= 10<sup>9</sup></code></li>    <li><code>-10<sup>9</sup> &lt;= target &lt;= 10<sup>9</sup></code></li>    <li><strong>Only one valid answer exists.</strong></li></ul><p><strong>Approach 1:</strong> Brute Force</p><p>Loop through each element <code>x</code>  and find if there is another value that equals to <code>target - x</code> </p><pre><code class="line-numbers language-c++">class Solution &#123;public:        vector&lt;int&gt; twoSum(vector&lt;int&gt;&amp; nums, int target) &#123;            vector&lt;int&gt; answer;            int i, j;            for(i = 0; i&lt; nums.size() - 1; i++)&#123;                for(j = i + 1; j &lt; nums.size(); j++)&#123;                    int diff = target - nums[j];                    if(nums[i] == diff)&#123;                        answer.push_back(i);                        answer.push_back(j);                    &#125;                &#125;            &#125;            return answer;    &#125;&#125;;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210211230613.png"></p><p><strong>Complexity Analysis</strong> </p><ul><li>Time Complexity: $O(n^2)$</li><li>Space Complexity: $O(1)$</li></ul>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> c++ </tag>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>COC</title>
      <link href="/2021/03/02/coc/"/>
      <url>/2021/03/02/coc/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>FZF</title>
      <link href="/2021/02/28/fzf/"/>
      <url>/2021/02/28/fzf/</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/junegunn/fzf">fzf</a> æ˜¯ä¸€ä¸ªéå¸¸å¼ºå¤§çš„ç»ˆç«¯æ–‡ä»¶æ¨¡ç³ŠæŸ¥æ‰¾ç¥å™¨,åœ¨macä¸‹ä¹Ÿæœ‰è®¸å¤šä¼˜ç§€çš„å·¥å…·,æ¯”å¦‚macè‡ªå¸¦çš„    <code>spotlight</code> , <a href="https://www.alfredapp.com/">Alfred</a> ,è¿™äº›å·¥å…·åœ¨æ¡Œé¢ç¯å¢ƒä¸‹éå¸¸å¥½ç”¨,ä¹Ÿååˆ†æ¼‚äº®,ä½†æˆ‘çš„å·¥ä½œä¸€èˆ¬éƒ½åœ¨ç»ˆç«¯ä¸‹, fzfè§£å†³äº†æˆ‘çš„é—®é¢˜. fzfæœ‰å¾ˆå¤šä¼˜ç‚¹,å¯ç§»æ¤,é€Ÿåº¦è¶…å¿«,æœ€é‡è¦çš„æ˜¯,å½“fzfä¸ <strong>zsh, ranger, vim</strong> ç¢°æ’åœ¨ä¸€èµ·,æå¤§çš„æé«˜äº†æˆ‘çš„å·¥ä½œæ•ˆç‡.    </p><h2 id="FZF"><a href="#FZF" class="headerlink" title="FZF"></a>FZF</h2><ul><li>fzfçš„å®‰è£…éå¸¸ç®€å•,åœ¨macä¸‹,å¯ä»¥ä½¿ç”¨<code>Homebrew</code>æ¥å®‰è£…:</li></ul><pre><code class="line-numbers language-bash">brew install fzf</code></pre><p>ç°åœ¨å°±å¯ä»¥é€šè¿‡ <code>fzf</code> å‘½ä»¤æ¥ä½¿ç”¨fzfäº†</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210301101707.png"></p><p>å¦‚æœä½ åˆšå®‰è£…å®Œæˆ,ä½ çš„ç•Œé¢è·Ÿä¸Šå›¾ä¸ä¸€æ ·,æ²¡æœ‰å³ä¾§çš„é¢„è§ˆçª—å£,åˆ«ç€æ€¥,è¿™äº›æ˜¯å¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹çš„.</p><ul><li>å¦‚æœè¦å®‰è£…    <code> key bindings</code> å’Œ <code>fuzzy completion</code> :</li></ul><pre><code class="line-numbers language-bash">$(brew --prefix)/opt/fzf/install</code></pre><p>ä¸€è·¯y,åˆ™ä¼šåœ¨ä½ çš„æ ¹ç›®å½•ä¸‹ç”Ÿæˆ <code>.fzf.bash</code> å’Œ <code>.fzf.zsh</code> æ–‡ä»¶,æƒ³è¦é…ç½®fzf,åˆ™åªéœ€ä¿®æ”¹ç›¸åº”çš„æ–‡ä»¶å³å¯.</p><h2 id="FZF-ZSH-AMAZING"><a href="#FZF-ZSH-AMAZING" class="headerlink" title="FZF + ZSH = AMAZING"></a>FZF + ZSH = AMAZING</h2><p>fzfçš„é…ç½®æ–‡ä»¶å†™åœ¨ <code>.fzf.zsh</code> ä¸­, ç”±äºæˆ‘çš„ <code>zsh</code> é…ç½®æ–‡ä»¶åœ¨ <code>.config/zsh</code> ç›®å½•ä¸‹, æ‰€ä»¥æˆ‘å°†fzfçš„é…ç½®æ–‡ä»¶ä¹Ÿç§»åˆ°æ­¤å¤„</p><pre><code class="line-numbers language-bash">mv ~/.fzf.zsh ~/.config/zsh/fzf.zsh</code></pre><p>ä¸‹é¢å¼€å§‹é…ç½® <code>fzf.zsh</code> æ–‡ä»¶</p><ul><li>fzfçš„é»˜è®¤æœç´¢å·¥å…·: ag</li></ul><pre><code class="line-numbers language-bash">export FZF_DEFAULT_COMMAND=&#39;ag&#39;export FZF_DEFAULT_COMMAND=&#39;ag --hidden --ignore .git -g &quot;&quot;&#39;</code></pre><p>ä¸Šé¢ä¸¤æ¡ä»»é€‰å…¶ä¸€, ç¬¬äºŒæ¡è¡¨ç¤ºæœç´¢åˆ°çš„æ–‡ä»¶åŒ…å«éšè—æ–‡ä»¶,å¿½ç•¥ <code>.git</code> æ–‡ä»¶</p><ul><li>æ¨¡ç³ŠæŸ¥æ‰¾è¡¥å…¨</li></ul><p>fzfçš„é»˜è®¤é”®ä½ä¸º <code>**</code> ,å¤ªéº»çƒ¦äº†,æ¢æˆ <code>\</code> å°±èˆ’æœå¤šäº†</p><pre><code class="line-numbers language-bash">export FZF_COMPLETION_TRIGGER=&#39;\&#39;</code></pre><ul><li>é¢„è§ˆçª—å£çš„å®ç°</li></ul><pre><code class="line-numbers language-bash">export FZF_DEFAULT_OPTS=&#39;--bind ctrl-k:down,ctrl-i:up --preview &quot;[[ $(file --mime &#123;&#125;) =~ binary ]] &amp;&amp; echo &#123;&#125; is a binary file || (ccat --color=always &#123;&#125; || highlight -O ansi -l &#123;&#125; || cat &#123;&#125;) 2&gt; /dev/null | head -500&quot;&#39;</code></pre><p>ç»“åˆæˆ‘çš„vimä½¿ç”¨ä¹ æƒ¯,æˆ‘å°† <code>ctrl + i</code> è®¾ç½®ä¸ºå‘ä¸Š, <code>ctrl + k</code> è®¾ç½®ä¸ºå‘ä¸‹</p><p>å½“ç„¶,è¿˜æœ‰ä¸€äº›å…¶ä»–çš„é…ç½®,è¿™äº›éƒ½å¯ä»¥åœ¨fzfçš„æ–‡æ¡£é‡Œæ‰¾åˆ°.</p><h2 id="FZF-RANGER-EXCELLENT"><a href="#FZF-RANGER-EXCELLENT" class="headerlink" title="FZF + RANGER = EXCELLENT"></a>FZF + RANGER = EXCELLENT</h2><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/ranger.gif"></p><p>fzf å’Œranger ç»“åˆå¯ç›´æ¥åœ¨rangerä¸‹è¿›è¡Œæ–‡ä»¶æœç´¢,ç›´æ¥è·³è½¬åˆ°æ–‡ä»¶æ‰€åœ¨ç›®å½•</p><ul><li>é¦–å…ˆåœ¨rangerçš„é…ç½®æ–‡ä»¶ä¸­è®¾ç½®æ‰“å¼€fzfæœç´¢çš„å¿«æ·é”®( <code>ctrl+f</code> )</li></ul><pre><code class="line-numbers language-bash">vim ~/.config/ranger/rc.conf// add the following linemap &lt;C-f&gt; fzf_select</code></pre><ul><li>åœ¨ <code>commands.py</code> ä¸­æ·»åŠ     <code>fzf_select</code> å‡½æ•°</li></ul><pre><code class="line-numbers language-python">class fzf_select(Command):    &quot;&quot;&quot;    :fzf_select    Find a file using fzf.    With a prefix argument select only directories.    See: https://github.com/junegunn/fzf    &quot;&quot;&quot;    def execute(self):        import subprocess        import os.path        if self.quantifier:            # match only directories            command=&quot;find -L . \( -path &#39;*/\.*&#39; -o -fstype &#39;dev&#39; -o -fstype &#39;proc&#39; \) -prune \            -o -type d -print 2&gt; /dev/null | sed 1d | cut -b3- | fzf +m&quot;        else:            # match files and directories            command=&quot;find -L . \( -path &#39;*/\.*&#39; -o -fstype &#39;dev&#39; -o -fstype &#39;proc&#39; \) -prune \            -o -print 2&gt; /dev/null | sed 1d | cut -b3- | fzf +m&quot;        fzf = self.fm.execute_command(command, universal_newlines=True, stdout=subprocess.PIPE)        stdout, stderr = fzf.communicate()        if fzf.returncode == 0:            fzf_file = os.path.abspath(stdout.rstrip(&#39;\n&#39;))            if os.path.isdir(fzf_file):                self.fm.cd(fzf_file)            else:                self.fm.select_file(fzf_file)</code></pre><h2 id="FZF-VIM-UNBELIVABLE"><a href="#FZF-VIM-UNBELIVABLE" class="headerlink" title="FZF + VIM = UNBELIVABLE"></a>FZF + VIM = UNBELIVABLE</h2><p><a href="https://github.com/junegunn/fzf.vim">fzf.vim</a> æ˜¯fzfä¸ºvimç©å®¶ç¼–å†™çš„æ’ä»¶</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210301113521.png"></p><p><code>fzf.vim</code> çš„ <a href="https://godliuyang.wang/2021/02/20/neovim/#toc-heading-8">è¯¦ç»†é…ç½®ä¸å¿«æ·é”®è®¾ç½®</a> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>LINUX</title>
      <link href="/2021/02/27/linux/"/>
      <url>/2021/02/27/linux/</url>
      
        <content type="html"><![CDATA[<h2 id="USER"><a href="#USER" class="headerlink" title="USER"></a>USER</h2><ul><li>æ·»åŠ ç”¨æˆ·</li></ul><pre><code class="line-numbers language-bash">sudo adduser username</code></pre><ul><li>å°†ç”¨æˆ·æ·»åŠ åˆ°sudoç»„</li></ul><pre><code class="line-numbers language-bash">sudo usermod -aG sudo username</code></pre><ul><li>åˆ é™¤ç”¨æˆ·</li></ul><pre><code class="line-numbers language-bash">sudo deluser username</code></pre><ul><li>åˆ é™¤ç”¨æˆ·,å¹¶åˆ é™¤åŠ ç›®å½•</li></ul><pre><code class="line-numbers language-bash">sudo deluser --remove-home username</code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Git</title>
      <link href="/2021/02/27/git/"/>
      <url>/2021/02/27/git/</url>
      
        <content type="html"><![CDATA[<h1 id="1-Github-Cheat-Sheet"><a href="#1-Github-Cheat-Sheet" class="headerlink" title="1. Github Cheat Sheet"></a>1. Github Cheat Sheet</h1><h2 id="é…ç½®å·¥å…·"><a href="#é…ç½®å·¥å…·" class="headerlink" title="é…ç½®å·¥å…·"></a>é…ç½®å·¥å…·</h2><p>å¯¹æ‰€æœ‰æœ¬åœ°ä»“åº“çš„ç”¨æˆ·ä¿¡æ¯è¿›è¡Œé…ç½®</p><ul><li>å¯¹ä½ çš„commitæ“ä½œè®¾ç½®å…³è”çš„ç”¨æˆ·å</li></ul><pre><code class="line-numbers language-bash">$ git config --global user.name &quot;[name]&quot;</code></pre><ul><li>å¯¹ä½ çš„commitæ“ä½œè®¾ç½®å…³è”çš„é‚®ç®±åœ°å€</li></ul><pre><code class="line-numbers language-bash">$ git config --global user.email &quot;[email address]&quot;</code></pre><ul><li>å¯ç”¨æœ‰å¸®åŠ©çš„å½©è‰²å‘½ä»¤è¡Œè¾“å‡º</li></ul><pre><code class="line-numbers language-bash">$ git config --global color.ui auto</code></pre><h2 id="åˆ†æ”¯"><a href="#åˆ†æ”¯" class="headerlink" title="åˆ†æ”¯"></a>åˆ†æ”¯</h2><p>åˆ†æ”¯æ˜¯ä½¿ç”¨ Git å·¥ä½œçš„ä¸€ä¸ªé‡è¦éƒ¨åˆ†ã€‚ä½ åšçš„ä»»ä½•æäº¤éƒ½ä¼šå‘ç”Ÿåœ¨å½“å‰â€œchecked outâ€åˆ°çš„åˆ†æ”¯ä¸Šã€‚ä½¿ç”¨<code>git status</code>æŸ¥çœ‹é‚£æ˜¯å“ªä¸ªåˆ†æ”¯ã€‚</p><ul><li>åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯</li></ul><pre><code class="line-numbers language-bash">$ git branch [branch-name]</code></pre><ul><li>åˆ‡æ¢åˆ°æŒ‡å®šåˆ†æ”¯å¹¶æ›´æ–°å·¥ä½œç›®å½•(working directory)</li></ul><pre><code class="line-numbers language-bash">$ git checkout [branch-name]</code></pre><ul><li>å°†æŒ‡å®šåˆ†æ”¯çš„å†å²åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ã€‚è¿™é€šå¸¸åœ¨æ‹‰å–è¯·æ±‚(PR)ä¸­å®Œæˆï¼Œä½†ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦çš„ Git æ“ä½œã€‚</li></ul><pre><code class="line-numbers language-bash">$ git merge [branch]</code></pre><ul><li>åˆ é™¤æŒ‡å®šåˆ†æ”¯</li></ul><pre><code class="line-numbers language-bash">$ git branch -d [branch-name]</code></pre><h2 id="åˆ›å»ºä»“åº“"><a href="#åˆ›å»ºä»“åº“" class="headerlink" title="åˆ›å»ºä»“åº“"></a>åˆ›å»ºä»“åº“</h2><p>å½“ç€æ‰‹äºä¸€ä¸ªæ–°çš„ä»“åº“æ—¶ï¼Œä½ åªéœ€åˆ›å»ºä¸€æ¬¡ã€‚è¦ä¹ˆåœ¨æœ¬åœ°åˆ›å»ºï¼Œç„¶åæ¨é€åˆ° GitHubï¼›è¦ä¹ˆé€šè¿‡ clone ä¸€ä¸ªç°æœ‰ä»“åº“ã€‚</p><ul><li>åˆå§‹åŒ–ä»“åº“</li></ul><pre><code class="line-numbers language-bash">$ git init</code></pre><ul><li>åœ¨ä½¿ç”¨è¿‡<code>git init</code> å‘½ä»¤åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†æœ¬åœ°ä»“åº“ä¸ä¸€ä¸ª GitHub ä¸Šçš„ç©ºä»“åº“è¿æ¥èµ·æ¥, å³å°†ç°åœ¨ç›®å½•è½¬åŒ–ä¸ºä¸€ä¸ªgitä»“åº“</li></ul><pre><code class="line-numbers language-bash">$ git remote add origin [url]</code></pre><ul><li>Cloneï¼ˆä¸‹è½½ï¼‰ä¸€ä¸ªå·²å­˜åœ¨äº GitHub ä¸Šçš„ä»“åº“ï¼ŒåŒ…æ‹¬æ‰€æœ‰çš„æ–‡ä»¶ã€åˆ†æ”¯å’Œæäº¤(commits)</li></ul><pre><code class="line-numbers language-bash">$ git clone [url]</code></pre><h2 id="gitignoreæ–‡ä»¶"><a href="#gitignoreæ–‡ä»¶" class="headerlink" title=".gitignoreæ–‡ä»¶"></a>.gitignoreæ–‡ä»¶</h2><p>æœ‰æ—¶ä¸€äº›æ–‡ä»¶æœ€å¥½ä¸è¦ç”¨ Git è·Ÿè¸ªã€‚è¿™é€šå¸¸åœ¨åä¸º<code>.gitignore</code>çš„ç‰¹æ®Šæ–‡ä»¶ä¸­å®Œæˆã€‚ä½ å¯ä»¥åœ¨<a href="https://github.com/github/gitignore">github.com/github/gitignore</a> æ‰¾åˆ°æœ‰ç”¨çš„<code>.gitignore</code>æ–‡ä»¶æ¨¡æ¿.</p><h2 id="åŒæ­¥æ›´æ”¹"><a href="#åŒæ­¥æ›´æ”¹" class="headerlink" title="åŒæ­¥æ›´æ”¹"></a>åŒæ­¥æ›´æ”¹</h2><p>å°†ä½ æœ¬åœ°ä»“åº“ä¸ GitHub.com ä¸Šçš„è¿œç«¯ä»“åº“åŒæ­¥</p><ul><li>ä¸‹è½½è¿œç«¯è·Ÿè¸ªåˆ†æ”¯çš„æ‰€æœ‰å†å²</li></ul><pre><code class="line-numbers language-bash">$ git fetch</code></pre><ul><li>å°†è¿œç«¯è·Ÿè¸ªåˆ†æ”¯åˆå¹¶åˆ°å½“å‰æœ¬åœ°åˆ†æ”¯</li></ul><pre><code class="line-numbers language-bash">git merge</code></pre><ul><li>å°†æ‰€æœ‰æœ¬åœ°åˆ†æ”¯æäº¤ä¸Šä¼ åˆ° GitHub</li></ul><pre><code class="line-numbers language-bash">$ git push</code></pre><ul><li>ä½¿ç”¨æ¥è‡ª GitHub çš„å¯¹åº”è¿œç«¯åˆ†æ”¯çš„æ‰€æœ‰æ–°æäº¤æ›´æ–°ä½ å½“å‰çš„æœ¬åœ°å·¥ä½œåˆ†æ”¯ã€‚Â·<code>git pull</code> æ˜¯ <code>git fetch</code> å’Œ    <code>git merge</code> çš„ç»“åˆ</li></ul><pre><code class="line-numbers language-bash">$ git pull</code></pre><h2 id="è¿›è¡Œæ›´æ”¹"><a href="#è¿›è¡Œæ›´æ”¹" class="headerlink" title="è¿›è¡Œæ›´æ”¹"></a>è¿›è¡Œæ›´æ”¹</h2><p>æµè§ˆå¹¶æ£€æŸ¥é¡¹ç›®æ–‡ä»¶çš„å‘å±•</p><ul><li>åˆ—å‡ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²</li></ul><pre><code class="line-numbers language-bash">$ git log</code></pre><ul><li>åˆ—å‡ºæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬é‡å‘½å</li></ul><pre><code class="line-numbers language-bash">$ git log --follow [file]</code></pre><ul><li>å±•ç¤ºä¸¤ä¸ªåˆ†æ”¯ä¹‹é—´çš„å†…å®¹å·®å¼‚</li></ul><pre><code class="line-numbers language-bash">$ git diff [first-branch]...[second-branch]</code></pre><ul><li>è¾“å‡ºæŒ‡å®šcommitçš„å…ƒæ•°æ®å’Œå†…å®¹å˜åŒ–</li></ul><pre><code class="line-numbers language-bash">$ git show [commit]</code></pre><ul><li>å°†æ–‡ä»¶è¿›è¡Œå¿«ç…§å¤„ç†ç”¨äºç‰ˆæœ¬æ§åˆ¶</li></ul><pre><code class="line-numbers language-bash">$ git add [file]</code></pre><ul><li>å°†æ–‡ä»¶å¿«ç…§æ°¸ä¹…åœ°è®°å½•åœ¨ç‰ˆæœ¬å†å²ä¸­</li></ul><pre><code class="line-numbers language-bash">$ git commit -m &quot;[descriptive message]&quot;</code></pre><h2 id="é‡åšæäº¤"><a href="#é‡åšæäº¤" class="headerlink" title="é‡åšæäº¤"></a>é‡åšæäº¤</h2><p>æ¸…é™¤é”™è¯¯å’Œæ„å»ºç”¨äºæ›¿æ¢çš„å†å²</p><ul><li>æ’¤é”€æ‰€æœ‰ <code>[commit]</code>  <strong>å</strong>çš„æäº¤,åœ¨æœ¬åœ°ä¿å­˜æ›´æ”¹</li></ul><pre><code class="line-numbers language-bash">$ git reset [commit]</code></pre><ul><li>æ”¾å¼ƒæ‰€æœ‰å†å²ï¼Œæ”¹å›æŒ‡å®šæäº¤ã€‚</li></ul><pre><code class="line-numbers language-bash">$ git reset --hard [commit]</code></pre><h2 id="æœ¯è¯­è¡¨"><a href="#æœ¯è¯­è¡¨" class="headerlink" title="æœ¯è¯­è¡¨"></a>æœ¯è¯­è¡¨</h2><ul><li><strong>git</strong> : ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿ</li><li><strong>GitHub</strong> : ä¸€ä¸ªæ‰˜ç®¡å’Œåä½œç®¡ç† Git ä»“åº“çš„å¹³å°</li><li><strong>commitæäº¤</strong> : ä¸€ä¸ª Git å¯¹è±¡ï¼Œæ˜¯ä½ æ•´ä¸ªä»“åº“çš„å¿«ç…§çš„å“ˆå¸Œå€¼</li><li><strong>branchåˆ†æ”¯</strong> : ä¸€ä¸ªè½»å‹å¯ç§»åŠ¨çš„ commit æŒ‡é’ˆ</li><li><strong>clone</strong> : ä¸€ä¸ªä»“åº“çš„æœ¬åœ°ç‰ˆæœ¬ï¼ŒåŒ…å«æ‰€æœ‰æäº¤å’Œåˆ†æ”¯</li><li><strong>remoteè¿œç«¯</strong> : ä¸€ä¸ª GitHub ä¸Šçš„å…¬å…±ä»“åº“ï¼Œæ‰€æœ‰å°ç»„æˆå‘˜é€šè¿‡å®ƒæ¥äº¤æ¢ä¿®æ”¹</li><li><strong>fork</strong> : ä¸€ä¸ªå±äºå¦ä¸€ç”¨æˆ·çš„ GitHub ä¸Šçš„ä»“åº“çš„å‰¯æœ¬</li><li><strong>pull request æ‹‰å–è¯·æ±‚</strong>: ä¸€å¤„ç”¨äºæ¯”è¾ƒå’Œè®¨è®ºåˆ†æ”¯ä¸Šå¼•å…¥çš„å·®å¼‚ï¼Œä¸”å…·æœ‰è¯„å®¡ã€è¯„è®ºã€é›†æˆæµ‹è¯•ç­‰åŠŸèƒ½çš„åœ°æ–¹</li><li><strong>HEAD</strong> : ä»£è¡¨ä½ å½“å‰çš„å·¥ä½œç›®å½•ã€‚ä½¿ç”¨git checkout å¯ç§»åŠ¨ HEAD æŒ‡é’ˆåˆ°ä¸åŒçš„åˆ†æ”¯ã€æ ‡è®°(tags)æˆ–æäº¤</li></ul>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>Neovim</title>
      <link href="/2021/02/20/neovim/"/>
      <url>/2021/02/20/neovim/</url>
      
        <content type="html"><![CDATA[<p>æœ¬æ–‡æ˜¯ä¸ºäº†æ–¹ä¾¿è®°å¿†vimæ’ä»¶çš„ä¸€äº›å¿«æ·é”®ã€‚è¿™æ˜¯æˆ‘çš„é…ç½®åœ°å€ï¼š<a href="https://github.com/liuyaanng/nvim">nvim</a>, è¯¥é…ç½®åœ¨ä½ è£…å®Œneovimä¹‹åï¼Œæ‰“å¼€neovimåä¼šè‡ªåŠ¨å®‰è£…æ’ä»¶ï¼Œä½ éœ€è¦ä¿®æ”¹çš„åœ°æ–¹æ˜¯ä¸‹å›¾ä¸­pythonä½ç½®ä»¥åŠmarkdowné¢„è§ˆæ’ä»¶ä¸­çš„é»˜è®¤æµè§ˆå™¨ã€‚<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Neovim/1.jpg"> </p><p>æˆ‘çš„vimæ’ä»¶å¤§éƒ¨åˆ†æ¥è‡ªäºä¸€ä½å¤§ä½¬<a href="https://github.com/theniceboy">theniceboy</a>, ä»–åœ¨Bç«™ä¸Šå‡ºäº†å¾ˆå¤šåŒ…æ‹¬vim, ranger, i3, dwmç­‰ç­‰æ•™ç¨‹, è¿™æ˜¯ä»–çš„Bç«™åœ°å€ï¼š<a href="https://space.bilibili.com/13081489?from=search&seid=4240676561582012103">theCW</a> </p><h2 id="1-Install-Neovim"><a href="#1-Install-Neovim" class="headerlink" title="1. Install Neovim"></a>1. Install Neovim</h2><p><a href="https://github.com/neovim/neovim/wiki/Installing-Neovim">Install Guide</a> </p><h2 id="2-æœ‰ç”¨çš„å·¥å…·"><a href="#2-æœ‰ç”¨çš„å·¥å…·" class="headerlink" title="2. æœ‰ç”¨çš„å·¥å…·"></a>2. æœ‰ç”¨çš„å·¥å…·</h2><ul><li>figlet</li></ul><pre><code class="line-numbers language-bash">brew install figlet</code></pre><h2 id="3-VimåŸºç¡€å¿«æ·é”®"><a href="#3-VimåŸºç¡€å¿«æ·é”®" class="headerlink" title="3. VimåŸºç¡€å¿«æ·é”®"></a>3. VimåŸºç¡€å¿«æ·é”®</h2><p>è¿™é‡Œ<code>&lt;LEADER&gt;</code>å°±æ˜¯ç©ºæ ¼é”®</p><ul><li>åŸºç¡€å¿«æ·é”®</li></ul><pre><code class="line-numbers language-vim">- &#39;;&#39; :Save &amp; quit- &#39;Q&#39; quit- &#39;ctrl_q&#39; Exit Vim, unless there are some buffers which have been changed.- &#39;S&#39; save- &#39;&lt;LEADER&gt;rc&#39; open vimrcUndo -    `l` undo- &#39;Y&#39; Visual Mode : copy to system clipboard      Normal Mode : copy till the end of the line.- &#39;&gt;&#39; right indent- &#39;&lt;&#39; left indentSearch- &#39;&lt;LEADER&gt;&lt;CR&gt;&#39; highlight off- &#39;=&#39; next- &#39;-&#39; last- &#39;&lt;LEADER&gt;dw&#39; adjacent duplicate wordsSpace to Tab- &#39;&lt;LEADER&gt;tt&#39; turn space to tabFolding- &#39;&lt;LEADER&gt;o&#39; foldingLazyGit- &#39;\g&#39; :Git- &#39;ctrl_g&#39; open lazygitCursor Movement&quot;     ^&quot;     u&quot; &lt; n   i &gt;&quot;     e&quot;     v- &#39;u&#39; up- &#39;e&#39; down- &#39;n&#39; left- &#39;i&#39; right- &#39;N&#39; go to the start of the line- &#39;I&#39; go to the end of the line- &#39;\v&#39; choose current line- &#39;w&#39; go to the next word or sign- &#39;b&#39; go to the last word or sign- &#39;h&#39; go to the next end of word- &#39;ctrl_U&#39; move up the view port without moving the cursor- &#39;ctrl_E&#39; move down the view port without moving the cursor- &#39;ctrl_a&#39; Insert Mode: move to the end of current line           Command Mode: move to the start of command lineCommand Mode Cursor Movement - &#39;ctrl_a&#39; move to the start of command line- &#39;ctrl_e&#39; move to the end of command line- &#39;ctrl_p&#39; move up- &#39;ctrl_n&#39; move down - &#39;ctrl_b&#39; move left- &#39;ctrl_f&#39; move right- &#39;alt_b&#39; move to last word- &#39;alt_w&#39; move to next wordSplit the screen- &#39;su&#39; to up- &#39;se&#39; to down- &#39;sn&#39; to left- &#39;si&#39; to rightWindow management- &#39;&lt;LEADER&gt;w&#39; go to last window- &#39;&lt;LEADER&gt;u&#39; up- &#39;&lt;LEADER&gt;e&#39; down- &#39;&lt;LEADER&gt;n&#39; left- &#39;&lt;LEADER&gt;i&#39; right- &#39;sh&#39; place the two windows up and down- &#39;sv&#39; place the two windows left and right- &#39;&lt;LEADER&gt;q&#39; close the window below the current window- &#39;qf&#39; close current windowRotate screen- &#39;srh&#39; horizontal rotate- &#39;srv&#39; vertical rotateResize splits- &#39;&lt;up&gt;&#39; increase horizontal size- &#39;&lt;down&gt;&#39; decrease horizontal size- &#39;&lt;left&gt;&#39; decrease vertical size- &#39;&lt;right&gt;&#39; increase vertical sizeTab management- &#39;tu&#39; create a new tab- &#39;tn&#39; move to left tab- &#39;ti&#39; move to right tab- &#39;tmn&#39; move current tab to left- &#39;tmi&#39; move current tab to right- &#39;&lt;LEADER&gt;/&#39; open a terminal window- &#39;tx&#39; use &#39;figlet&#39; to generate words- &#39;\s&#39; find and replace</code></pre><h2 id="4-Vim-æ’ä»¶"><a href="#4-Vim-æ’ä»¶" class="headerlink" title="4. Vim æ’ä»¶"></a>4. Vim æ’ä»¶</h2><h3 id="Pretty-Dress"><a href="#Pretty-Dress" class="headerlink" title="Pretty Dress"></a>Pretty Dress</h3><ul><li><a href="https://github.com/bling/vim-bufferline">vim-bufferline</a> </li><li><a href="https://github.com/bpietravalle/vim-bolt">vim-bolt</a> </li><li><a href="https://github.com/ajmwagar/vim-deus">vim-deus</a> </li></ul><h3 id="Status-line"><a href="#Status-line" class="headerlink" title="Status line"></a>Status line</h3><ul><li><a href="https://github.com/theniceboy/eleline.vim">lelline</a> </li><li><a href="https://github.com/ojroques/vim-scrollstatus">vim-scrollstatus</a> </li></ul><h3 id="General-Highlight"><a href="#General-Highlight" class="headerlink" title="General Highlight"></a>General Highlight</h3><ul><li><a href="https://github.com/RRethy/vim-hexokinase">vim-hexokinase</a> </li><li><a href="https://github.com/RRethy/vim-illuminate">vim-illuminate</a> </li></ul><h3 id="File-navigation"><a href="#File-navigation" class="headerlink" title="File navigation"></a>File navigation</h3><ul><li><p><a href="https://github.com/Yggdroot/LeaderF">LeaderF</a> </p></li><li><p><a href="https://github.com/junegunn/fzf.vim">fzf.vim</a><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210301113521.png"></p><ul><li><p><a href="https://github.com/junegunn/fzf/blob/master/README-VIM.md">fzf.vim README</a> </p></li><li><p>å®‰è£…</p><pre><code class="line-numbers language-vim">Plug &#39;junegunn/fzf.vim&#39;</code></pre><p>é…ç½®</p><pre><code class="line-numbers language-vim">&quot; ===&quot; === FZF&quot; ===set rtp+=/usr/local/opt/fzf&quot; set rtp+=/home/linuxbrew/.linuxbrew/opt/fzf&quot; noremap &lt;silent&gt; &lt;C-p&gt; :Files&lt;CR&gt;noremap &lt;silent&gt; &lt;C-p&gt; :Leaderf file&lt;CR&gt;noremap &lt;silent&gt; &lt;C-f&gt; :Rg&lt;CR&gt;noremap &lt;silent&gt; &lt;C-h&gt; :History&lt;CR&gt;&quot;noremap &lt;C-t&gt; :BTags&lt;CR&gt;noremap &lt;silent&gt; &lt;C-l&gt; :Lines&lt;CR&gt;noremap &lt;silent&gt; &lt;C-w&gt; :Buffers&lt;CR&gt;noremap &lt;leader&gt;; :History:&lt;CR&gt;let g:fzf_preview_window = &#39;right:60%&#39;let g:fzf_commits_log_options = &#39;--graph --color=always --format=&quot;%C(auto)%h%d %s %C(black)%C(bold)%cr&quot;&#39;function! s:list_buffers()  redir =&gt; list  silent ls  redir END  return split(list, &quot;\n&quot;)endfunctionfunction! s:delete_buffers(lines)  execute &#39;bwipeout&#39; join(map(a:lines, &#123;_, line -&gt; split(line)[0]&#125;))endfunctioncommand! BD call fzf#run(fzf#wrap(&#123;  \ &#39;source&#39;: s:list_buffers(),  \ &#39;sink*&#39;: &#123; lines -&gt; s:delete_buffers(lines) &#125;,  \ &#39;options&#39;: &#39;--multi --reverse --bind ctrl-a:select-all+accept&#39;\ &#125;))noremap &lt;c-d&gt; :BD&lt;CR&gt;let g:fzf_layout = &#123; &#39;window&#39;: &#123; &#39;width&#39;: 0.9, &#39;height&#39;: 0.8 &#125; &#125;</code></pre><p>å¿«æ·é”®:    </p></li><li><p><code>ctrl_f</code> æŸ¥æ‰¾æ–‡ä»¶</p></li><li><p><code>ctrl_p</code> ä½¿ç”¨ <code>LeaderF</code> æŸ¥æ‰¾å½“å‰ç›®å½•ä¸‹çš„æ–‡ä»¶</p></li><li><p><code>ctrl_l</code> æŸ¥æ‰¾å½“å‰æ–‡ä»¶çš„è¡Œ</p></li><li><p><code>ctrl_h</code> æ‰“å¼€æ–‡ä»¶æµè§ˆå†å²</p></li><li><p><code>ctrl_w</code> æ‰“å¼€buffer</p></li><li><p><code>ctrl_d</code> é€‰æ‹©å…³é—­æŒ‡å®šçš„buffer</p></li></ul></li><li><p><a href="https://github.com/kevinhwang91/rnvimr">rnvimr</a> åœ¨vimä¸‹ä½¿ç”¨ranger</p><p>  é…ç½® </p><pre><code class="line-numbers language-vim">&quot; ===&quot; === rnvimr&quot; ===let g:rnvimr_ex_enable = 1let g:rnvimr_pick_enable = 1let g:rnvimr_draw_border = 0&quot; Change the border&#39;s colorlet g:rnvimr_border_attr = &#123;&#39;fg&#39;: 14, &#39;bg&#39;: -1&#125;&quot; Add a shadow window, value is equal to 100 will disable shadowlet g:rnvimr_shadow_winblend = 70&quot; let g:rnvimr_bw_enable = 1highlight link RnvimrNormal CursorLinennoremap &lt;silent&gt; R :RnvimrToggle&lt;CR&gt;&lt;C-\&gt;&lt;C-n&gt;:RnvimrResize 0&lt;CR&gt;let g:rnvimr_action = &#123;                        \ &#39;&lt;C-t&gt;&#39;: &#39;NvimEdit tabedit&#39;,                        \ &#39;&lt;C-x&gt;&#39;: &#39;NvimEdit split&#39;,                        \ &#39;&lt;C-v&gt;&#39;: &#39;NvimEdit vsplit&#39;,                        \ &#39;gw&#39;: &#39;JumpNvimCwd&#39;,                        \ &#39;yw&#39;: &#39;EmitRangerCwd&#39;                        \ &#125;let g:rnvimr_layout = &#123; &#39;relative&#39;: &#39;editor&#39;,                        \ &#39;width&#39;: &amp;columns,                        \ &#39;height&#39;: &amp;lines,                        \ &#39;col&#39;: 0,                        \ &#39;row&#39;: 0,                        \ &#39;style&#39;: &#39;minimal&#39; &#125;let g:rnvimr_presets = [&#123;&#39;width&#39;: 0.8, &#39;height&#39;: 0.8&#125;]</code></pre><p>  å¿«æ·é”®</p><ul><li><code>R</code> æ‰“å¼€ranger</li></ul></li><li><p><a href="https://github.com/airblade/vim-rooter">vim-rooter</a> :è‡ªåŠ¨å°†vimçš„å·¥ä½œç›®å½•åˆ°é¡¹ç›®çš„æ ¹ç›®å½•.</p><p>  <code>Rooter changes the working directory to the project root when you open a file or directory.</code></p><p>  å¯¹æ¯”:<br>  åŸæ–‡ä»¶ç›®å½•:</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302121823.png"></p><p>  å…³é—­rooter: åœ¨vimé‡Œæ‰“å¼€ä¸€ä¸ªæ–‡ä»¶,æ­¤æ—¶vimçš„å·¥ä½œç›®å½•ä¾æ—§æ˜¯åŸæ–‡ä»¶æ‰€åœ¨ç›®å½•</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302122402.png"></p><p>  å¯ç”¨rooter: æ‰“å¼€æ–‡ä»¶,vimçš„å·¥ä½œç›®å½•ä¼šåˆ‡æ¢åˆ°æ–‡ä»¶çš„æ ¹ç›®å½•</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302122752.png"></p><p>  é…ç½®</p><pre><code class="line-numbers language-vim">&quot; ===&quot; === vim-rooter&quot; ===let g:rooter_patterns = [&#39;__vim_project_root&#39;, &#39;.git/&#39;]let g:rooter_silent_chdir = 1</code></pre><p>  é»˜è®¤æ‰“å¼€ <code>rooter</code></p></li><li><p><a href="https://github.com/pechorin/any-jump.vim">any-jump</a> </p><p>  ç”¨æ³•: åœ¨ <code>normal</code> å’Œ <code>visual</code> æ¨¡å¼ä¸‹éƒ½å¯ç”¨. åªéœ€è¦å°†å…‰æ ‡æ”¾åˆ°æƒ³è¦æŸ¥æ‰¾çš„å•è¯ä¸Š,è¿™ä¸ªå•è¯å¯ä»¥æ˜¯ <code>å˜é‡</code>, <code>ç±»</code>, <code>å¸¸é‡</code>, <code>åç§°</code>, <code>ç¬¦å·</code> ( <code>variable/class/constant/name/symbol</code> ) ç„¶åæŒ‰ä¸‹ <code>&lt;LEADER&gt;j</code> å³å¯.</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302124051.png"></p><p>  é…ç½®</p><pre><code class="line-numbers language-vim">&quot; ===&quot; === any-jump&quot; ===nnoremap &lt;LEADER&gt;j :AnyJump&lt;CR&gt;let g:any_jump_window_width_ratio  = 0.8let g:any_jump_window_height_ratio = 0.9</code></pre><p>  å¿«æ·é”®</p><ul><li><code>&lt;LEADER&gt;j</code> search </li></ul></li></ul><h3 id="Taglist"><a href="#Taglist" class="headerlink" title="Taglist"></a>Taglist</h3><ul><li><p><a href="https://github.com/liuchengxu/vista.vim">Vista.vim</a>  </p><p>  è¿™æ˜¯ä¸€æ¬¾æŸ¥çœ‹LSPç¬¦å·,æ ‡ç­¾çš„æ’ä»¶,å¯é…åˆå¤šä¸ªvimæ’ä»¶ä½¿ç”¨</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302125525.png"></p><p>  é…ç½®:</p><pre><code class="line-numbers language-vim">&quot; ===&quot; === Vista.vim&quot; ===noremap &lt;LEADER&gt;v :Vista coc&lt;CR&gt;noremap &lt;c-t&gt; :silent! Vista finder coc&lt;CR&gt;let g:vista_icon_indent = [&quot;â•°â”€â–¸ &quot;, &quot;â”œâ”€â–¸ &quot;]let g:vista_default_executive = &#39;ctags&#39;let g:vista_fzf_preview = [&#39;right:50%&#39;]let g:vista#renderer#enable_icon = 1let g:vista#renderer#icons = &#123;\   &quot;function&quot;: &quot;\uf794&quot;,\   &quot;variable&quot;: &quot;\uf71b&quot;,\  &#125;let g:scrollstatus_size = 15</code></pre><p>  å¿«æ·é”®:</p><ul><li><p><code>&lt;LEADER&gt;v</code> æ‰“å¼€vistaé¢æ¿</p></li><li><p><code>&lt;ctrl-t&gt;</code>  ä½¿ç”¨fzfæŸ¥æ‰¾åç§°</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302133944.png"></p></li></ul></li></ul><h3 id="Auto-Complete"><a href="#Auto-Complete" class="headerlink" title="Auto Complete"></a>Auto Complete</h3><ul><li><p><a href="https://github.com/neoclide/coc.nvim">coc</a> </p><p>  <a href="">è¯¦ç»†é…ç½®æ•™ç¨‹</a> </p></li><li><p><a href="https://github.com/wellle/tmux-complete.vim">tmux-complete.vim</a> </p><p>  åœ¨ä¸´è¿‘çš„tmuxçª—æ ¼ä¸­å¯åŠ¨å•è¯çš„è‡ªåŠ¨è¡¥å…¨</p><h3 id="Snippets"><a href="#Snippets" class="headerlink" title="Snippets"></a>Snippets</h3></li><li><p><a href="https://github.com/honza/vim-snippets">vim-snippets</a>     </p><p>  å¿«é€Ÿè¡¥å…¨å·¥å…·,éå¸¸å¼ºå¤§</p></li></ul><h3 id="Ubdo-Tree"><a href="#Ubdo-Tree" class="headerlink" title="Ubdo Tree"></a>Ubdo Tree</h3><ul><li><p><a href="https://github.com/mbbill/undotree">undotree</a></p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302154803.png"></p><p>  é…ç½®: </p><pre><code class="line-numbers language-vim">&quot; ===&quot; === Undotree&quot; ===noremap L :UndotreeToggle&lt;CR&gt;let g:undotree_DiffAutoOpen = 1let g:undotree_SetFocusWhenToggle = 1let g:undotree_ShortIndicators = 1let g:undotree_WindowLayout = 2let g:undotree_DiffpanelHeight = 8let g:undotree_SplitWidth = 24function g:Undotree_CustomMap()    nmap &lt;buffer&gt; u &lt;plug&gt;UndotreeNextState    nmap &lt;buffer&gt; e &lt;plug&gt;UndotreePreviousState    nmap &lt;buffer&gt; U 5&lt;plug&gt;UndotreeNextState    nmap &lt;buffer&gt; E 5&lt;plug&gt;UndotreePreviousStateendfunc</code></pre><p>  å¿«æ·é”®:</p><ul><li><code>L</code>  æ‰“å¼€undotree é¢æ¿</li></ul></li></ul><h3 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h3><ul><li><p><a href="https://github.com/gisphm/vim-gitignore">vim-gitignore</a>:<br>  æä¾› <code>.gitignore</code> æ–‡ä»¶é«˜äº®æ˜¾ç¤º</p></li><li><p><a href="https://github.com/fszymanski/fzf-gitignore">fzf-gitignore</a>:  ç”Ÿæˆ <code>.gitignore</code> æ–‡ä»¶</p><p>  é…ç½®:</p><pre><code class="line-numbers language-vim">noremap &lt;LEADER&gt;gi :FzfGitignore&lt;CR&gt;</code></pre><p>  å¿«æ·é”®:</p><ul><li><code>&lt;LEADER&gt;gi</code> ç”Ÿæˆ <code>.gitignore</code> æ–‡ä»¶</li></ul></li><li><p><a href="https://github.com/akiomik/git-gutter-vim">vim-gitgutter</a>:<br>  ä¸€ä¸ªä¿å­˜æ–‡ä»¶åèƒ½çœ‹åˆ°çŠ¶æ€çš„æ’ä»¶</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302164010.png"></p><p>  é…ç½®:</p><pre><code class="line-numbers language-vim">&quot; ==&quot; == GitGutter&quot; ==&quot; let g:gitgutter_signs = 0let g:gitgutter_sign_allow_clobber = 0let g:gitgutter_map_keys = 0let g:gitgutter_override_sign_column_highlight = 0let g:gitgutter_preview_win_floating = 1let g:gitgutter_sign_added = &#39;â–&#39;let g:gitgutter_sign_modified = &#39;â–‘&#39;let g:gitgutter_sign_removed = &#39;â–&#39;let g:gitgutter_sign_removed_first_line = &#39;â–”&#39;let g:gitgutter_sign_modified_removed = &#39;â–’&#39;&quot; autocmd BufWritePost * GitGutternnoremap &lt;LEADER&gt;gf :GitGutterFold&lt;CR&gt;nnoremap H :GitGutterPreviewHunk&lt;CR&gt;nnoremap &lt;LEADER&gt;g- :GitGutterPrevHunk&lt;CR&gt;nnoremap &lt;LEADER&gt;g= :GitGutterNextHunk&lt;CR&gt;</code></pre><p>  å¿«æ·é”®:</p><ul><li><p><code>&lt;LEADER&gt;gf</code> æŠ˜å </p></li><li><p><code>H</code> é¢„è§ˆå½“å‰æ–‡ä»¶å—</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302164503.png"></p></li><li><p><code>&lt;LEADER&gt;g-</code> ä¸Šä¸€å—</p></li><li><p><code>&lt;LEADER&gt;g+</code> ä¸‹ä¸€å—</p></li></ul></li><li><p><a href="https://github.com/cohama/agit.vim">agit</a>: è½»æ¾æŸ¥çœ‹gitæäº¤è®°å½•ä»¥åŠåšå‡ºçš„æ›´æ”¹</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210302164810.png"></p><p>  é…ç½®:</p><pre><code class="line-numbers language-vim">&quot; ===&quot; === Agit&quot; ===nnoremap &lt;LEADER&gt;gl :Agit&lt;CR&gt;let g:agit_no_default_mappings = 1</code></pre><p>  å¿«æ·é”®:</p><ul><li><code>&lt;LEADER&gt;gl</code> æŸ¥çœ‹gitæäº¤è®°å½•</li></ul></li></ul><h3 id="Autoformat"><a href="#Autoformat" class="headerlink" title="Autoformat"></a>Autoformat</h3><ul><li><p><a href="https://github.com/Chiel92/vim-autoformat">vim-autoformat</a>: ä¸€é”®æ ¼å¼åŒ–ä»£ç </p><p>  é…ç½®:</p><pre><code class="line-numbers language-vim">&quot; ===&quot; === AutoFormatr&quot; ===nnoremap \f :Autoformat&lt;CR&gt;let g:formatdef_custom_js = &#39;&quot;js-beautify -t&quot;&#39;let g:formatters_javascript = [&#39;custom_js&#39;]au BufWrite *.js :Autoformat</code></pre><p>  å¿«æ·é”®:</p><ul><li><code>\f</code> ä¸€é”®æ ¼å¼åŒ–ä»£ç </li></ul></li></ul><h3 id="HTML-CSS-JS-TypeScript-JSON-etc"><a href="#HTML-CSS-JS-TypeScript-JSON-etc" class="headerlink" title="HTML CSS JS TypeScript JSON, etc"></a>HTML CSS JS TypeScript JSON, etc</h3><ul><li><p><a href="https://github.com/leshill/vim-json">vim-json</a>: æä¾›jsonæ•°æ®çš„é«˜äº®æ˜¾ç¤º</p></li><li><p><a href="https://github.com/neoclide/jsonc.vim">jsonc.vim</a> : æ”¯æŒ <code>jsonc</code> è¯­æ³•</p></li><li><p><a href="https://github.com/othree/html5.vim">html5.vim</a> : æä¾›H5é«˜äº®å’Œè¡¥å…¨</p></li><li><p><a href="https://github.com/alvan/vim-closetag">vim-closetag</a> : å¿«é€Ÿä¹¦å†™ <code>html</code> çš„æ ‡ç­¾</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/vim-colsetag.gif"></p><p>  æ³¨æ„: ä¸‹é¢çš„æ ‡ç­¾ä¸é€‚ç”¨</p><pre><code class="line-numbers language-html">&lt;area&gt;, &lt;base&gt;, &lt;br&gt;, &lt;col&gt;, &lt;command&gt;, &lt;embed&gt;, &lt;hr&gt;, &lt;img&gt;,&lt;input&gt;, &lt;keygen&gt;, &lt;link&gt;, &lt;meta&gt;, &lt;param&gt;, &lt;source&gt;, &lt;track&gt;, &lt;wbr&gt;,&lt;menuitem&gt;</code></pre><p>  å¿«æ·é”®: </p><ul><li><code>&gt;</code> </li><li><code>&gt;&gt;</code> </li></ul></li><li><p><a href="https://github.com/coolwanglu/vim.js">vim-js</a> : æ”¯æŒJSè¯­æ³•</p></li><li><p><a href="https://github.com/HerringtonDarkholme/yats.vim">yats.vim</a> : æ”¯æŒ <code>TypeScript</code> è¯­æ³•</p></li><li><p><a href="https://github.com/posva/vim-vue">vim-vue</a> : æ”¯æŒvue</p></li></ul><h3 id="GO"><a href="#GO" class="headerlink" title="GO"></a>GO</h3><ul><li><a href="https://github.com/fatih/vim-go">vim-go</a> æ”¯æŒGoè¯­è¨€</li></ul><h3 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h3><ul><li><p><a href="https://github.com/Vimjas/vim-python-pep8-indent">vim-python-pep8-indent</a> : è°ƒæ•´vimçš„ç¼©è¿›ä»¥ç¬¦åˆ <a href="https://www.python.org/dev/peps/pep-0008/">pep8</a> è§„èŒƒ</p></li><li><p><a href="https://github.com/tweekmonster/braceless.vim">braceless.vim</a> : åŒ…å«ä¸€äº›æœ‰ç”¨çš„å¿«æ·é”®, åœ¨è¿™é‡Œåªé…ç½®å‡½æ•°ä¸»ä½“é«˜äº®</p><p>  é…ç½®:</p><pre><code class="line-numbers language-vim">autocmd FileType python BracelessEnable +highlight-cc2</code></pre><p>  å¿«æ·é”®:</p><ul><li>Moving to recognized blocks is done with <code>[[</code> and <code>]]</code>. In Python, <code>[m</code> and <code>]m</code> moves to def and class blocks, while <code>[M</code> and <code>]M</code> moves to the end of those blocks.</li><li><code>zc</code> æŠ˜å </li><li><code>zR</code> å–æ¶ˆæŠ˜å </li></ul></li></ul><h3 id="Markdown"><a href="#Markdown" class="headerlink" title="Markdown"></a>Markdown</h3><ul><li><p><a href="https://github.com/iamcco/markdown-preview.nvim">markdown-preview</a> è¿™æ˜¯ä¸€ä¸ªå®æ—¶é¢„è§ˆmarkdownæ–‡ä»¶çš„æ’ä»¶, markdown æ–‡ä»¶æŒ‰<code>r</code>å³å¯å®æ—¶é¢„è§ˆ</p></li><li><p><a href="https://github.com/dhruvasagar/vim-table-mode">vim-table-mode</a> : mdæ–‡ä»¶å¿«é€Ÿåˆ›å»ºè¡¨æ ¼</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/vim-table-mode.gif"><br>  é…ç½®:</p><pre><code class="line-numbers language-vim">&quot;let g:table_mode_disable_mappings = 1let g:table_mode_cell_text_object_i_map = &#39;k&lt;Bar&gt;&#39;</code></pre><p>  å¿«æ·é”®: </p><ul><li><code>&lt;LEADER&gt;tm</code>:  æ‰“å¼€/å…³é—­    <code>table-mode</code></li></ul></li><li><p><a href="https://github.com/mzlogin/vim-markdown-toc">vim-markdown-toc</a> : ä¸€é”®ç”ŸæˆTOC</p></li><li><p><a href="https://github.com/dkarter/bullets.vim">bullets.vim</a> </p></li></ul><h3 id="Editor-Enhancement"><a href="#Editor-Enhancement" class="headerlink" title="Editor Enhancement"></a>Editor Enhancement</h3><ul><li><p><a href="https://github.com/jiangmiao/auto-pairs">auto-pairs</a> : æˆå¯¹æ·»åŠ æˆ–åˆ é™¤æ‹¬å·, å¼•å·</p></li><li><p><a href="https://github.com/mg979/vim-visual-multi">vim-visual-multi</a></p></li><li><p><a href="https://github.com/tomtom/tcomment_vim">tcomment_vim</a> :å¿«é€Ÿæ³¨é‡Šå†…å®¹</p><p>  é…ç½®:</p><pre><code class="line-numbers language-vim">let g:tcomment_textobject_inlinecomment = &#39;&#39;nmap &lt;LEADER&gt;cn g&gt;cvmap &lt;LEADER&gt;cn g&gt;nmap &lt;LEADER&gt;cu g&lt;cvmap &lt;LEADER&gt;cu g&lt;</code></pre><p>  å¿«æ·é”®:</p><ul><li><code>&lt;leader&gt;cn</code> æ³¨é‡Š</li><li><code>&lt;leader&gt;cu</code> å–æ¶ˆæ³¨é‡Š</li></ul></li><li><p><a href="https://github.com/LIUYAANNG/ANTOVIM">ANTOVIM</a> : ä¸€é”®æ”¹å˜ <code>TRUE</code> å’Œ <code>FALSE</code></p><p>  å¿«æ·é”®:</p><ul><li><code>gs</code> åˆ‡æ¢</li></ul></li><li><p><a href="https://github.com/tpope/vim-surround">vim-surround</a> </p><p>  å¿«æ·é”®:</p><ul><li><code>yskw&#39;</code> åœ¨æ‰€é€‰å•è¯ä¸¤è¾¹æ·»åŠ  <code>&#39;</code> : <code>word</code> to <code>&#39;word&#39;</code></li><li><code>cd&#39;&quot;</code> å°†å•è¯ä¸¤è¾¹çš„ <code>&#39;&#39;</code> å˜æˆ    <code>&quot;&quot;</code> : <code>&#39;word&#39;</code> to <code>&quot;word&quot;</code></li></ul></li><li><p><a href="https://github.com/gcmt/wildfire.vim">wildfire.vim</a> : é€‰ä¸­ç‰¹æ®Šç¬¦å·åŒ…è£¹çš„æ–‡å­—</p><p>  å¿«æ·é”®:</p><ul><li><p>åœ¨ <code>Visual Mode</code> ä¸‹, ä½¿ç”¨ <code>k&#39;</code> ä¼šé€‰ä¸­è¢« <code>&#39;&#39;</code>åŒ…è£¹çš„æ–‡å­—, åŒæ ·çš„    <code>k), k&#125;, k]</code> ä¹Ÿé€‚ç”¨</p><p>æ³¨æ„: ä»“åº“wikiä¸­å¿«æ·é”®æ˜¯ <code>i&#39;</code>, å› ä¸ºæˆ‘åšäº†æŒ‰é”®æ˜ å°„, å°† <code>i</code> æ˜ å°„åˆ° <code>k</code> ä¸Šäº†</p></li></ul></li><li><p><a href="https://github.com/godlygeek/tabular">tabular</a> : å¿«é€Ÿå¯¹é½æ–‡æœ¬</p><p>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/vim-tabular.gif"></p><p>  å¿«æ·é”®:</p><ul><li><code>ga</code> + å¯¹é½çš„å‚ç…§ç‰©, å¦‚: <code>:</code>, <code>=</code></li></ul></li><li><p><a href="https://github.com/tpope/vim-capslock">vim-capslock</a> : å¤§å†™é”å®š</p><p>  å¿«æ·é”®:</p><ul><li><code>Insert Mode</code> : <code>ctrl_C</code> </li><li><code>Normal Mode</code> : <code>gC</code></li></ul></li><li><p><a href="https://github.com/easymotion/vim-easymotion">vim-easymotion</a>  å¾…å®Œå–„</p></li><li><p><a href="https://github.com/svermeulen/vim-subversive">vim-subversive</a><br>  <img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/vim-subversive.gif"></p></li><li></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> vim </tag>
            
            <tag> neovim </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode-CLI</title>
      <link href="/2021/02/10/leetcode-cli/"/>
      <url>/2021/02/10/leetcode-cli/</url>
      
        <content type="html"><![CDATA[<p>ç”±äºæˆ‘æœ‰é•¿æœŸä½¿vimçš„ä¹ æƒ¯, åœ¨åˆ·leetcodeé¢˜æ—¶,åœ¨ç½‘é¡µä¸Šå†™ä»£ç å®åœ¨æ˜¯æœ‰ç‚¹éš¾å—, <a href="https://github.com/skygragon/leetcode-cli">LeetCode-cli</a> å®Œç¾è§£å†³äº†æˆ‘çš„é—®é¢˜. </p><p>leetcodeæ”¯æŒæœ¬åœ°ç¼“å­˜é¢˜ç›®,å†™ä»£ç ,æµ‹è¯•ä»¥åŠæäº¤åˆ°<code>leetcode.com</code>.</p><p><img loading="lazy" src="https://github.com/skygragon/leetcode-cli/raw/master/docs/screenshots/intro.2018.01.13.gif" alt="LeetCode-cli">     </p><p>ä¸‹é¢è®°å½•ä¸€ä¸‹é…ç½®<code>leetcode-cli</code></p><h2 id="1-å®‰è£…"><a href="#1-å®‰è£…" class="headerlink" title="1. å®‰è£…"></a>1. å®‰è£…</h2><ul><li>ä¸‹è½½ç¨³å®šç‰ˆæœ¬,å¹¶éå¼€å‘ç‰ˆæœ¬. <a href="https://skygragon.github.io/leetcode-cli/install">Install guide</a> <pre><code class="line-numbers language-bash">npm install -g leetcode-cli</code></pre></li></ul><h2 id="2-ä½¿ç”¨"><a href="#2-ä½¿ç”¨" class="headerlink" title="2. ä½¿ç”¨"></a>2. ä½¿ç”¨</h2><p>æ‰€æœ‰ç”¨æ³•wikiä»‹ç»çš„å¾ˆè¯¦ç»†, è‡ªå·±æ¢ç´¢å§å“ˆå“ˆå“ˆ! </p><p>åç»­å‘ç°ä»€ä¹ˆéªšæ“ä½œäº†å†æ¥è¿™é‡Œåˆ†äº«</p><h2 id="é—®é¢˜æ±‡æ€»"><a href="#é—®é¢˜æ±‡æ€»" class="headerlink" title="é—®é¢˜æ±‡æ€»"></a>é—®é¢˜æ±‡æ€»</h2><p><strong>ä¸€:  è¿æ¥ä¸åˆ°<code>leetcode</code>å’Œ<code>leetcode.cn</code>æœåŠ¡å™¨,éƒ½ä¼šæŠ¥<code>invalid password</code>çš„<code>error</code></strong><br>è§£å†³æ–¹æ¡ˆå¦‚ä¸‹:  å‚è€ƒ<br><a href="https://github.com/LeetCode-OpenSource/vscode-leetcode/issues/478#issuecomment-564757098">https://github.com/LeetCode-OpenSource/vscode-leetcode/issues/478#issuecomment-564757098</a> </p><ol><li>ç¡®ä¿å·²å®‰è£…<code>Node.js 8+</code></li><li><pre><code class="line-numbers language-bash"># to remove the old versionnpm uninstall -g leetcode-cli# to install the up-to-date version(2.6.17+)npm install -g leetcode-tools/leetcode-cli</code></pre>ä½¿ç”¨<code>leetcode version</code>ç¡®ä¿ç‰ˆæœ¬2.6.17+    </li><li>ä½¿ç”¨<code>cookie</code>ç™»é™†<br>è¿™ä¸ªç‰ˆæœ¬ä¸­åŒ…å«äº†å¾ˆå¤šç§ç™»é™†æ–¹å¼    </li></ol><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210210222559.png"><br>è‹¥ä½¿ç”¨è´¦å·å¯†ç æ— æ³•ç™»é™†,å¯å°è¯•ä½¿ç”¨<code>Cookie</code>ç™»é™†, å…·ä½“æ–¹å¼å¦‚ä¸‹:<br>ä»¥<code>chrome</code>æµè§ˆå™¨ä¸ºä¾‹:    </p><ul><li><p>ç™»é™†<a href="">leetcode</a> , æ‰“å¼€ <strong><code>æ£€æŸ¥</code></strong><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210210223002.png"></p></li><li><p>é€‰æ‹© <code>network</code> -&gt; <code>XHR</code> -&gt; <code>search</code> -&gt; <code>uid</code> -&gt; <code>all/</code><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210210223441.png"></p></li><li><p>ä½¿ç”¨<code>leetcode user -c</code>, è¾“å…¥<code>user</code>, å†å°†<code>cookie</code>ç²˜è´´å°±okäº†<img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/img/20210210231428.png"></p></li></ul><p><strong>2. ä½¿ç”¨<code>leetcode.cn</code>, ç”¨<code>leetcode show</code>å‘½ä»¤å‡ºç°<code>http error</code></strong><br>è§£å†³åŠæ³•: å‚è€ƒ<a href="https://github.com/LeetCode-OpenSource/vscode-leetcode/issues/489">https://github.com/LeetCode-OpenSource/vscode-leetcode/issues/489</a> </p><ul><li>æ‰¾åˆ°<code>leetcode.cn.js</code>æ–‡ä»¶, <strong>MacOS</strong> ä¸€èˆ¬åœ¨<code>/usr/local/lib/node_modules/vsc-leetcode-cli/lib/plugins/leetcode.cn.js</code></li><li>æ›¿æ¢æˆä»¥ä¸‹ä»£ç :</li></ul><pre><code class="line-numbers language-js">&#39;use strict&#39;var request = require(&#39;request&#39;);var config = require(&#39;../config&#39;);var h = require(&#39;../helper&#39;);var log = require(&#39;../log&#39;);var Plugin = require(&#39;../plugin&#39;);var session = require(&#39;../session&#39;);//// [Usage]//// https://github.com/skygragon/leetcode-cli-plugins/blob/master/docs/leetcode.cn.md//var plugin = new Plugin(15, &#39;leetcode.cn&#39;, &#39;2018.11.25&#39;,    &#39;Plugin to talk with leetcode-cn APIs.&#39;);plugin.init = function() &#123;  config.app = &#39;leetcode.cn&#39;;  config.sys.urls.base            = &#39;https://leetcode-cn.com&#39;;  config.sys.urls.login           = &#39;https://leetcode-cn.com/accounts/login/&#39;;  config.sys.urls.problems        = &#39;https://leetcode-cn.com/api/problems/$category/&#39;;  config.sys.urls.problem         = &#39;https://leetcode-cn.com/problems/$slug/description/&#39;;  config.sys.urls.graphql         = &#39;https://leetcode-cn.com/graphql&#39;;  config.sys.urls.problem_detail  = &#39;https://leetcode-cn.com/graphql&#39;;  config.sys.urls.test            = &#39;https://leetcode-cn.com/problems/$slug/interpret_solution/&#39;;  config.sys.urls.session         = &#39;https://leetcode-cn.com/session/&#39;;  config.sys.urls.submit          = &#39;https://leetcode-cn.com/problems/$slug/submit/&#39;;  config.sys.urls.submissions     = &#39;https://leetcode-cn.com/api/submissions/$slug&#39;;  config.sys.urls.submission      = &#39;https://leetcode-cn.com/submissions/detail/$id/&#39;;  config.sys.urls.verify          = &#39;https://leetcode-cn.com/submissions/detail/$id/check/&#39;;  config.sys.urls.favorites       = &#39;https://leetcode-cn.com/list/api/questions&#39;;  config.sys.urls.favorite_delete = &#39;https://leetcode-cn.com/list/api/questions/$hash/$id&#39;;&#125;;// FIXME: refactor those// update options with user credentialsfunction signOpts(opts, user) &#123;  opts.headers.Cookie = &#39;LEETCODE_SESSION=&#39; + user.sessionId +                        &#39;;csrftoken=&#39; + user.sessionCSRF + &#39;;&#39;;  opts.headers[&#39;X-CSRFToken&#39;] = user.sessionCSRF;  opts.headers[&#39;X-Requested-With&#39;] = &#39;XMLHttpRequest&#39;;&#125;function makeOpts(url) &#123;  const opts = &#123;&#125;;  opts.url = url;  opts.headers = &#123;&#125;;  if (session.isLogin())    signOpts(opts, session.getUser());  return opts;&#125;function checkError(e, resp, expectedStatus) &#123;  if (!e &amp;&amp; resp &amp;&amp; resp.statusCode !== expectedStatus) &#123;    const code = resp.statusCode;    log.debug(&#39;http error: &#39; + code);    if (code === 403 || code === 401) &#123;      e = session.errors.EXPIRED;    &#125; else &#123;      e = &#123;msg: &#39;http error&#39;, statusCode: code&#125;;    &#125;  &#125;  return e;&#125;plugin.getProblems = function(cb) &#123;  plugin.next.getProblems(function(e, problems) &#123;    if (e) return cb(e);    plugin.getProblemsTitle(function(e, titles) &#123;      if (e) return cb(e);      problems.forEach(function(problem) &#123;        const title = titles[problem.id];        if (title)          problem.name = title;      &#125;);      return cb(null, problems);    &#125;);  &#125;);&#125;;plugin.getProblemsTitle = function(cb) &#123;  log.debug(&#39;running leetcode.cn.getProblemNames&#39;);  const opts = makeOpts(config.sys.urls.graphql);  opts.headers.Origin = config.sys.urls.base;  opts.headers.Referer = &#39;https://leetcode-cn.com/api/problems/algorithms/&#39;;  opts.json = true;  opts.body = &#123;    query: [      &#39;query getQuestionTranslation($lang: String) &#123;&#39;,      &#39;  translations: allAppliedQuestionTranslations(lang: $lang) &#123;&#39;,      &#39;    title&#39;,      &#39;    questionId&#39;,      &#39;  &#125;&#39;,      &#39;&#125;&#39;,      &#39;&#39;    ].join(&#39;\n&#39;),    variables:     &#123;&#125;,    operationName: &#39;getQuestionTranslation&#39;  &#125;;  const spin = h.spin(&#39;Downloading questions titles&#39;);  request.post(opts, function(e, resp, body) &#123;    spin.stop();    e = checkError(e, resp, 200);    if (e) return cb(e);    const titles = [];    body.data.translations.forEach(function(x) &#123;      titles[x.questionId] = x.title;    &#125;);    return cb(null, titles);  &#125;);&#125;;module.exports = plugin;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode_Daily_Questions</title>
      <link href="/2021/02/09/leetcode-daily-questions/"/>
      <url>/2021/02/09/leetcode-daily-questions/</url>
      
        <content type="html"><![CDATA[<p>å¾…å®Œå–„</p>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¯çˆ±çš„å£çº¸</title>
      <link href="/2020/09/24/ke-ai-de-bi-zhi/"/>
      <url>/2020/09/24/ke-ai-de-bi-zhi/</url>
      
        <content type="html"><![CDATA[<p>åœ¨å¯»æ‰¾å£çº¸apiçš„æ—¶å€™çªç„¶å‘ç°äº†ä¸€å¥—ç°å¸¸ç°å¸¸å¯çˆ±çš„å£çº¸ï¼Œäºæ˜¯æƒ³æŠŠä»–ä»¬éƒ½æ”¾åˆ°æˆ‘çš„å£çº¸ç•Œé¢ä¸Šï¼Œæ— å¥ˆapiä¸€æ¬¡è¯·æ±‚çš„å›¾ç‰‡ä¸€æ ·ï¼Œæ‰€ä»¥å°±æƒ³ç€æŠŠè¿™äº›å›¾ç‰‡æä¸‹æ¥ï¼Œå­˜åˆ°æˆ‘çš„cdnåŠ é€Ÿä¸­ã€‚</p><p>å…ˆæ¥å‡ å¼ å›¾ï¼š</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_source/mc/1.jpg"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_source/mc/13.jpg"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_source/mc/29.jpg"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_source/mc/65.jpg"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_source/mc/94.jpg"> </p><h3 id="1-å¾—åˆ°å›¾ç‰‡"><a href="#1-å¾—åˆ°å›¾ç‰‡" class="headerlink" title="1. å¾—åˆ°å›¾ç‰‡"></a>1. å¾—åˆ°å›¾ç‰‡</h3><p>æ‡’ç™Œæ™šæœŸå½“ç„¶æ˜¯ä¸èƒ½ä¸€å¼ ä¸€å¼ çš„ä¸‹è½½äº†ï¼Œäºæ˜¯å°±æœ‰äº†ä¸‹é¢</p><pre><code class="line-numbers language-python">import osimport timeimport randomimport requestsimport urllib.requestfrom urllib.request import Request, urlopen, urlretrieveurl = yourapiheaders = &#123;    &#39;User-Agent&#39;:    &#39;Mozilla/5.0 (Windows NT 6.1; WOW64; rv:23.0) Gecko/20100101 Firefox/23.0&#39;&#125;folder_path = &#39;/Users/kevin/Pictures/wallpapers/mc/&#39;folder = os.path.exists(folder_path)if not folder:    os.makedirs(folder_path)    print(&quot;åˆ›å»ºæ–‡ä»¶å¤¹%sæˆåŠŸ&quot; % folder_path)file_names = os.listdir(folder_path)index = len(file_names)try:    while True:        flag = False        request = urllib.request.Request(url, headers=headers)        resp = urllib.request.urlopen(request)        real_url = resp.geturl()        response = requests.get(real_url)        # img_name = real_url.split(&#39;/&#39;)[4]        img_name = os.path.split(real_url)[1]        for file_name in file_names:            if file_name == img_name:                print(&#39;å›¾ç‰‡å·²å­˜åœ¨&#39;)                flag = True                break        if flag:            time.sleep(random.randint(0, 3))            continue        path = folder_path + img_name        index += 1        urlretrieve(real_url, path)        print(&#39;å·²ä¸‹è½½%då¼ å›¾ç‰‡,è¯¥å›¾ç‰‡çš„çœŸå®é“¾æ¥ä¸º%s&#39; % (index, real_url))        time.sleep(random.randint(0, 3))except:    print(&#39;å‡ºç°å¼‚å¸¸&#39;)</code></pre><p>è¿è¡Œå¦‚ä¸‹ï¼Œæ²¡æƒ³åˆ°è¿™ä¹ˆå¤šå¼ <br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_images/%E5%8F%AF%E7%88%B1%E7%9A%84%E5%A3%81%E7%BA%B8/1.jpg"> </p><h2 id="2-æ”¹åå­—"><a href="#2-æ”¹åå­—" class="headerlink" title="2. æ”¹åå­—"></a>2. æ”¹åå­—</h2><p>ç”±äºåŸå›¾ç‰‡çš„åå­—æ˜¯ä¸€ä¸²ç¥ç§˜ä»£ç ï¼Œè¿™æ ·çœ‹ç€å¤ªéš¾å—äº†ï¼Œäºæ˜¯æˆ‘å†³å®šç»™ä»–ä»¬æ”¹åå­—ï¼Œæ­£å¥½æœ€è¿‘vimç”¨çš„å¾ˆé¡ºæ‰‹ï¼Œæ¥ä¸‹æ¥å°±æ˜¯vimçš„éªšæ“ä½œäº†ã€‚</p><p>æ“ä½œä¹‹å‰å…ˆè®²è®²vimä¸ºä»€ä¹ˆå¯ä»¥è¿™ä¹ˆåš: å¯ä»¥åœ¨ Vim å†…éƒ¨è°ƒç”¨å¤–éƒ¨ç¨‹åº(å¦‚shellå‘½ä»¤)ï¼Œè¿˜å¯ä»¥æŠŠç¼“å†²åŒºçš„å†…å®¹ä½œä¸ºæ ‡å‡†è¾“å…¥ä¼ é€’ç»™å¤–éƒ¨å‘½ä»¤ï¼Œæˆ–æ˜¯æŠŠå¤–éƒ¨å‘½ä»¤çš„æ ‡å‡†è¾“å‡ºå¯¼å…¥åˆ°Vimç¼“å†²åŒºã€‚</p><h3 id="1-åœ¨vimå†…éƒ¨æ‰§è¡Œshellå‘½ä»¤"><a href="#1-åœ¨vimå†…éƒ¨æ‰§è¡Œshellå‘½ä»¤" class="headerlink" title="1. åœ¨vimå†…éƒ¨æ‰§è¡Œshellå‘½ä»¤"></a>1. åœ¨vimå†…éƒ¨æ‰§è¡Œshellå‘½ä»¤</h3><p>åœ¨Vimçš„å‘½ä»¤è¡Œæ¨¡å¼ä¸­ï¼Œåœ¨å‘½ä»¤å‰åŠ ä¸€ä¸ª!å‰ç¼€ (å‚è§:h :! ) å°±å¯ä»¥è°ƒç”¨å¤–éƒ¨çš„shellç¨‹åºã€‚<br>ä¾‹å¦‚ï¼šåœ¨vimä¸­ï¼Œæƒ³è¦æŸ¥çœ‹å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶,åœ¨å‘½ä»¤è¡Œæ¨¡å¼ä¸‹ä½¿ç”¨<code>:!ls</code></p><p>æ³¨ï¼š<code>:!ls</code> å’Œ <code>:ls</code> æ˜¯ä¸¤ä¸ªä¸åŒçš„Vimå‘½ä»¤ï¼Œå‰è€…æ˜¯åœ¨Vimä¸­è°ƒç”¨shellå‘½ä»¤ <code>ls</code>ï¼Œç”¨äºåˆ—å‡ºç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œåè€…è°ƒç”¨çš„æ˜¯ Vimå†…ç½®å‘½ä»¤<code>ls</code>ï¼Œç”¨æ¥æ˜¾ç¤ºå½“å‰ç¼“å†²åŒºåˆ—è¡¨çš„å†…å®¹.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/%E5%8F%AF%E7%88%B1%E7%9A%84%E5%A3%81%E7%BA%B8/1.gif"> </p><h3 id="2-å°†Vim-ç¼“å†²åŒºå†…å®¹ä½œä¸ºæ ‡å‡†è¾“å…¥æˆ–æ ‡å‡†è¾“å‡º"><a href="#2-å°†Vim-ç¼“å†²åŒºå†…å®¹ä½œä¸ºæ ‡å‡†è¾“å…¥æˆ–æ ‡å‡†è¾“å‡º" class="headerlink" title="2. å°†Vim ç¼“å†²åŒºå†…å®¹ä½œä¸ºæ ‡å‡†è¾“å…¥æˆ–æ ‡å‡†è¾“å‡º"></a>2. å°†Vim ç¼“å†²åŒºå†…å®¹ä½œä¸ºæ ‡å‡†è¾“å…¥æˆ–æ ‡å‡†è¾“å‡º</h3><p>åœ¨ä½¿ç”¨<code>!&#123;cmd&#125;</code>æ—¶ï¼Œvimä¼šå›æ˜¾commandçš„è¾“å‡ºï¼Œå¯ä»¥ç”¨<code>:read !&#123;cmd&#125;</code>æŠŠcommandçš„è¾“å‡ºé‡å®šå‘åˆ°å½“å‰vimçš„ç¼“å†²åŒºä¸­,æˆ–ä½¿ç”¨<code>:write !&#123;cmd&#125;</code>æŠŠå½“å‰vimç¼“å†²åŒºçš„å†…å®¹ä½œä¸ºcommandçš„æ ‡å‡†è¾“å…¥.</p><p>ä¾‹å¦‚ï¼šæ‰§è¡Œ<code>:write !sh</code>åˆ™ä¼šåœ¨shellä¸­é€è¡Œæ‰§è¡Œå½“å‰vimç¼“å†²åŒºçš„å†…å®¹</p><h3 id="3-æ”¹åå­—"><a href="#3-æ”¹åå­—" class="headerlink" title="3. æ”¹åå­—"></a>3. æ”¹åå­—</h3><p>æˆ‘æƒ³æŠŠåå­—æ”¹æˆï¼ˆ1.jpgï¼Œ2.jpgï¼‰çš„å½¢å¼ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°é€’å¢</p><ul><li>é¦–å…ˆé€‰ä¸­éœ€è¦ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œæ¥ä¸‹æ¥æ‰§è¡Œä¸¤æ¡æŒ‡ä»¤:</li></ul><pre><code class="line-numbers language-vim">:&#39;&lt;,&gt;&#39;s/.*/mv &amp; aaa.jpg:&#39;&lt;,&gt;&#39;s/aaa/\=line(&quot;.&quot;)-line(&quot;&#39;&lt;&quot;)+1</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_images/%E5%8F%AF%E7%88%B1%E7%9A%84%E5%A3%81%E7%BA%B8/2.gif"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@latest/blog_images/%E5%8F%AF%E7%88%B1%E7%9A%84%E5%A3%81%E7%BA%B8/3.gif"> </p><p>å…·ä½“å‘½ä»¤è¯¦è§£ï¼š</p><pre><code class="line-numbers language-vim">&#39;&lt;,&#39;&gt;        æ‰€é€‰ä¸­çš„åŒºåŸŸ (:help &#39;&lt;ï¼Œ:help &#39;&gt; )s            åœ¨é€‰ä¸­çš„åŒºåŸŸä¸­è¿›è¡Œæ›¿æ¢ (:help :s ).*           åŒ¹é…å½“å‰æ‰€æœ‰å­—ç¬¦\=           æŒ‡æ˜åé¢æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ (:help :s\= )line(&quot;.&quot;)    å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå· (:help line() )line(&quot;&#39;&lt;&quot;)   æ‰€é€‰åŒºåŸŸä¸­ç¬¬ä¸€è¡Œçš„è¡Œå· (:help line() ) </code></pre><p><code>&#39;&lt;</code>å’Œ<code>&#39;&gt;</code>æ˜¯ä½¿ç”¨äº†â€vâ€ï¼Œâ€Vâ€å‘½ä»¤é€‰ä¸­ä¸€ä¸ªvisualåŒºåŸŸåï¼ŒVIMè®¾ç½®çš„æ ‡è®°ï¼Œåˆ†åˆ«ç”¨æ¥æ ‡è¯†visualåŒºåŸŸçš„å¼€å§‹å’Œç»“æŸã€‚</p><ul><li>æ¥ç€æ‰§è¡Œ<code>:wirte !sh</code>å³å¯</li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source/blog_images/%E5%8F%AF%E7%88%B1%E7%9A%84%E5%A3%81%E7%BA%B8/4.gif"> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>é­”æ”¹hexoåšå®¢</title>
      <link href="/2020/09/18/mo-gai-hexo-bo-ke/"/>
      <url>/2020/09/18/mo-gai-hexo-bo-ke/</url>
      
        <content type="html"><![CDATA[<h2 id="é­”æ”¹hexoåšå®¢"><a href="#é­”æ”¹hexoåšå®¢" class="headerlink" title="é­”æ”¹hexoåšå®¢"></a>é­”æ”¹hexoåšå®¢</h2><p>æœ¬æ¬¡é­”æ”¹ä¸»è¦åŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªæ–¹é¢</p><h2 id="1-æ·»åŠ ä¸€è¨€æ’ä»¶"><a href="#1-æ·»åŠ ä¸€è¨€æ’ä»¶" class="headerlink" title="1. æ·»åŠ ä¸€è¨€æ’ä»¶"></a>1. æ·»åŠ ä¸€è¨€æ’ä»¶</h2><h2 id="2-æ·»åŠ åŠ¨æ€çº¿æ¡èƒŒæ™¯"><a href="#2-æ·»åŠ åŠ¨æ€çº¿æ¡èƒŒæ™¯" class="headerlink" title="2. æ·»åŠ åŠ¨æ€çº¿æ¡èƒŒæ™¯"></a>2. æ·»åŠ åŠ¨æ€çº¿æ¡èƒŒæ™¯</h2><h2 id="3-æ·»åŠ Dplayerè§†é¢‘æ’­æ”¾å™¨"><a href="#3-æ·»åŠ Dplayerè§†é¢‘æ’­æ”¾å™¨" class="headerlink" title="3. æ·»åŠ Dplayerè§†é¢‘æ’­æ”¾å™¨"></a>3. æ·»åŠ Dplayerè§†é¢‘æ’­æ”¾å™¨</h2><h2 id="4-æ·»åŠ Aplayeræ’­æ”¾å™¨"><a href="#4-æ·»åŠ Aplayeræ’­æ”¾å™¨" class="headerlink" title="4. æ·»åŠ Aplayeræ’­æ”¾å™¨"></a>4. æ·»åŠ Aplayeræ’­æ”¾å™¨</h2><h2 id="5-æ·»åŠ çœ‹æ¿å¨˜ï¼ˆlive2d-widgetæ’ä»¶ï¼‰"><a href="#5-æ·»åŠ çœ‹æ¿å¨˜ï¼ˆlive2d-widgetæ’ä»¶ï¼‰" class="headerlink" title="5. æ·»åŠ çœ‹æ¿å¨˜ï¼ˆlive2d-widgetæ’ä»¶ï¼‰"></a>5. æ·»åŠ çœ‹æ¿å¨˜ï¼ˆlive2d-widgetæ’ä»¶ï¼‰</h2><h2 id="6-æ·»åŠ é»‘å¤œæ¨¡å¼"><a href="#6-æ·»åŠ é»‘å¤œæ¨¡å¼" class="headerlink" title="6. æ·»åŠ é»‘å¤œæ¨¡å¼"></a>6. æ·»åŠ é»‘å¤œæ¨¡å¼</h2><h2 id="7-æ·»åŠ æ–‡ç« æ›´æ–°æ—¥æœŸ"><a href="#7-æ·»åŠ æ–‡ç« æ›´æ–°æ—¥æœŸ" class="headerlink" title="7. æ·»åŠ æ–‡ç« æ›´æ–°æ—¥æœŸ"></a>7. æ·»åŠ æ–‡ç« æ›´æ–°æ—¥æœŸ</h2><h2 id="8-æ·»åŠ è®¿å®¢åœ°å›¾ç»Ÿè®¡"><a href="#8-æ·»åŠ è®¿å®¢åœ°å›¾ç»Ÿè®¡" class="headerlink" title="8. æ·»åŠ è®¿å®¢åœ°å›¾ç»Ÿè®¡"></a>8. æ·»åŠ è®¿å®¢åœ°å›¾ç»Ÿè®¡</h2><h2 id="9-æ·»åŠ valineè¯„è®ºé‚®ä»¶æé†’"><a href="#9-æ·»åŠ valineè¯„è®ºé‚®ä»¶æé†’" class="headerlink" title="9. æ·»åŠ valineè¯„è®ºé‚®ä»¶æé†’"></a>9. æ·»åŠ valineè¯„è®ºé‚®ä»¶æé†’</h2><h2 id="10-æ·»åŠ ç½‘ç«™èƒŒæ™¯"><a href="#10-æ·»åŠ ç½‘ç«™èƒŒæ™¯" class="headerlink" title="10. æ·»åŠ ç½‘ç«™èƒŒæ™¯"></a>10. æ·»åŠ ç½‘ç«™èƒŒæ™¯</h2><h2 id="11-æ·»åŠ è…¾è®¯å…”å°å·¢"><a href="#11-æ·»åŠ è…¾è®¯å…”å°å·¢" class="headerlink" title="11. æ·»åŠ è…¾è®¯å…”å°å·¢"></a>11. æ·»åŠ è…¾è®¯å…”å°å·¢</h2><h2 id="12-Macæ ·å¼çš„ä»£ç å—çš„æ·»åŠ "><a href="#12-Macæ ·å¼çš„ä»£ç å—çš„æ·»åŠ " class="headerlink" title="12. Macæ ·å¼çš„ä»£ç å—çš„æ·»åŠ "></a>12. Macæ ·å¼çš„ä»£ç å—çš„æ·»åŠ </h2><h3 id="12-1-ä»£ç é«˜äº®"><a href="#12-1-ä»£ç é«˜äº®" class="headerlink" title="12.1 ä»£ç é«˜äº®"></a>12.1 ä»£ç é«˜äº®</h3><h4 id="12-1-1-ç¦ç”¨highlight"><a href="#12-1-1-ç¦ç”¨highlight" class="headerlink" title="12.1.1 ç¦ç”¨highlight"></a>12.1.1 ç¦ç”¨highlight</h4><p>æ‰“å¼€æ ¹ç›®å½•ä¸‹çš„<code>_config.yml</code>æ–‡ä»¶,ä¿®æ”¹é…ç½®</p><pre><code class="line-numbers language-yml">highlight:enable: falseline_number: falseauto_detect: falsetab_replace:</code></pre><h4 id="12-1-2-è·å–prismé…ç½®æ–‡ä»¶"><a href="#12-1-2-è·å–prismé…ç½®æ–‡ä»¶" class="headerlink" title="12.1.2 è·å–prismé…ç½®æ–‡ä»¶"></a>12.1.2 è·å–prismé…ç½®æ–‡ä»¶</h4><p>åœ¨<a href="https://prismjs.com/download.html">https://prismjs.com/download.html</a>é€‰æ‹©å–œæ¬¢çš„theme, éœ€è¦çš„languageå’Œplug(ä¸æ¨èé€‰å¤ªå¤š,éœ€è¦çš„é€‰ä¸Šå³å¯), å°†æ–‡ä»¶ä¸‹è½½åˆ°æœ¬åœ°ååˆ†åˆ«é‡å‘½åä¸º<code>prism.css</code>, <code>prism.js</code>, å°†å…¶æ”¾å…¥åˆ°<code>/theme/matery/source/js/prism</code>ç›®å½•ä¸‹(prismæ–‡ä»¶å¤¹è‡ªå·±åˆ›å»º) </p><h4 id="12-1-3-é…ç½®prism"><a href="#12-1-3-é…ç½®prism" class="headerlink" title="12.1.3 é…ç½®prism"></a>12.1.3 é…ç½®prism</h4><ul><li>åœ¨<code>themes/matery/layout/_partial/head.ejs</code> æ·»åŠ ä»¥ä¸‹ä»£ç :</li></ul><pre><code class="line-numbers language-ejs">&lt;link rel=&quot;stylesheet&quot; href=&quot;/js/prism/prism.css&quot;&gt;</code></pre><ul><li>åœ¨<code>themes/matery/layout/_partial/footer.ejs</code> æ·»åŠ ä»¥ä¸‹ä»£ç :</li></ul><pre><code class="line-numbers language-ejs">&lt;script src=&quot;/js/prism/prism.js&quot; async&gt;&lt;/script&gt;</code></pre><h4 id="12-1-4-æ·»åŠ é…ç½®"><a href="#12-1-4-æ·»åŠ é…ç½®" class="headerlink" title="12.1.4 æ·»åŠ é…ç½®"></a>12.1.4 æ·»åŠ é…ç½®</h4><p>åœ¨æ ¹ç›®å½•çš„ <code>_config.yml</code> æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç :</p><pre><code class="line-numbers language-yml">prism_plugin:    mode: &#39;preprocess&#39;    # realtime/preprocess    theme: &#39;tomorrow&#39;    line_number: false   # default false    custom_css:marked:    langPrefix: line-numbers language-</code></pre><p>æ­¤æ—¶æµ‹è¯•æ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤º:</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source/blog_images/%E9%AD%94%E6%94%B9hexo%E5%8D%9A%E5%AE%A2/1.png"> </p><h3 id="12-2-æ·»åŠ macæ ·å¼"><a href="#12-2-æ·»åŠ macæ ·å¼" class="headerlink" title="12.2 æ·»åŠ macæ ·å¼"></a>12.2 æ·»åŠ macæ ·å¼</h3><h4 id="12-2-1-åˆ›å»ºcodeblockçš„jsæ–‡ä»¶"><a href="#12-2-1-åˆ›å»ºcodeblockçš„jsæ–‡ä»¶" class="headerlink" title="12.2.1 åˆ›å»ºcodeblockçš„jsæ–‡ä»¶"></a>12.2.1 åˆ›å»ºcodeblockçš„jsæ–‡ä»¶</h4><p>åœ¨ç›®å½•<code>theme/source/libs/codeBlock/</code>ä¸‹åˆ›å»º<code>codeBlock.js</code>æ–‡ä»¶, åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹ä»£ç :</p><pre><code class="line-numbers language-javascript">// ä»£ç å—$(function () &#123;    $(&#39;pre&#39;).wrap(&#39;&lt;div class=&quot;code-area&quot; style=&quot;position: relative&quot;&gt;&lt;/div&gt;&#39;);&#125;);</code></pre><h4 id="12-2-2-æ·»åŠ cssæ ·å¼"><a href="#12-2-2-æ·»åŠ cssæ ·å¼" class="headerlink" title="12.2.2 æ·»åŠ cssæ ·å¼"></a>12.2.2 æ·»åŠ cssæ ·å¼</h4><p>åœ¨<code>theme/source/css/matery.css</code>æ–‡ä»¶ä¸­æ·»åŠ :</p><pre><code class="line-numbers language-css">pre &#123;    padding: 2.5rem 1.5rem 1.5rem 1.5rem !important;    margin: 1rem 0 !important;    background: #272822;    overflow: auto;    border-radius: 0.35rem;    tab-size: 4;&#125;.code-area::after &#123;    content: &quot; &quot;;    position: absolute;    border-radius: 50%;    background: #ff5f56;    width: 12px;    height: 12px;    top: 0;    left: 12px;    margin-top: 12px;    -webkit-box-shadow: 20px 0 #ffbd2e, 40px 0 #27c93f;    box-shadow: 20px 0 #ffbd2e, 40px 0 #27c93f;&#125;code &#123;    padding: 1px 5px;    top: 13px !important;    font-family: Inconsolata, Monaco, Consolas, &quot;Courier New&quot;, Courier, monospace;    font-size: 0.91rem;    color: #e96900;    background-color: #f8f8f8;    border-radius: 2px;&#125;pre code &#123;    padding: 0;    color: #e8eaf6;    background-color: #272822;&#125;pre[class*=&quot;language-&quot;] &#123;    padding: 1.2em;    margin: 0.5em 0;&#125;code[class*=&quot;language-&quot;],pre[class*=&quot;language-&quot;] &#123;    color: #e8eaf6;    white-space: pre-wrap !important;&#125;</code></pre><h4 id="12-2-3-è°ƒç”¨jsæ–‡ä»¶"><a href="#12-2-3-è°ƒç”¨jsæ–‡ä»¶" class="headerlink" title="12.2.3 è°ƒç”¨jsæ–‡ä»¶"></a>12.2.3 è°ƒç”¨jsæ–‡ä»¶</h4><p>åœ¨<code>theme/layout/_partial/post-detail.ejs</code>æ–‡ä»¶ä¸­æ·»åŠ </p><pre><code class="line-numbers language-ejs">&lt;!-- ä»£ç å— --&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;/libs/codeBlock/codeBlockFuction.js&quot;&gt;&lt;/script&gt;</code></pre><h3 id="12-3-æµ‹è¯•"><a href="#12-3-æµ‹è¯•" class="headerlink" title="12.3 æµ‹è¯•"></a>12.3 æµ‹è¯•</h3><p>æ‰§è¡Œ<code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code>, æ•ˆæœå¦‚ä¸‹:</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source/blog_images/%E9%AD%94%E6%94%B9hexo%E5%8D%9A%E5%AE%A2/2.png"> </p><h2 id="13-è®¿é—®é€Ÿåº¦ä¼˜åŒ–"><a href="#13-è®¿é—®é€Ÿåº¦ä¼˜åŒ–" class="headerlink" title="13. è®¿é—®é€Ÿåº¦ä¼˜åŒ–"></a>13. è®¿é—®é€Ÿåº¦ä¼˜åŒ–</h2><h3 id="13-1-é™æ€èµ„æºä¼˜åŒ–"><a href="#13-1-é™æ€èµ„æºä¼˜åŒ–" class="headerlink" title="13.1 é™æ€èµ„æºä¼˜åŒ–"></a>13.1 é™æ€èµ„æºä¼˜åŒ–</h3><h4 id="13-1-1-å›¾ç‰‡å‹ç¼©"><a href="#13-1-1-å›¾ç‰‡å‹ç¼©" class="headerlink" title="13.1.1 å›¾ç‰‡å‹ç¼©"></a>13.1.1 å›¾ç‰‡å‹ç¼©</h4><p><a href="https://developers.google.com/speed/webp?hl=zh-cn">WebP</a> æ˜¯Googleå¼€å‘çš„æ–°å›¾åƒæ ¼å¼,æ—¨åœ¨ä»¥å¯æ¥å—çš„è§†è§‰è´¨é‡ä¸ºæ— æŸå’Œæœ‰æŸå‹ç¼©æä¾›è¾ƒå°çš„æ–‡ä»¶å¤§å°ã€‚æœ‰æŸæ¨¡å¼ä¸‹æ¯” JPEG å° 25% - 34%ï¼Œæ— æŸæ¨¡å¼ä¸‹è¾ƒ PNG å° 26%,å¾ˆæ˜¾ç„¶,åœ¨ç›¸åŒçš„ç”¨æˆ·ä½“éªŒä¸‹,ä½¿ç”¨WebPæ ¼å¼å¯ä»¥æé«˜ç½‘ç«™çš„è®¿é—®é€Ÿåº¦.<br>å¦‚æœä½ æƒ³è¯¦ç»†äº†è§£è¿™å…¶ä¸­çš„æŠ€æœ¯ç»†èŠ‚ï¼Œå¯ä»¥é˜…è¯» Google å¼€å‘è€…æ–‡ç« <a href="https://developers.google.com/speed/webp/docs/compression?hl=zh-cn">WebPå‹ç¼©æŠ€æœ¯</a> </p><h5 id="13-1-1-1-ä¼˜åŒ–ç›®æ ‡"><a href="#13-1-1-1-ä¼˜åŒ–ç›®æ ‡" class="headerlink" title="13.1.1.1 ä¼˜åŒ–ç›®æ ‡"></a>13.1.1.1 ä¼˜åŒ–ç›®æ ‡</h5><p>ä½¿ç”¨WebPå›ºç„¶å¯ä»¥ä¼˜åŒ–å›¾åƒèµ„æº,æé«˜è®¿é—®é€Ÿåº¦,ä½†æˆªæ­¢åˆ°ç›®å‰ä¸ºæ­¢,å³ä¾¿æµè§ˆå™¨å¯¹WebPçš„<a href="https://caniuse.com/#search=webp">æ”¯æŒæƒ…å†µ</a> å·²ç»æ¥è¿‘80%, å´ä¾ç„¶æœ‰äº›ä¸»æµæµè§ˆå™¨å¦‚ Safariã€IE ä»ä¸æ”¯æŒï¼Œæ‰€ä»¥ä¸èƒ½ç›´æ¥è½¬ç”¨ WebP.<br>ç”±äºç›®å‰ç²¾åŠ›æœ‰é™,æ•…å…ˆè®¾å®šä¸€ä¸ªä¼˜åŒ–ç›®æ ‡å¦‚ä¸‹:    </p><ul><li>ç”±äºå‹ç¼©å›¾åƒè¿™é¡¹å·¥ä½œé‡å¤ä¸”ç¹çï¼Œå›¾åƒä¼˜åŒ–åº”è‡ªåŠ¨åŒ–å®Œæˆ,åˆæ¬¡é…ç½®å®Œæˆï¼Œæ—¥åä½¿ç”¨æ— éœ€ä»»ä½•æ“ä½œä¾¿å¯å…¨è‡ªåŠ¨åˆ‡æ¢ WebP å›¾ç‰‡æ ¼å¼.</li><li>å¯¹äºä¸æ”¯æŒçš„æµè§ˆå™¨ï¼Œä¼šè‡ªåŠ¨å›é€€åˆ° JPEG/PNG ç­‰ä¼ ç»Ÿæ ¼å¼</li><li>æå‰ç”Ÿæˆå¥½ä¸¤ä»½æ–‡ä»¶è€Œéè¯·æ±‚æ—¶è®¡ç®—ï¼ŒèŠ‚çœç®—åŠ›ä¸”å“åº”æ›´è¿…é€Ÿ</li></ul><h5 id="13-1-1-2-ç›®å‰å·²å®Œæˆ-ç½‘ç«™é¦–é¡µè½®æ’­å›¾"><a href="#13-1-1-2-ç›®å‰å·²å®Œæˆ-ç½‘ç«™é¦–é¡µè½®æ’­å›¾" class="headerlink" title="13.1.1.2 ç›®å‰å·²å®Œæˆ(ç½‘ç«™é¦–é¡µè½®æ’­å›¾)"></a>13.1.1.2 ç›®å‰å·²å®Œæˆ(ç½‘ç«™é¦–é¡µè½®æ’­å›¾)</h5><p>è¿™é‡Œä½¿ç”¨ä¸€ä¸ªå¼€æºå·¥å…·: <a href="https://github.com/Jacksgong/webp-converter">Webp Converter and Analytics</a>, å…·ä½“ä½¿ç”¨æ–¹æ³•åœ¨é¡¹ç›®ä»‹ç»é¡µ,è¿™é‡Œä¸å†èµ˜è¿°.<br>åªæ˜¯æš‚æ—¶ä½¿ç”¨è¿™ä¸ªå·¥å…·,å› ä¸ºæˆ‘çš„åšå®¢ç›®å‰å›¾ç‰‡èµ„æºå¤§çš„å°±æ˜¯é¦–é¡µè½®æ’­å›¾,è¿™åªæ˜¯ä¸€ä¸ªæš‚æ—¶çš„è§£å†³æ–¹æ¡ˆ,å› ä¸ºéœ€è¦æ‰‹åŠ¨(æ‡’)â€¦</p><h4 id="13-1-2-HTMLå‹ç¼©"><a href="#13-1-2-HTMLå‹ç¼©" class="headerlink" title="13.1.2 HTMLå‹ç¼©"></a>13.1.2 HTMLå‹ç¼©</h4><p>å¾…å®š</p><h4 id="13-1-3-CSSå‹ç¼©"><a href="#13-1-3-CSSå‹ç¼©" class="headerlink" title="13.1.3 CSSå‹ç¼©"></a>13.1.3 CSSå‹ç¼©</h4><p>å¾…å®š</p><h3 id="13-2-é™æ€èµ„æºåŠ è½½ä¼˜åŒ–"><a href="#13-2-é™æ€èµ„æºåŠ è½½ä¼˜åŒ–" class="headerlink" title="13.2 é™æ€èµ„æºåŠ è½½ä¼˜åŒ–"></a>13.2 é™æ€èµ„æºåŠ è½½ä¼˜åŒ–</h3><h4 id="13-2-1-ä½¿ç”¨CDN"><a href="#13-2-1-ä½¿ç”¨CDN" class="headerlink" title="13.2.1 ä½¿ç”¨CDN"></a>13.2.1 ä½¿ç”¨CDN</h4><p>å‚è€ƒ<a href="https://godliuyang.wang/2020/09/15/cdn-for-blog/">CDN for Blog</a> </p><h2 id="14-æ·»åŠ æ¨èæ–‡ç« æ’ä»¶-hexo-recommended-posts"><a href="#14-æ·»åŠ æ¨èæ–‡ç« æ’ä»¶-hexo-recommended-posts" class="headerlink" title="14. æ·»åŠ æ¨èæ–‡ç« æ’ä»¶(hexo-recommended-posts)"></a>14. æ·»åŠ æ¨èæ–‡ç« æ’ä»¶(<a href="https://github.com/huiwang/hexo-recommended-posts">hexo-recommended-posts</a>)</h2><p>æ¨èæ–‡ç« çš„æ’ä»¶æœ‰å¾ˆå¤š, <a href="https://github.com/tea3/hexo-related-popular-posts">hexo-related-popular-posts</a> æ˜¯ä¸€ä¸ªå¾ˆæ£’çš„æ’ä»¶, å®‰è£…ä¹Ÿå¾ˆç®€å•,ä¸è¿‡æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯<code>hexo-recommended-posts</code></p><h3 id="14-1-å®‰è£…"><a href="#14-1-å®‰è£…" class="headerlink" title="14.1 å®‰è£…"></a>14.1 å®‰è£…</h3><pre><code class="line-numbers language-bash">npm install hexo-recommended-posts --save</code></pre><h3 id="14-2-ä¸‹è½½æ¨èæ–‡ç« åˆ—è¡¨"><a href="#14-2-ä¸‹è½½æ¨èæ–‡ç« åˆ—è¡¨" class="headerlink" title="14.2 ä¸‹è½½æ¨èæ–‡ç« åˆ—è¡¨"></a>14.2 ä¸‹è½½æ¨èæ–‡ç« åˆ—è¡¨</h3><pre><code class="line-numbers language-bash">hexo recommend</code></pre><h3 id="14-3-è‡ªå®šä¹‰é…ç½®"><a href="#14-3-è‡ªå®šä¹‰é…ç½®" class="headerlink" title="14.3 è‡ªå®šä¹‰é…ç½®"></a>14.3 è‡ªå®šä¹‰é…ç½®</h3><p>åœ¨åšå®¢æ ¹ç›®å½•æ·»åŠ ä»¥ä¸‹é»˜è®¤é…ç½®,æ ¹æ®ä¸ªäººæƒ…å†µä¿®æ”¹</p><pre><code class="line-numbers language-yml">recommended_posts:  server: https://api.truelaurel.com #åç«¯æ¨èæœåŠ¡å™¨åœ°å€  timeoutInMillis: 10000 #æœåŠ¡æ—¶é•¿ï¼Œè¶…è¿‡æ­¤æ—¶é•¿ï¼Œåˆ™ä½¿ç”¨ç¦»çº¿æ¨èæ¨¡å¼  internalLinks: 3 #å†…éƒ¨æ–‡ç« æ•°é‡  externalLinks: 1 #å¤–éƒ¨æ–‡ç« æ•°é‡  fixedNumber: false #æ§åˆ¶æ˜¯å¦è¿”å›å›ºå®šæ•°é‡çš„æ¨èæ–‡ç« , å¦‚æœé»˜è®¤æ¨èæ–‡ç« ä¸å¤Ÿçš„è¯ä¼šå¡«å……å½“å‰æ–‡ç« çš„å‰åæ–‡ç« ä½œä¸ºæ¨èæ–‡ç« .  autoDisplay: true #è‡ªåŠ¨åœ¨æ–‡ç« åº•éƒ¨æ˜¾ç¤ºæ¨èæ–‡ç«   excludePattern: [] #æ·»åŠ æƒ³è¦è¢«è¿‡æ»¤çš„é“¾æ¥çš„æ­£åˆ™è¡¨è¾¾å¼, å¦‚é…ç½®ä¸º [&quot;example.com&quot;], åˆ™æ‰€æœ‰åŒ…å« example.com çš„é“¾æ¥éƒ½ä¼šä»æ¨èæ–‡ç« ä¸­è¿‡æ»¤æ‰.  titleHtml: &lt;h1&gt;æ¨èæ–‡ç« &lt;span style=&quot;font-size:0.45em; color:gray&quot;&gt;ï¼ˆç”±&lt;a href=&quot;https://github.com/huiwang/hexo-recommended-posts&quot;&gt;hexoæ–‡ç« æ¨èæ’ä»¶&lt;/a&gt;é©±åŠ¨ï¼‰&lt;/span&gt;&lt;/h1&gt; #è‡ªå®šä¹‰æ ‡é¢˜</code></pre><h3 id="14-4-ä¸€ç‚¹å°æ”¹åŠ¨"><a href="#14-4-ä¸€ç‚¹å°æ”¹åŠ¨" class="headerlink" title="14.4 ä¸€ç‚¹å°æ”¹åŠ¨"></a>14.4 ä¸€ç‚¹å°æ”¹åŠ¨</h3><p>æ’ä»¶è™½ç„¶æœ‰<code>autoDisplay</code>é€‰é¡¹æ¥æ§åˆ¶æ˜¯å¦åœ¨æ–‡ç« åº•éƒ¨æ˜¾ç¤ºæ–‡ç« ,ä½†åœ¨é…ç½®æ–‡ä»¶ä¸­ç«Ÿç„¶æ²¡æœ‰ä¸€ä¸ªé€‰é¡¹æ¥æ§åˆ¶æ˜¯å¦å¯ç”¨æ’ä»¶,è¿™ä¸èƒ½å¿,äºæ˜¯æˆ‘ä¿®æ”¹äº†ä¸€ç‚¹æ’ä»¶çš„ä»£ç ,å®ç°äº†è¿™ä¸ªåŠŸèƒ½,å…·ä½“å®ç°å¦‚ä¸‹:</p><ul><li><p>ç¼–è¾‘<code>hexo-recommended-posts/lib/recommend.js</code>æ–‡ä»¶,ç¬¬äºŒè¡Œä¿®æ”¹ä¸º</p><pre><code class="line-numbers language-javascript">var posts = filterPosts(recommended_posts, post, config.excludePattern, config.enable)</code></pre><p>ç¬¬ä¹è¡Œä¿®æ”¹ä¸º</p><pre><code class="line-numbers language-javascript">function filterPosts(recommended_posts, post, excludePattern, enable) &#123;  if (recommended_posts === undefined || !enable ||      recommended_posts[post.permalink] === undefined) &#123;      return [];  &#125;</code></pre></li><li><p>åœ¨æ ¹ç›®å½•configä¸­æ·»åŠ <code>enable</code>é€‰é¡¹,å…·ä½“å¦‚ä¸‹:</p><pre><code class="line-numbers language-yml">recommended_posts:  enable: trueserver: https://api.truelaurel.com #åç«¯æ¨èæœåŠ¡å™¨åœ°å€timeoutInMillis: 10000 #æœåŠ¡æ—¶é•¿ï¼Œè¶…è¿‡æ­¤æ—¶é•¿ï¼Œåˆ™ä½¿ç”¨ç¦»çº¿æ¨èæ¨¡å¼internalLinks: 3 #å†…éƒ¨æ–‡ç« æ•°é‡externalLinks: 1 #å¤–éƒ¨æ–‡ç« æ•°é‡fixedNumber: false #æ§åˆ¶æ˜¯å¦è¿”å›å›ºå®šæ•°é‡çš„æ¨èæ–‡ç« , å¦‚æœé»˜è®¤æ¨èæ–‡ç« ä¸å¤Ÿçš„è¯ä¼šå¡«å……å½“å‰æ–‡ç« çš„å‰åæ–‡ç« ä½œä¸ºæ¨èæ–‡ç« .autoDisplay: true #è‡ªåŠ¨åœ¨æ–‡ç« åº•éƒ¨æ˜¾ç¤ºæ¨èæ–‡ç« excludePattern: [] #æ·»åŠ æƒ³è¦è¢«è¿‡æ»¤çš„é“¾æ¥çš„æ­£åˆ™è¡¨è¾¾å¼, å¦‚é…ç½®ä¸º [&quot;example.com&quot;], åˆ™æ‰€æœ‰åŒ…å« example.com çš„é“¾æ¥éƒ½ä¼šä»æ¨èæ–‡ç« ä¸­è¿‡æ»¤æ‰.titleHtml: &lt;h1&gt;æ¨èæ–‡ç« &lt;span style=&quot;font-size:0.45em; color:gray&quot;&gt;ï¼ˆç”±&lt;a href=&quot;https://github.com/huiwang/hexo-recommended-posts&quot;&gt;hexoæ–‡ç« æ¨èæ’ä»¶&lt;/a&gt;é©±åŠ¨ï¼‰&lt;/span&gt;&lt;/h1&gt; #è‡ªå®šä¹‰æ ‡é¢˜</code></pre></li></ul><h2 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h2><h3 id="2020-12-07"><a href="#2020-12-07" class="headerlink" title="2020.12.07"></a>2020.12.07</h3><ul><li>æ·»åŠ <code>hexo-recommended-posts</code>æ’ä»¶</li></ul><h3 id="2020-12-06"><a href="#2020-12-06" class="headerlink" title="2020.12.06"></a>2020.12.06</h3><ul><li>ä¼˜åŒ–å›¾ç‰‡èµ„æº(é¦–é¡µè½®æ’­å›¾)</li></ul><h3 id="2020-12-05"><a href="#2020-12-05" class="headerlink" title="2020.12.05"></a>2020.12.05</h3><ul><li>ä¿®å¤äº†ä¸€ä¸ª <code>ClustrMaps</code> æœªç»Ÿè®¡è®¿å®¢çš„bug</li><li>é»˜è®¤ä¸å¼€å¯çœ‹æ¿å¨˜(å¤ªå ç”¨cpuå†…å­˜,å½±å“ç”¨æˆ·ä½“éªŒ)</li></ul><h3 id="2020-11-22"><a href="#2020-11-22" class="headerlink" title="2020.11.22"></a>2020.11.22</h3><ul><li>ä½¿ç”¨<a href="https://github.com/fengkx/hexo-native-lazy-load">hexo-native-lazy-load</a> ä»£æ›¿<a href="https://github.com/Troy-Yang/hexo-lazyload-image">hexo-lazyload-image</a> </li></ul><h3 id="2020-11-16"><a href="#2020-11-16" class="headerlink" title="2020.11.16"></a>2020.11.16</h3><ul><li>æ·»åŠ ç½‘ç«™èƒŒæ™¯å›¾, æ·»åŠ è…¾è®¯å…”å°å·¢</li><li>æ·»åŠ Macæ ·å¼çš„ä»£ç å—</li></ul><h3 id="2020-11-15"><a href="#2020-11-15" class="headerlink" title="2020.11.15"></a>2020.11.15</h3><ul><li>åˆ é™¤å†—ä½™è„šæœ¬, æ¨¡å—åŒ–æ’ä»¶</li><li>ä½¿ç”¨<a href="https://deserts.io/valine-admin-document/">valine-admin</a>å®ç°è¯„è®ºé‚®ä»¶æé†’</li><li>ä¿®å¤é»‘å¤œæ¨¡å¼bug, ç°å·²å®Œç¾è¿è¡Œ</li></ul><h3 id="2020-11-14"><a href="#2020-11-14" class="headerlink" title="2020.11.14"></a>2020.11.14</h3><ul><li>åŠ å…¥æ–‡ç« æ›´æ–°æ—¥æœŸ</li><li>æ·»åŠ <a href="https://clustrmaps.com/">ClustrMaps</a>è®¿å®¢åœ°å›¾ç»Ÿè®¡(ä»å³æ—¥èµ·)<ul><li>å¯é€šè¿‡configæ–‡ä»¶åˆ‡æ¢åœ°å›¾çš„æ ·å¼</li><li>ç›®å‰åœ¨pcç«¯è®¿é—®globeæ ·å¼æ— æ³•åŠ è½½, ç§»åŠ¨ç«¯åˆ™æ­£å¸¸(bug)</li></ul></li></ul><h3 id="2020-09-25"><a href="#2020-09-25" class="headerlink" title="2020.09.25"></a>2020.09.25</h3><ul><li>åŠ å…¥é»‘å¤œæ¨¡å¼</li><li>è¯•è¿è¡Œé»‘å¤œæ¨¡å¼</li></ul><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/09/15/cdn-for-blog/">CDN_for_blog</a></li><li><a href="https://godliuyang.wang/2019/12/06/arch-linux-i3wm-xiang-xi-pei-zhi/">Arch Linux + i3wmè¯¦ç»†é…ç½®ç¯‡</a></li><li><a href="https://godliuyang.wang/2019/08/24/manjaro-i3wm-huan-jing-pei-zhi-pian/">Manjaro i3wm é«˜æ•ˆç‡ç¯å¢ƒé…ç½®ç¯‡(æŒç»­æ›´æ–°)</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CDN_for_blog</title>
      <link href="/2020/09/15/cdn-for-blog/"/>
      <url>/2020/09/15/cdn-for-blog/</url>
      
        <content type="html"><![CDATA[<h2 id="Why-CND"><a href="#Why-CND" class="headerlink" title="Why CND?"></a>Why CND?</h2><p>æ”¾åœ¨Githubçš„èµ„æºåœ¨å›½å†…åŠ è½½é€Ÿåº¦æ¯”è¾ƒæ…¢ï¼Œå› æ­¤éœ€è¦ä½¿ç”¨CDNåŠ é€Ÿæ¥ä¼˜åŒ–ç½‘ç«™æ‰“å¼€é€Ÿåº¦ï¼ŒjsDelivr + Githubä¾¿æ˜¯å…è´¹ä¸”å¥½ç”¨çš„CDNï¼Œéå¸¸é€‚åˆåšå®¢ç½‘ç«™ä½¿ç”¨ã€‚</p><h2 id="USE-CDN"><a href="#USE-CDN" class="headerlink" title="USE CDN"></a>USE CDN</h2><ol><li>åˆ›å»ºä¸€ä¸ªåä¸ºCDNçš„githubä»“åº“</li><li>æŠŠä»“åº“cloneåˆ°æœ¬åœ°</li><li>å°†å›¾ç‰‡æ–‡ä»¶å­˜å‚¨åˆ°ä»“åº“ä¸­å¹¶ä¸Šä¼ <br>æ³¨ï¼šjsDelivrä¸æ”¯æŒåŠ è½½è¶…è¿‡20Mçš„èµ„æº</li><li>å‘å¸ƒä»“åº“</li></ol><ul><li>ç‚¹å‡»releaseå‘å¸ƒä»“åº“<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/CDN_for_blog/release.jpg">  </li><li>æ³¨æ˜ç‰ˆæœ¬å·åå‘å¸ƒ<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/CDN_for_blog/release_number.jpg"> </li></ul><ol start="5"><li>é€šè¿‡å¦‚ä¸‹å½¢å¼æ¥ä½¿ç”¨</li></ol><pre><code>// load any GitHub release, commit, or branch// note: we recommend using npm for projects that support ithttps://cdn.jsdelivr.net/gh/user/repo@version/file</code></pre><p>ä¾‹å¦‚ï¼šåœ¨æˆ‘çš„githubä»“åº“ä¸­æœ‰è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶</p><p><a href="https://github.com/liuyaanng/CDN/blob/1.02/blog_images/CDN_for_blog/release.jpg">https://github.com/liuyaanng/CDN/blob/1.02/blog_images/CDN_for_blog/release.jpg</a></p><p>ä½¿ç”¨jsdelivråŠ é€Ÿè®¿é—®å°±æ˜¯ï¼š</p><p><a href="https://cdn.jsdelivr.net/gh/liuyaanng/CDN@1.02/blog_images/CDN_for_blog/release.jpg">https://cdn.jsdelivr.net/gh/liuyaanng/CDN@1.02/blog_images/CDN_for_blog/release.jpg</a> </p><p>å…¶ä¸­<strong>1.02</strong>æ˜¯æˆ‘å‘å¸ƒçš„ç‰ˆæœ¬å·ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨æ¨¡ç³Šç‰ˆæœ¬å·çš„æ–¹æ³•è¿›è¡Œè®¿é—®ï¼Œæ— è®ºå“ªç§å½¢å¼ï¼Œéƒ½å¯ä»¥æ˜æ˜¾çš„æ„Ÿè§‰åˆ°è®¿é—®é€Ÿåº¦å¿«äº†å¾ˆå¤šã€‚</p><p>å¦å¤–ï¼Œåœ¨æˆ‘ä½¿ç”¨çš„è¿‡ç¨‹ä¸­ï¼Œå‘ç°åœ¨ç¬¬ä¸€æ¬¡å‘å¸ƒä¹‹åï¼Œä»¥ååœ¨ä½¿ç”¨å›¾ç‰‡å¯å°†ç‰ˆæœ¬å·æ¢æˆ<code>master</code>ç›´æ¥è®¿é—®ã€‚</p><h2 id="Generate-Jsdelivr-Link"><a href="#Generate-Jsdelivr-Link" class="headerlink" title="Generate Jsdelivr Link"></a>Generate Jsdelivr Link</h2><h3 id="1-ä½¿ç”¨è„šæœ¬ç”Ÿæˆ-æ›´ä¼˜è§£è§2"><a href="#1-ä½¿ç”¨è„šæœ¬ç”Ÿæˆ-æ›´ä¼˜è§£è§2" class="headerlink" title="1. ä½¿ç”¨è„šæœ¬ç”Ÿæˆ  **æ›´ä¼˜è§£è§2 **"></a><del>1. ä½¿ç”¨è„šæœ¬ç”Ÿæˆ</del>  **æ›´ä¼˜è§£è§<a href="#toc-heading-5">2</a> **</h3><ul><li>æˆ‘å†™åšå®¢çš„æˆªå›¾å‡æ˜¯ç”±<a href="https://zh.xnipapp.com/">Xnip</a> ç”Ÿæˆï¼Œæˆªå›¾æ–‡ä»¶å­˜å‚¨ç›®å½•<code>Pictures/Xnip</code>,æ•…æˆ‘å†™äº†ä¸€ä¸ªå°è„šæœ¬æ¥å®ç°</li></ul><pre><code class="line-numbers language-bash">#!/bin/bash# @author:liuyaanngrep_path=~/Github/Myrep/CDN/blog_photo_folder=blog_imagespath=~/Pictures/Xnipprefix=https://cdn.jsdelivr.net/gh/liuyaanng/CDN@files=$(ls $path)check_v=0check_f=0help_text=&quot;This is a script for move the picture files to github, and get the jsdelivr link quickly. This scripts run with 2 arguments.\n1. cdn_server.sh -v version -f folder. version is the release version,folder is the pictures&#39;s file folder. \nfor example: cdn_server.sh -v 1.0 -f cdn_for_blog, it will get\nhttps://cdn.jsdelivr.net/gh/liuyaanng/CDN@1.0/blog_images/cdn_for_blog/filename\nif you do not use version, please use:cdn_server.sh -v master -f foldername.2. cdn_server.sh -h    Show help content.&quot;while getopts :v:f:h optdo    case &quot;$opt&quot; in        v) version=$OPTARG             check_v=1;;        f) folder=$OPTARG             check_f=1;;        h) echo -e $help_text             exit 1;;        ?) echo &quot;sync error. Use &#39;cdn_server.sh -h&#39; for help.&quot;;;    esacdoneprint_link()&#123;if [ ! -n &quot;$files&quot; ]; then    echo &quot;There is no file in Xnip folder.&quot;else    for filename in $files    do        echo $prefix$version/$blog_photo_folder/$folder/$filename        mv $path/* $rep_path$blog_photo_folder/$folder        echo &quot;move file $filename success&quot;    done    cd $rep_path    git add .    git commit -m &quot;upload $folder&quot;    git pushfi&#125;if [ $check_v -eq $check_f ]; then    print_linkelse    echo &quot;need 2 args but given 1.&quot;fi</code></pre><p>è¯¥è„šæœ¬æœ‰ä»¥ä¸‹åŠŸèƒ½ï¼š</p><ol><li>å°†æˆªå›¾è½¬åˆ°githubä»“åº“ä¸­å¹¶æäº¤</li><li>è‡ªåŠ¨ç”Ÿæˆjsdelivré“¾æ¥</li></ol><p>å¦‚æœä½ æƒ³ä½¿ç”¨çš„è¯åªéœ€ä¿®æ”¹ä¸Šé¢çš„è·¯å¾„ä¿¡æ¯å°±è¡Œäº†ã€‚</p><p>è„šæœ¬æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä½ å¯ä»¥ç”¨<code>cdn_server.sh -h</code> æ¥æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯ã€‚</p><ol><li><code>-a version</code>. <code>-a</code>å‚æ•°åè·Ÿå‘å¸ƒçš„ç‰ˆæœ¬å·</li><li><code>-f folder</code>. <code>-f</code>å‚æ•°åè·Ÿä»“åº“ä¸­æ–‡ä»¶å¤¹å</li></ol><p>æ³¨æ„ï¼šç‰ˆæœ¬å·ä¸æ˜¯å¿…éœ€çš„ï¼Œæ˜¯ä¸ºäº†åŒºåˆ†æ–°æ—§èµ„æºï¼Œå¦‚æœä¸ä½¿ç”¨ç‰ˆæœ¬å·ï¼Œå°†ä¼šç›´æ¥å¼•ç”¨æœ€æ–°èµ„æº. è‹¥ä¸æƒ³æŒ‡å®šç‰ˆæœ¬å·ï¼ˆç¬¬ä¸€æ¬¡å‘å¸ƒä¹‹åå¯ç”¨ï¼‰ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>-a master</code>.</p><p>ä¾‹å¦‚ï¼š</p><pre><code class="line-numbers language-bash">cdn_server.sh -a master -f CDN_for_blog</code></pre><h3 id='1'> 2. ä½¿ç”¨PicGOå·¥å…·å®ç°ä¸€é”®ä¸Šä¼ å¹¶ç”ŸæˆCDNé“¾æ¥</h3><p><a href="https://github.com/Molunerfinn/PicGo">PicGo</a><br>æ–‡æ¡£å¤ªè¯¦ç»†,ä¸æƒ³åšè¿‡å¤šä»‹ç»äº†</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/09/18/mo-gai-hexo-bo-ke/">é­”æ”¹hexoåšå®¢</a></li><li><a href="https://godliuyang.wang/2019/07/22/hexo-da-keng/">hexoå¤§å‘</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
            <tag> jsdelivr </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>LeetCode EASY_9</title>
      <link href="/2020/08/17/leetcode-easy-9/"/>
      <url>/2020/08/17/leetcode-easy-9/</url>
      
        <content type="html"><![CDATA[<h2 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h2><ul><li>åˆ¤æ–­ä¸€ä¸ªæ•´æ•°æ˜¯å¦æ˜¯å›æ–‡æ•°ã€‚å›æ–‡æ•°æ˜¯æŒ‡æ­£åºï¼ˆä»å·¦å‘å³ï¼‰å’Œå€’åºï¼ˆä»å³å‘å·¦ï¼‰è¯»éƒ½æ˜¯ä¸€æ ·çš„æ•´æ•°ã€‚</li></ul><p>ç¤ºä¾‹ï¼š</p><pre><code>è¾“å…¥ï¼š121è¾“å‡ºï¼šTrue</code></pre><pre><code>è¾“å…¥ï¼š-121è¾“å‡ºï¼šFalse</code></pre><ul><li><p>æ€è·¯1ï¼šå°†æ•°å­—è½¬åŒ–ä¸ºå­—ç¬¦ä¸²å½¢å¼ï¼Œåˆ†åˆ«è¿›è¡Œå¤´å°¾åˆ¤æ–­æ•°å­—æ˜¯å¦ä¸€è‡´ã€‚<br>å®ç°éœ€è¦3æ­¥ï¼š</p><p>é¢„åˆ¤æ–­ï¼š<br>é¦–å…ˆåˆ¤æ–­å½“è¾“å…¥æ•°å­—ä¸ºè´Ÿæ•°æˆ–å…¶ä¸ªä½æ•°å­—æ˜¯0ï¼ˆæ’é™¤0ï¼‰æ—¶ä¸€å®šè¾“å‡ºFalse</p><pre><code class="line-numbers language-python">if (x &lt; 0 or (x % 10 == 0 and x!= 0)):    return False</code></pre><ul><li><p>å°†è¾“å…¥è½¬åŒ–ä¸ºå­—ç¬¦ä¸²</p><pre><code class="line-numbers language-python3">x_str = str(x)</code></pre></li><li><p>åˆ†å‰²å­—ç¬¦ä¸²ï¼Œä¸èƒ½ç”¨splitæ–¹æ³•ã€‚è¿™é‡Œå› ä¸ºå½“è¾“å…¥ä¸ºå¥‡æ•°æ—¶ï¼Œæ•°å­—ä¸­é—´çš„ä¸€ä½å¯¹ç»“æœæ— å½±å“ï¼Œæ•…å°†è¿™ä¸€ä½åˆ æ‰ã€‚</p><pre><code class="line-numbers language-python3">x_list = []for x_s in x_str:  x_list.append(x_s)if num != num_i:  x_list.pop(num_i)</code></pre></li><li><p>åˆ¤æ–­æ˜¯å¦ä¸ºå›æ–‡æ•°ã€‚é‡‡ç”¨å¾ªç¯åˆ¤æ–­ï¼Œä»ä¸­é—´å¾€ä¸¤è¾¹ä¾æ¬¡åˆ¤æ–­ï¼Œæ³¨æ„è¿™é‡Œåªè¦æœ‰ä¸€ä½ä¸ç›¸åŒå°±ä¼šè¾“å‡ºFalse</p></li></ul></li></ul><p>ç¨‹åºå®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="line-numbers language-python">if (x &lt; 0 or (x % 10 == 0 and x!= 0)):    return False    x_str = str(x)num = len(x_str) / 2 num_i = len(x_str) // 2x_list = []for x_s in x_str:    x_list.append(x_s)if num != num_i:    x_list.pop(num_i)i = 0result = Truewhile i &lt; num_i:    if x_list[num_i + i] == x_list[num_i - (i + 1)]:        result = True    else:        result = False        return result    i += 1return result</code></pre><p>åœ¨å‚è€ƒäº†LeetCodeå®˜ç½‘è§£æ³•ä¹‹åï¼Œå‘ç°äº†ç±»ä¼¼æ€è·¯æ›´ç®€å•çš„è§£æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="line-numbers language-python">return (str(x) == str(x)[::-1])</code></pre><p>åªéœ€åˆ¤æ–­è¾“å…¥æ•°å­—çš„ä¸€åŠå³å¯åˆ¤æ–­ç»“æœï¼Œæ•…å¯æ”¹è¿›å¦‚ä¸‹ï¼š</p><pre><code class="line-numbers language-python">x_str = str(x)x_len = len(x_str)x_h = x_len // 2return (x_str[:x_h] == x_str[-1:-x_h - 1:-1])</code></pre><p>ä»¥ä¸Šæ–¹æ³•å‡å°†è¾“å…¥è½¬åŒ–ä¸ºå­—ç¬¦ä¸²ä¹‹åå†è¿›è¡Œåˆ¤æ–­</p><h3 id="è¿›é˜¶"><a href="#è¿›é˜¶" class="headerlink" title="è¿›é˜¶:"></a>è¿›é˜¶:</h3><p>ä½ èƒ½ä¸å°†æ•´æ•°è½¬ä¸ºå­—ç¬¦ä¸²æ¥è§£å†³è¿™ä¸ªé—®é¢˜å—ï¼Ÿ</p><ul><li>æ€è·¯2: å°†æ•°å­—åè½¬ï¼Œç„¶åå°†åè½¬å¾—åˆ°çš„æ•°å­—ä¸åŸå§‹æ•°å­—è¿›è¡Œæ¯”è¾ƒï¼Œä¸¤è€…ç›¸åŒåˆ™æ˜¯å›æ–‡æ•°ã€‚ä½†è¿™æ—¶è¦è€ƒè™‘åˆ°æº¢å‡ºé—®é¢˜ï¼Œåè½¬å¾—åˆ°çš„æ•°å­—å¯èƒ½ä¼šå¤§äºæ•´æ•°çš„æœ€å¤§å€¼ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œè€ƒè™‘åªåè½¬è¾“å…¥æ•°å­—çš„ä¸€åŠï¼Œè‹¥åä¸€åŠåè½¬åä¸å‰ä¸€åŠç›¸åŒåˆ™æ˜¯å›æ–‡æ•°ã€‚ç®—æ³•è€ƒè™‘å¦‚ä¸‹ï¼š<ul><li>é¢„åˆ¤æ–­å¦‚ä¸Š</li><li>è®¾ç½®ä¸€ä¸ªåè½¬æ•°ï¼Œå°†è¾“å…¥æ•°å­—é™¤10æ±‚ä½™ï¼Œå¾—åˆ°çš„æ•°å­—æ˜¯åè½¬æ•°çš„é¦–ä½ï¼Œä¾æ¬¡å¾ªç¯ï¼Œå¯å¾—åˆ°ä¸€ç³»åˆ—çš„åè½¬æ•°ï¼Œxçš„å€¼ä¼šè¶Šæ¥è¶Šå°ï¼Œè€Œåè½¬æ•°çš„å€¼ä¼šè¶Šæ¥è¶Šå¤§ã€‚å¯¹äºå¶æ•°æ¥è¯´ï¼Œå¾ªç¯ç»ˆæ­¢çš„æ¡ä»¶å¾ˆç®€å•ï¼Œå°±æ˜¯å½“xç­‰äºåè½¬æ•°ï¼Œå¯¹äºå¥‡æ•°æ¥è¯´ï¼Œå¾ªç¯ç»ˆæ­¢çš„æ¡ä»¶æ˜¯xå°äºåè½¬æ•°ï¼Œéšååˆ¤æ–­æ­¤æ—¶çš„xä¸åè½¬æ•°æ˜¯å¦ç›¸åŒã€‚æ³¨æ„ï¼šå¯¹äºå¥‡æ•°æ¥è¯´ï¼Œåˆ¤æ–­æ¡ä»¶æ˜¯xæ˜¯å¦ç­‰äºåè½¬æ•°é™¤10å–æ•´çš„å€¼ï¼Œå› ä¸ºå¥‡æ•°å¤šäº†ä¸€è½®è¿­ä»£ã€‚</li></ul></li></ul><p>å®Œæ•´ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="line-numbers language-python">if (x &lt; 0 or (x % 10 == 0 and x != 0)):    return Falsex_reversed = 0while x_reversed &lt; x:    x_reversed = x_reversed * 10 + x % 10    x = x // 10return (x == x_reversed or x == x_reversed // 10)</code></pre><p>Cä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="line-numbers language-C">bool isPalindrome(int x)&#123;if (x&lt;0 || (x%10 == 0 &amp;&amp; x != 0))&#123;    return false;&#125;int x_reversed = 0;while (x_reversed &lt; x)&#123;    x_reversed = x_reversed * 10 + x % 10;     x = x / 10;&#125;return (x == x_reversed || x == x_reversed / 10);&#125;</code></pre><h3 id="å¤æ‚åº¦åˆ†æ"><a href="#å¤æ‚åº¦åˆ†æ" class="headerlink" title="å¤æ‚åº¦åˆ†æ"></a>å¤æ‚åº¦åˆ†æ</h3><ul><li>æ—¶é—´å¤æ‚åº¦ï¼šO(log n) ï¼Œå¯¹äºæ¯æ¬¡è¿­ä»£ï¼Œéƒ½å°†è¾“å…¥é™¤ä»¥nï¼Œæ•…æ—¶é—´å¤æ‚åº¦ä¸ºO(log n)</li><li>ç©ºé—´å¤æ‚åº¦ï¼š O(1). åªéœ€åœ¨å¸¸æ•°ç©ºé—´å­˜å‚¨è‹¥å¹²å˜é‡ã€‚</li></ul><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/03/30/scikit-image-guide/">scikit-image guide</a></li><li><a href="https://godliuyang.wang/2020/01/29/sort/">SORT</a></li><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode </tag>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>CLSW</title>
      <link href="/2020/04/22/clsw/"/>
      <url>/2020/04/22/clsw/</url>
      
        <content type="html"><![CDATA[<p><a href="https://godliuyang.wang/2019/08/24/manjaro-i3wm-huan-jing-pei-zhi-pian/#toc-heading-14">Install and Configure guide</a> </p><p><a href="https://github.com/liuyaanng/CLSW">My config</a> </p><h2 id="1-Vim-Neovim"><a href="#1-Vim-Neovim" class="headerlink" title="1. Vim(Neovim)"></a>1. Vim(Neovim)</h2><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/CLSW/vim_cheat_sheet.png" alt="vim cheat sheet"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/CLSW/nvim.png" alt="Vim"></p><h2 id="2-Ranger"><a href="#2-Ranger" class="headerlink" title="2. Ranger"></a>2. Ranger</h2><ul><li><p>If you want a tool to preview images or other file type can preview as images (pdf, videos), i recommended ueberzug , but note, you should use ranger-git by <code>yaourt -S ranger-git</code></p></li><li><p>If you are a Mac user, iterm2 is enough to preview images.</p></li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/CLSW/ranger.png" alt="Ranger"> </p><h2 id="3-Fish"><a href="#3-Fish" class="headerlink" title="3. Fish"></a>3. Fish</h2><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/CLSW/Fish.png" alt="Fish"> </p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>GPU servers</title>
      <link href="/2020/04/21/gpu-servers/"/>
      <url>/2020/04/21/gpu-servers/</url>
      
        <content type="html"><![CDATA[<h2 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>æˆ‘çš„ä»»åŠ¡æ˜¯åœ¨GPUæœåŠ¡å™¨ä¸Šä½¿ç”¨æ·±åº¦å¼ºåŒ–å­¦ä¹ è®­ç»ƒAmazing Brickï¼ŒAmazing Brickä½¿ç”¨Pythonçš„<a href="https://arcade.academy/index.html">Arcade</a> åº“æ¥å†™çš„ã€‚    </p><p>æˆ‘åœ¨è€ƒè™‘åœ¨GPUæœåŠ¡å™¨ä¸Šè®­ç»ƒä¹‹å‰ï¼Œæ²¡æœ‰æ³¨æ„åˆ°Arcadeæ˜¯ä½¿ç”¨<strong>OpenGL</strong> å’Œ<strong>Pyglet</strong> æ¥è¿›è¡Œæ¸²æŸ“çš„</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/GPU-servers/ArcadeVSPygame.png" alt="Arcade VS Pygame"></p><p>è€ŒæœåŠ¡å™¨å¤§å¤šéƒ½ä»¥sshç™»é™†ï¼Œè€ŒOpenGLå°±æ›´ä¸è¦è¯´äº†ï¼Œæ‰€ä»¥åœ¨æˆ‘å¯»æ‰¾æœåŠ¡å™¨å’Œå‡†å¤‡ç¯å¢ƒçš„è¿‡ç¨‹ä¸­å°±é‡åˆ°äº†å¾ˆå¤šé—®é¢˜ï¼Œè¿™ä¸ªåœ¨ä¸‹é¢ä¼šè¯´åˆ°ã€‚</p><h2 id="GPU-servers"><a href="#GPU-servers" class="headerlink" title="GPU servers"></a>GPU servers</h2><p>  <a href="https://www.zhihu.com/question/51707286">çŸ¥ä¹:ç›®å‰å“ªé‡Œå¯ä»¥ç§Ÿç”¨åˆ°GPUæœåŠ¡å™¨ï¼Ÿ</a> </p><hr><ul><li><a href="https://aistudio.baidu.com/aistudio/index">AI Studio</a></li></ul><p>éå¸¸è‰¯å¿ƒï¼Œç”¨ç®—åŠ›å¯ä»¥è·å¾—ç®—åŠ›ï¼Œä¸æ€•ä½ ç”¨ï¼Œç”¨å¾—å¤šé€çš„å¤šã€‚<br>è¿™é‡Œæœ‰ä¸€ä½åŒå­¦å†™çš„æ”»ç•¥<a href="https://zhuanlan.zhihu.com/p/73361554?utm_source=wechat_session&utm_medium=social&utm_oi=28323023421440">è–…è–…å›½äº§å…è´¹GPUè®¡ç®—èµ„æº</a><br>ç™»é™†æ–¹å¼æœ‰ <strong>notebook</strong> ,å¯ä½¿ç”¨ <strong>Terminal</strong> ,ä½†æ²¡æœ‰rootæƒé™ï¼Œè¿™å°±æ„å‘³ç€æœ‰å¾ˆå¤šé™åˆ¶ï¼Œæœ€é‡è¦çš„æ˜¯é¢„è£…æ¡†æ¶ä¸º <strong>PaddlePaddle</strong> .  ä¸èƒ½ç”¨ <code>TensorFlow</code>, æ€»ä¸èƒ½ä¸ºäº†å«–GPUæœåŠ¡å™¨å†å»å­¦ä¸€ç§æ¡†æ¶å§ï¼Œåˆ«æ‹…å¿ƒ, è¿™é‡Œæœ‰<a href="https://www.zhihu.com/question/336485090">ç™¾åº¦paddlepaddleå¹³å°å¦‚ä½•é…ç½®tensorflow-gpu</a>. è¿™ä¸ªæˆ‘æ²¡æœ‰å°è¯•ï¼Œæœ‰å…´è¶£çš„å¯ä»¥å°è¯•ä¸€ä¸‹ï¼ˆæœ‰ç©ºäº†æˆ‘ä¼šæ¥å¡«è¿™ä¸ªå‘ï¼‰</p><ul><li><a href="https://www.easyaiforum.cn/">æ˜“å­¦æ™ºèƒ½</a> </li></ul><p>æˆ‘ç°åœ¨ä½¿ç”¨çš„å°±æ˜¯è¿™ä¸ª</p><p>æ„Ÿè°¢<a href="https://www.paratera.com/liveInterface.html">å¹¶è¡Œè¶…ç®—</a> ç»™æˆ‘æä¾›çš„50ç®—åŠ›çš„è¯•ç”¨ï¼Œæˆ‘å°±æ˜¯é ç€è¿™50ç®—åŠ›æŠŠç¯å¢ƒç»™æ­æ˜ç™½äº†å“ˆå“ˆå“ˆã€‚</p><ul><li>â€¦</li></ul><h2 id="ç¯å¢ƒæ­å»º"><a href="#ç¯å¢ƒæ­å»º" class="headerlink" title="ç¯å¢ƒæ­å»º"></a>ç¯å¢ƒæ­å»º</h2><h3 id="1-Ubuntu"><a href="#1-Ubuntu" class="headerlink" title="1. Ubuntu"></a>1. Ubuntu</h3><p>GPU é…ç½®å¯æ ¹æ®è‡ªå·±çš„éœ€è¦è°ƒæ•´<br>æˆ‘é€‰æ‹©çš„æ˜¯ï¼š</p><pre><code>OS: UbuntuGPU: RTX 2080TICPU: E5 4COREMEMARY: 15GENVIROMENT: Python 3.6 + TF 2.0</code></pre><p>è¿™é‡Œçš„ç¯å¢ƒä½¿å¼€ç®±å³ç”¨çš„ï¼Œä¸éœ€è¦æ¿€æ´»</p><ol><li>åŸºæœ¬åŒ…å®‰è£…</li></ol><pre><code class="line-numbers language-bash">pip install arcade dataclasses scikit-image</code></pre><ol start="2"><li>æµ‹è¯•arcadeç¯å¢ƒ</li></ol><ul><li>Arcade å®˜æ–¹çš„ä¸€ä¸ªå°demo</li></ul><pre><code class="line-numbers language-python">&quot;&quot;&quot;Drawing an example happy faceIf Python and Arcade are installed, this example can be run from the command line with:python -m arcade.examples.happy_face&quot;&quot;&quot;import arcade# Set constants for the screen sizeSCREEN_WIDTH = 600SCREEN_HEIGHT = 600SCREEN_TITLE = &quot;Happy Face Example&quot;# Open the window. Set the window title and dimensionsarcade.open_window(SCREEN_WIDTH, SCREEN_HEIGHT, SCREEN_TITLE)# Set the background colorarcade.set_background_color(arcade.color.WHITE)# Clear screen and start render processarcade.start_render()# --- Drawing Commands Will Go Here ---# Draw the facex = 300y = 300radius = 200arcade.draw_circle_filled(x, y, radius, arcade.color.YELLOW)# Draw the right eyex = 370y = 350radius = 20arcade.draw_circle_filled(x, y, radius, arcade.color.BLACK)# Draw the left eyex = 230y = 350radius = 20arcade.draw_circle_filled(x, y, radius, arcade.color.BLACK)# Draw the smilex = 300y = 280width = 120height = 100start_angle = 190end_angle = 350arcade.draw_arc_outline(x, y, width, height, arcade.color.BLACK,                        start_angle, end_angle, 10)# Finish drawing and display the resultarcade.finish_render()# Keep the window open until the user hits the &#39;close&#39; buttonarcade.run()</code></pre><ul><li><p>-&gt;è¿è¡Œå‘ç°æŠ¥é”™ï¼š<code>ImportError: Library â€œGLUâ€ not found</code></p><p>è§£å†³åŠæ³•ï¼š<a href="https://stackoverflow.com/questions/50446867/importerror-library-glu-not-found"><code>sudo apt-get install freeglut3-dev</code></a> </p></li><li><p>-&gt;å†æ¬¡è¿è¡ŒæŠ¥é”™ï¼š<code>pyglet.canvas.xlib.NoSuchDisplayException: Cannot connect to &quot;None&quot;</code></p><p>åŸå› å¤§æ¦‚æ˜¯arcadeè°ƒç”¨<code>pyglet</code>ç»˜åˆ¶çª—å£éœ€è¦å›¾å½¢ç•Œé¢ï¼ˆå°±æ˜¯å¼¹å‡ºæ¥çš„é‚£ä¸ªæ¡†æ¡†ï¼‰ï¼Œè€Œå½“ä½ ä½¿ç”¨sshè¿æ¥serveræ—¶æ˜¯æ²¡æœ‰å›¾å½¢ç•Œé¢çš„ã€‚<br>å› æ­¤æˆ‘ä»¬éœ€è¦ä¸€ä¸ªè™šæ‹Ÿçš„å›¾å½¢ç•Œé¢ï¼Œè€Œ<a href="https://linux.die.net/man/1/xvfb"><code>xvfb-run</code></a>å°±æ˜¯ä¸€ä¸ªæä¾›è™šæ‹Ÿå›¾å½¢ç•Œé¢çš„å·¥å…·ã€‚<br>è¿™é‡Œæœ‰ä¸€ç¯‡æ–‡ç« æ˜¯ä»‹ç»å¦‚ä½•ä½¿ç”¨<code>xvfb</code>æ¥åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæ¡Œé¢æ¥è¿›è¡ŒæœåŠ¡å™¨ç«¯çš„å›¾å½¢æµ‹è¯•çš„ã€‚</p><p><a href="http://elementalselenium.com/tips/38-headless">How To Run Your Tests Headlessly with Xvfb</a></p><p>å®‰è£…<code>xvfb</code>ä¹‹å‰è¦å…ˆæ›´æ–°ä¸€ä¸‹ <code>sudo apt update</code>, å¦‚æœé‡åˆ°å¯†é’¥ä¸å¯ç”¨å¯ä»¥<code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys å¯†é’¥</code></p></li><li><p>-&gt;ä½¿ç”¨<code>xvfb-run -a python xxx.py</code> æ¥ç»§ç»­æµ‹è¯•æŠ¥é”™ï¼š<code>arcade.application.NoOpenGLException:  Unable to create an OpenGL 3.3+ context. Check to make sure your system supports OpenGL 3.3 or higher.</code>     </p><p>æ„æ€æ˜¯OpenCVç‰ˆæœ¬å¤ªä½</p></li><li><p>æ¥ä¸‹æ¥æŸ¥çœ‹æœåŠ¡å™¨ç«¯çš„OpenGLç‰ˆæœ¬ï¼Œä½¿ç”¨<code>glxinfo | grep &quot;OpenGL&quot;</code></p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/GPU-servers/opencv_version.png" alt="opencv_version"> </p><p>è¿˜æ˜¯æ²¡æœ‰å›¾å½¢ç•Œé¢çš„é—®é¢˜ï¼Œç»§ç»­ä½¿ç”¨<code>xvfb-run -a glxinfo | grep &quot;OpenGL&quot;</code></p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/GPU-servers/opencv_version2.png" alt="opencv_version"> </p><p>æ˜¾ç¤ºOpenGLçš„ç‰ˆæœ¬ä¸º3.1, ä¾æ—§æ— æ³•æ»¡è¶³arcadeéœ€è¦çš„OpenGL3+ã€‚</p></li><li><p>ä¼šä¸ä¼šæ˜¯ç”±äºæœåŠ¡ç«¯åŸæœºå™¨ä¸Šçš„ä½ç‰ˆæœ¬OpenGLé€ æˆ<code>xvfb</code>è™šæ‹Ÿåçš„OpenCVç‰ˆæœ¬è¾ƒä½ï¼Ÿ</p><p>æˆ‘åœ¨æœ¬åœ°çš„Ubuntuç³»ç»Ÿä¸Šåˆ†åˆ«è¿è¡Œ<code>glxinfo | grep &quot;OpenGL&quot;</code>, å‘ç°åŸæœºå™¨ç‰ˆæœ¬ä¸º4.6ï¼Œä½†<code>xvfb</code>è™šæ‹Ÿåçš„ç‰ˆæœ¬ä¸º3.1ï¼Œæ¨æµ‹ä¸º<code>Xvfb</code>è™šæ‹Ÿå›¾å½¢ç•Œé¢çš„åŸå› ã€‚</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/GPU-servers/glxinfo.png"></p><p>æ­¤é—®é¢˜æ²¡æœ‰æ‰¾åˆ°è§£å†³åŠæ³•</p></li><li><p>âš ï¸ å¦‚æœä½ æ˜¯ä¸€ä¸ª<code>pygame</code>ç”¨æˆ·ï¼Œæˆ–è€…ä½ å¯¹OpenGLçš„ç‰ˆæœ¬è¦æ±‚ä¸é«˜ï¼ˆ3.1ï¼‰ï¼Œä½ å®Œå…¨å¯ä»¥ä½¿ç”¨<code>xvfb-run</code>æ¥è¿›è¡Œè¦æ±‚å›¾å½¢åŒ–çš„æµ‹è¯•ã€‚ç»æµ‹è¯•ï¼Œpygameåœ¨GPUæœåŠ¡å™¨ä¸Šå¯ä»¥è¿è¡Œã€‚</p></li></ul><p>æ—¢ç„¶Ubuntuæ— æ³•å®Œæˆæˆ‘çš„å·¥ä½œï¼Œæ•…æˆ‘å¼€å§‹ä½¿ç”¨Windows</p><h3 id="2-Windows-10"><a href="#2-Windows-10" class="headerlink" title="2. Windows 10"></a>2. Windows 10</h3><p>ç³»ç»Ÿé…ç½®</p><pre><code>OS: Windows 10GPU: RTX 2080TICPU: I5</code></pre><ul><li>è¿›å…¥ç³»ç»Ÿè¦å…ˆæ¿€æ´»ç¯å¢ƒ,è¯¦ç»†ä¿¡æ¯è§<a href="https://www.easyaiforum.cn/helpDocument?manual_id=136">å¸®åŠ©æ–‡æ¡£</a> </li></ul><pre><code class="line-numbers language-bash">conda activate py36h</code></pre><ul><li><p>å®‰è£…åŸºæœ¬åŒ…å’ŒUbuntuä¸€æ ·ï¼Œæµ‹è¯•çš„æ—¶å€™å‘ç°ä¾æ—§å­˜åœ¨<code>OpenGL</code>çš„é—®é¢˜,æŸ¥çœ‹OpenGLç‰ˆæœ¬ä¸º1.1</p><p>è¿™é‡Œç»™å‡ ä¸ªæŸ¥çœ‹OpenGLçš„å·¥å…·ï¼š</p><ul><li>GPU_Caps_Viewer: é“¾æ¥: <a href="https://pan.baidu.com/s/1_YisKqKJY_2Uml2MQXKnNQ">https://pan.baidu.com/s/1_YisKqKJY_2Uml2MQXKnNQ</a> æå–ç : use7</li><li>GLViewer: é“¾æ¥: <a href="https://pan.baidu.com/s/1G2GR5S9oSqatMmBqv5YLdA">https://pan.baidu.com/s/1G2GR5S9oSqatMmBqv5YLdA</a> æå–ç : 27s2</li></ul></li><li><p>æ›´æ–°OpenGL</p><p>æ›´æ–°æ˜¾å¡é©±åŠ¨å³å¯: <a href="https://www.nvidia.com/Download/index.aspx#">NVIDIA Driver Downloads</a> , ä¸‹è½½å¯¹åº”ç‰ˆæœ¬çš„é©±åŠ¨å®‰è£…ã€‚</p><p>æˆ‘åœ¨ç½‘ä¸Šæ‰¾åˆ°å¾ˆå¤šè¯´ç”¨ é©±åŠ¨ç²¾çµï¼Œ é²å¤§å¸ˆç­‰è½¯ä»¶æ›´æ–°é©±åŠ¨ï¼Œæˆ‘è¯•äº†ä¸€ä¸‹ï¼Œå®Œå…¨ä¸èµ·ä½œç”¨ã€‚å®˜ç½‘é©±åŠ¨äº²æµ‹å¯è¡Œï¼Œå°±æ˜¯æœ‰ç‚¹è€—æ—¶é—´ã€‚</p></li><li><p>æ›´æ–°å®ŒOpenGLä¹‹åä»£ç å°±å¯ä»¥å¿«ä¹åœ°è®­ç»ƒå•¦</p></li></ul><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/05/09/use-tensorflow-in-ai-studio/">Use Tensorflow in AI Studio</a></li><li><a href="https://godliuyang.wang/2019/08/07/enjoy-pytorch/">Enjoy PyTorch</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Deep Learning </tag>
            
            <tag> GPU </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>scikit-image guide</title>
      <link href="/2020/03/30/scikit-image-guide/"/>
      <url>/2020/03/30/scikit-image-guide/</url>
      
        <content type="html"><![CDATA[<h1 id="Pythonçš„æ•°å­—å›¾ç‰‡å¤„ç†åŒ…ã€‚æ¯”å¦‚-PIL-pillow-opencv-scikit-image"><a href="#Pythonçš„æ•°å­—å›¾ç‰‡å¤„ç†åŒ…ã€‚æ¯”å¦‚-PIL-pillow-opencv-scikit-image" class="headerlink" title="Pythonçš„æ•°å­—å›¾ç‰‡å¤„ç†åŒ…ã€‚æ¯”å¦‚ PIL, pillow, opencv, scikit-image"></a>Pythonçš„æ•°å­—å›¾ç‰‡å¤„ç†åŒ…ã€‚æ¯”å¦‚ PIL, pillow, opencv, scikit-image</h1><p>PILå’Œpillowåªæä¾›æœ€åŸºç¡€çš„æ•°å­—å›¾åƒå¤„ç†ï¼ŒåŠŸèƒ½æœ‰é™ï¼›opencvå®é™…ä¸Šæ˜¯ä¸€ä¸ªc++åº“ï¼Œåªæä¾›äº†pythonå€Ÿå£ï¼Œæ›´æ–°é€Ÿåº¦éå¸¸æ…¢ã€‚scikit-imageæ˜¯åŸºäºscipyçš„ä¸€æ¬¾å›¾åƒå¤„ç†åŒ…ï¼Œå®ƒå°†å›¾ç‰‡ä½œä¸ºnumpyæ•°ç»„è¿›è¡Œå¤„ç†ï¼Œä¸matlabä¸€æ ·ï¼Œæ‰€ä»¥æˆ‘é€‰æ‹©äº†æ˜¯scikit-imageè¿›è¡Œå›¾åƒå¤„ç†</p><h2 id="1-Install"><a href="#1-Install" class="headerlink" title="1. Install"></a>1. Install</h2><pre><code class="line-numbers language-bash">conda install -c conda-forge scikit-image</code></pre><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/08/17/leetcode-easy-9/">LeetCode EASY_9</a></li><li><a href="https://godliuyang.wang/2020/01/29/sort/">SORT</a></li><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li></ul></div>]]></content>
      
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>About Proxy</title>
      <link href="/2020/02/04/about-proxy/"/>
      <url>/2020/02/04/about-proxy/</url>
      
        <content type="html"><![CDATA[<h1 id="About-Proxy"><a href="#About-Proxy" class="headerlink" title="About Proxy"></a>About Proxy</h1><p><del>Script: <a href="https://github.com/liuyaanng/SSR">SSR</a></del>  SSR seems very unstable, i use <strong>v2ray</strong> now.</p><p>Ping test: <a href="http://ping.chinaz.com/">ping</a> </p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/1.png" alt="Youtube speed"> </p><h2 id="V2Ray"><a href="#V2Ray" class="headerlink" title="V2Ray"></a>V2Ray</h2><p>Preconditions:</p><ul><li>a VPS: <a href="https://www.vultr.com/">vultr</a>( $5/m , i uesd now) , <a href="https://billing.virmach.com/cart.php">VIRMACH</a>( $1.25/m)</li><li>a Domain: (<a href="https://www.namesilo.com/">Namesilo</a>($0.99), <a href="https://www.freenom.com/">Freenom</a>(free) )</li><li>VPS OS version: Debian 9+ / Ubuntu 18.04+ / CentOS 7+</li></ul><h3 id="1-Resolve-the-domain-to-the-IP-of-your-VPS"><a href="#1-Resolve-the-domain-to-the-IP-of-your-VPS" class="headerlink" title="1. Resolve the domain to the IP of your VPS"></a>1. Resolve the domain to the IP of your VPS</h3><p><a href="https://www.cloudflare.com/">Cloudflare</a> </p><h4 id="1-Add-site"><a href="#1-Add-site" class="headerlink" title="1. Add site"></a>1. Add site</h4><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/2.png"> </p><h4 id="2-Change-your-domain-NS"><a href="#2-Change-your-domain-NS" class="headerlink" title="2. Change your domain NS"></a>2. Change your domain NS</h4><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/5.png"> </p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/3.png"> </p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/4.png"> </p><h4 id="3-Add-record"><a href="#3-Add-record" class="headerlink" title="3. Add record"></a>3. Add record</h4><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/6.png"> </p><p><del>You can light the cloud icon to use a proxy which can hidden real ip. ~</del> it is possible to make v2ray doesnâ€™t work.</p><p>NOTE: <strong>Do it after installed V2Ray if u need it</strong></p><h4 id="4-Ping"><a href="#4-Ping" class="headerlink" title="4. Ping"></a>4. Ping</h4><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/7.png"> </p><p>it works.</p><h3 id="2-Set-BBR-lotserver"><a href="#2-Set-BBR-lotserver" class="headerlink" title="2. Set BBR lotserver"></a>2. Set BBR lotserver</h3><pre><code class="line-numbers language-bash">wget --no-check-certificate https://raw.githubusercontent.com/liuyaanng/SSR/master/tcp.sh &amp;&amp; chmod +x tcp.sh &amp;&amp; ./tcp.sh</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/8.png"> </p><h3 id="3-Install-V2Ray"><a href="#3-Install-V2Ray" class="headerlink" title="3. Install V2Ray"></a>3. Install V2Ray</h3><p>There are two way to install V2Ray use different methods.</p><ul><li>Vmess+websocket+TLS+Nginx+Website</li></ul><pre><code class="line-numbers language-bash">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install.sh) | tee v2ray_ins.log</code></pre><ul><li>Vmess + HTTP2 over TLS</li></ul><pre><code class="line-numbers language-bash">bash &lt;(curl -L -s https://raw.githubusercontent.com/wulabing/V2Ray_ws-tls_bash_onekey/master/install_h2.sh) | tee v2ray_ins_h2.log</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/About-Proxy/9.png"> </p><p>SELF TESTING</p><h3 id="4-Run-V2Ray"><a href="#4-Run-V2Ray" class="headerlink" title="4. Run V2Ray"></a>4. Run V2Ray</h3><ul><li>start v2ray: <code>systemctl start v2ray</code></li><li>stop v2ray: <code>systemctl stop v2ray</code></li><li>start nginx: <code>systemctl start nginx</code></li><li>stop nginx: <code>systemctl stop nginx</code></li></ul><h3 id="5-V2Ray-client"><a href="#5-V2Ray-client" class="headerlink" title="5. V2Ray client"></a>5. V2Ray client</h3><ul><li><p>Windows: </p><ul><li><a href="https://tlanyan.me/download.php?filename=/v2/windows/v2rayN-v3.5.zip">V2RayN</a> </li></ul></li><li><p>MacOS:</p><ul><li><a href="https://tlanyan.me/download.php?filename=/v2/macos/v2rayU-v1.5.1.dmg">V2RayU</a> </li><li><a href="https://github.com/yichengchen/clashX/releases/download/1.18.2/ClashX.dmg">ClashX</a> (what i use now)</li></ul></li><li><p>Linux:</p><ul><li><p><a href="https://www.jianshu.com/p/a5b6d9dc0441">link</a> </p></li><li><p><a href="https://snapcraft.io/install/v2ray-core/arch#install">Snap</a></p></li><li><p>Configuration V2Ray</p><p>config file is located in <code>/etc/v2ray/config.json</code></p><pre><code class="line-numbers language-bash">&#123;&quot;policy&quot;: null,&quot;log&quot;: &#123;&quot;access&quot;: &quot;&quot;,&quot;error&quot;: &quot;&quot;,&quot;loglevel&quot;: &quot;warning&quot;&#125;,&quot;inbounds&quot;: [&#123;  &quot;tag&quot;: &quot;proxy&quot;,  &quot;port&quot;: 1080,  &quot;listen&quot;: &quot;127.0.0.1&quot;,  &quot;protocol&quot;: &quot;socks&quot;,  &quot;sniffing&quot;: &#123;    &quot;enabled&quot;: true,    &quot;destOverride&quot;: [      &quot;http&quot;,      &quot;tls&quot;    ]  &#125;,  &quot;settings&quot;: &#123;    &quot;auth&quot;: &quot;noauth&quot;,    &quot;udp&quot;: true,    &quot;ip&quot;: null,    &quot;address&quot;: null,    &quot;clients&quot;: null  &#125;,  &quot;streamSettings&quot;: null&#125;],&quot;outbounds&quot;: [&#123;  &quot;tag&quot;: &quot;proxy&quot;,  &quot;protocol&quot;: &quot;vmess&quot;,  &quot;settings&quot;: &#123;    &quot;vnext&quot;: [      &#123;        &quot;address&quot;: &quot; &quot;, //your domain address        &quot;port&quot;:  ,   //port        &quot;users&quot;: [          &#123;            &quot;id&quot;: &quot; &quot;,   //id            &quot;alterId&quot;: 2,            &quot;email&quot;: &quot;t@t.tt&quot;,            &quot;security&quot;: &quot;auto&quot;          &#125;        ]      &#125;    ],    &quot;servers&quot;: null,    &quot;response&quot;: null  &#125;,    &quot;streamSettings&quot;: &#123;    &quot;network&quot;: &quot;ws&quot;,    &quot;security&quot;: &quot;tls&quot;,    &quot;tlsSettings&quot;: &#123;      &quot;allowInsecure&quot;: true,      &quot;serverName&quot;: &quot; &quot;    //domain address    &#125;,    &quot;tcpSettings&quot;: null,    &quot;kcpSettings&quot;: null,    &quot;wsSettings&quot;: &#123;      &quot;connectionReuse&quot;: true,      &quot;path&quot;: &quot;/e3137ae7/&quot;,   //path      &quot;headers&quot;: &#123;        &quot;Host&quot;: &quot; &quot;  //domain address      &#125;    &#125;,    &quot;httpSettings&quot;: null,    &quot;quicSettings&quot;: null  &#125;,  &quot;mux&quot;: &#123;    &quot;enabled&quot;: true,    &quot;concurrency&quot;: 8  &#125;&#125;,&#123;  &quot;tag&quot;: &quot;direct&quot;,  &quot;protocol&quot;: &quot;freedom&quot;,  &quot;settings&quot;: &#123;    &quot;vnext&quot;: null,    &quot;servers&quot;: null,    &quot;response&quot;: null  &#125;,  &quot;streamSettings&quot;: null,  &quot;mux&quot;: null&#125;,&#123;  &quot;tag&quot;: &quot;block&quot;,  &quot;protocol&quot;: &quot;blackhole&quot;,  &quot;settings&quot;: &#123;    &quot;vnext&quot;: null,    &quot;servers&quot;: null,    &quot;response&quot;: &#123;      &quot;type&quot;: &quot;http&quot;    &#125;  &#125;,  &quot;streamSettings&quot;: null,  &quot;mux&quot;: null&#125;],&quot;stats&quot;: null,&quot;api&quot;: null,&quot;dns&quot;: null,&quot;routing&quot;: &#123;&quot;domainStrategy&quot;: &quot;IPIfNonMatch&quot;,&quot;rules&quot;: [  &#123;    &quot;type&quot;: &quot;field&quot;,    &quot;port&quot;: null,    &quot;inboundTag&quot;: [      &quot;api&quot;    ],    &quot;outboundTag&quot;: &quot;api&quot;,    &quot;ip&quot;: null,    &quot;domain&quot;: null  &#125;]&#125;&#125;</code></pre></li></ul></li></ul><h2 id="Terminal-Proxy"><a href="#Terminal-Proxy" class="headerlink" title="Terminal Proxy"></a>Terminal Proxy</h2><h3 id="proxychains"><a href="#proxychains" class="headerlink" title="proxychains"></a>proxychains</h3><p>i can make some terminal commands run with proxy. But it seems canâ€™t work on my computer. Sad. Anyway, i still share the way to install and configure.</p><ul><li>Installation</li></ul><pre><code class="line-numbers language-bash">sudo pacman -S proxychains</code></pre><p>Or you can install it from source code. (make sure your <code>gcc</code> installed)</p><pre><code class="line-numbers language-bash">git clone https://github.com/rofl0r/proxychains-ngcd proxychains-ng./configuresudo make &amp;&amp; make installsudo make install-config(generate config file)</code></pre><ul><li>Configuration<br>config file is saved in <code>/etc/proxychains.conf</code></li></ul><p>Add <code>socks5  127.0.0.1 1080</code> to the end. note the space!</p><ul><li>Use</li></ul><p>Add <code>proxychains</code> before the terminal commands.</p><pre><code class="line-numbers language-bash">proxychains git clone https://github.com/rofl0r/proxychains-ng</code></pre><p>you can run <code>npm</code> , <code>docker</code> â€¦ But <code>ping</code> command is not suitable, because proxychains can only proxy <strong>TCP</strong>, and <code>ping</code> is use <strong>ICMP</strong>.</p><h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p>You may need to configure a proxy server if youâ€™re having trouble cloning or fetching from a remote repository or getting an error like unable to access <code>Couldn&#39;t resolve host</code>.</p><p>Consider something like:</p><pre><code class="line-numbers language-bash">git config --global http.proxy http://proxyUsername:proxyPassword@proxy.server.com:port</code></pre><p>i use <code>git config --global http.proxy &#39;socks5://127.0.0.1:1080&#39;</code> to set my git cause i use socks5.</p><p>i also use <code> git config --local http.proxy &#39;socks5://127.0.0.1:1080&#39;</code> to set my local config that can only work in â€˜git cloneâ€™ repositories.</p><p>Check global proxy:</p><pre><code class="line-numbers language-bash">git config --global http.proxy</code></pre><p>Check local proxy:</p><pre><code class="line-numbers language-bash">git config --local http.proxy</code></pre><p>Cancel proxy:</p><pre><code class="line-numbers language-bash">git config --global --unset http.proxy</code></pre><pre><code class="line-numbers language-bash">git config --local --unset http.proxy</code></pre><h3 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h3><p>Create <code>.wgetrc</code> file in home directory.</p><pre><code class="line-numbers language-bash">use_proxy=yeshttp_proxy=127.0.0.1:1080https_proxy=127.0.0.1:1080</code></pre><p>it can only use http proxy.</p>]]></content>
      
      
      
        <tags>
            
            <tag> vpn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Horner&#39;s Method</title>
      <link href="/2020/02/02/horner-s-method/"/>
      <url>/2020/02/02/horner-s-method/</url>
      
        <content type="html"><![CDATA[<h3 id="Function-vs-Polynomial"><a href="#Function-vs-Polynomial" class="headerlink" title="Function vs Polynomial"></a>Function vs Polynomial</h3><ul><li>f(x) means a function, any function<ul><li>$$ f(x) = \sin (e^x) + \ln ( \frac{1}{x^2+1} ) $$</li><li>$$ f(x) = \alpha x^3 - \arctan(x) $$</li></ul></li><li>p(x) means a polynomial function<ul><li>$$ p(x) = dx^3 + cx^2 + bx + a $$</li><li>$$ p(x) = a + bx + cx^2 + dx^3 $$</li></ul></li><li>evaluating p(x) can be slow<ul><li>$$ p(x) = a + bx + cx^2 + dx^3 $$</li><li>$$ p(x) = a + b \times x + c \times x \times x + d \times x \times x \times x $$</li></ul></li></ul><p>It include <strong>4 additions</strong> and <strong>6 multiplications</strong></p><h3 id="Hornerâ€™s-Method"><a href="#Hornerâ€™s-Method" class="headerlink" title="Hornerâ€™s Method"></a>Hornerâ€™s Method</h3><ul><li>Rewrite p(x)<ul><li>$$ p(x) = a + bx + cx^2 + dx^3 $$</li><li>$$ p(x) = a + bx + x(cx + dx^2) $$</li><li>$$ p(x) = a + x(b + x(cx + dx)) $$</li><li>$$ p(x) = a + x \times (b + x \times (c + d \times x)) $$</li></ul></li></ul><p>It include <strong>3 additions</strong> and <strong>3 multiplications</strong></p><ul><li>In terms of $a_n$<ul><li>$$ p(x) = a_0 + a_1x + a_2x^2 + a_3x^3 + \cdots + a_nx^n $$</li><li>$$ p(x) = a_0x^0 + a_1x + a_2x^2 + a_3x^3 + \cdots + a_nx^n  = \sum_{i=0}^{n} a_i x^i $$</li><li>$$ p(x) = a_0 +x(a_1 + x(a_2 + \cdots + x(a_{n-1} + xa_n    ) \cdots )) $$</li><li>$$p(x) = p_0(x) where p_i(x) = \begin{cases} a_i + x \times p_{i+1}(x), if i &lt; n \ a_n, if i = n \end{cases}$$</li></ul></li></ul><h4 id="Pseudocode"><a href="#Pseudocode" class="headerlink" title="Pseudocode"></a>Pseudocode</h4><p>Give the value of coefficient $a_0$, $a_1$, $\cdots$, $a_n$ and $x$.</p><pre><code class="line-numbers language-python">y = 0for i = n downto 0  y = a_i + xy</code></pre>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>SORT</title>
      <link href="/2020/01/29/sort/"/>
      <url>/2020/01/29/sort/</url>
      
        <content type="html"><![CDATA[<h2 id="SORT"><a href="#SORT" class="headerlink" title="SORT"></a>SORT</h2><h3 id="1-BUBBLE-SORT"><a href="#1-BUBBLE-SORT" class="headerlink" title="1. BUBBLE SORT"></a>1. BUBBLE SORT</h3><pre><code class="line-numbers language-python">BUBBLE-SORT(A)//A:sort arrayfor i = 1 to A.length - 1  for j = A.length to i + 1    if A[j] &lt; A[j-1]      swap(A[j], A[j-1]</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/SORT/BUBBLE_SORT.gif" alt="BUBBLE_SORT"> </p><p>$$ \Theta (n^2) $$</p><h3 id="2-INSERTION-SORT"><a href="#2-INSERTION-SORT" class="headerlink" title="2. INSERTION SORT"></a>2. INSERTION SORT</h3><pre><code class="line-numbers language-python">INSERTION-SORT(A)//A:sort arrayfor j = 2 to A.length  key = A[j]  //Insert A[j] into the sorted sequence A[1..j-1]  i = j - 1  while i &gt; 0 and A[i] &gt; key    A[i+1] = A[i]    i = i - 1  A[i+1] = key</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/SORT/INSERTION_SORT.gif" alt="INSERTION_SORT"> </p><p>$$ \Theta (n^2) $$</p><h3 id="3-SELECT-SORT"><a href="#3-SELECT-SORT" class="headerlink" title="3. SELECT SORT"></a>3. SELECT SORT</h3><pre><code class="line-numbers language-python">SELECT-SORT(A)//A:sort arrayfor i = 1 to range(i,A.length)  min = A[i]  for j = 1 to A.length    if min &gt; A[j]      min = A[j]      min_index = j  swap(A[i],A[min_index])</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/SORT/SELECT_SORT.gif" alt="SELECT_SORT"> </p><p>$$ \Theta (n^2) $$</p><h3 id="4-MERGE-SORT"><a href="#4-MERGE-SORT" class="headerlink" title="4. MERGE SORT"></a>4. MERGE SORT</h3><pre><code class="line-numbers language-python">MERGE-SORT(A, p, r)//A:sort array//p:begin index//r:end indexif p &lt; r  q = [(p + r) / 2]  MERGE-SORT(A, p, q)  MERGE-SORT(A, q+1, r)  MERGE(A, p, q, r)MERGE(A, p, q, r)//A:sort array//p:begin index//q:mid index//r:end indexn1 = q - p + 1n2 = r - qLet L[1..n1 + 1] and R[1..n2 + 1] be new arraysfor i = 1 to n1  L[i] = A[p + i - 1]for j = 1 to n2  R[j] = A[q + j]L[n1 + 1] = infinityR[n2 + 1] = infinityi = 1j = 1for k = p to r  if L[i] &lt;= R[j]    A[k] = L[i]    i = i + 1  else    A[k] = R[j]    j = j + 1</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/SORT/MERGE_SORT.gif" alt="MERGE_SORT"> </p><p>$$ \Theta (n) $$</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/08/17/leetcode-easy-9/">LeetCode EASY_9</a></li><li><a href="https://godliuyang.wang/2020/03/30/scikit-image-guide/">scikit-image guide</a></li><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Algorithms </category>
          
      </categories>
      
      
        <tags>
            
            <tag> python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Arch Linux + i3wmè¯¦ç»†é…ç½®ç¯‡</title>
      <link href="/2019/12/06/arch-linux-i3wm-xiang-xi-pei-zhi/"/>
      <url>/2019/12/06/arch-linux-i3wm-xiang-xi-pei-zhi/</url>
      
        <content type="html"><![CDATA[<h2 id="Arch-linux-i3"><a href="#Arch-linux-i3" class="headerlink" title="Arch linux + i3"></a>Arch linux + i3</h2><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/img.jpg" alt="arch+i3"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/main.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/albert.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/music.png"> </p><h2 id="Installation-guide"><a href="#Installation-guide" class="headerlink" title="Installation guide"></a>Installation guide</h2><h3 id="1-Boot-the-live-environment"><a href="#1-Boot-the-live-environment" class="headerlink" title="1. Boot the live environment"></a>1. Boot the live environment</h3><p>The live environment can be booted from a USB flash device, an optical disc or a network with PXE. </p><h3 id="2-Connect-the-Internet"><a href="#2-Connect-the-Internet" class="headerlink" title="2. Connect the Internet"></a>2. Connect the Internet</h3><pre><code class="line-numbers language-bash">wifi-menu</code></pre><p>Use <code>ping www.archlinux.org</code> to verify the connection.</p><h3 id="3-Update-the-system-clock"><a href="#3-Update-the-system-clock" class="headerlink" title="3. Update the system clock"></a>3. Update the system clock</h3><p>Use <code>tiledatectl</code> to ensure the system colck is accurate</p><pre><code class="line-numbers language-bash">timedatectl set-ntp true</code></pre><p>To check the service status, use <code>timedatectl status</code></p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/1.png" alt="timedate"> </p><h3 id="4-Partition-the-disks"><a href="#4-Partition-the-disks" class="headerlink" title="4. Partition the disks"></a>4. Partition the disks</h3><p>When recognized by the live system, disks are assigned to a block device such as <code>/dev/sda</code> or <code>/dev/nvme0n1</code> . To identify these devices, use <code>lsblk</code> or <code>fdisk</code> .</p><pre><code class="line-numbers language-bash">fdisk -l</code></pre><p>Use <a href="https://wiki.archlinux.org/index.php/Fdisk">fdisk</a> or <a href="https://wiki.archlinux.org/index.php/Parted">parted</a> to modify partition tables. </p><p>for example: </p><pre><code class="line-numbers language-bash"># parted /dev/sda(parted) mklabelNew disk label type? gpt(parted) exit</code></pre><p>Use <code>cfdisk</code> to create partition.    </p><p>It should include <strong>EFI</strong> , <strong>/</strong> (root), <strong>/home</strong> , <strong>/swap</strong> .</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/2.png" alt="Disks"> </p><h3 id="5-Format-the-partitions"><a href="#5-Format-the-partitions" class="headerlink" title="5. Format the partitions"></a>5. Format the partitions</h3><p>Note the correct partitions</p><ul><li>EFI partition</li></ul><pre><code class="line-numbers language-bash">mkfs.vfat /dev/sda2</code></pre><ul><li>root and home partition</li></ul><pre><code class="line-numbers language-bash">mkfs.ext4 /dev/sda3mkfs.ext4 /dev/sda4</code></pre><ul><li>swap partition</li></ul><pre><code class="line-numbers language-bash">mkswap -f /dev/sda5swapon /dev/swap</code></pre><h3 id="6-Mount-the-file-systems"><a href="#6-Mount-the-file-systems" class="headerlink" title="6. Mount the file systems"></a>6. Mount the file systems</h3><p>Pay attention to the <strong>order</strong> of mounting partitions!</p><ul><li>mount the file system on the root partition to <code>/mnt</code></li></ul><pre><code class="line-numbers language-bash">mount /dev/sda3 /mnt</code></pre><ul><li>create <strong>home</strong> folder in <code>/mnt</code> folder and mount the file system on the home partition to <code>/mnt/home</code></li></ul><pre><code class="line-numbers language-bash">mkdir /mnt/homemount /dev/sda4 /mnt/home</code></pre><ul><li>create <strong>/mnt/boot/EFI</strong> folder and mount the file system on the EFI partition to <code>/mnt/boot/EFI</code></li></ul><pre><code class="line-numbers language-bash">mkdir /mnt/bootmkdir /mnt/boot/EFImount /dev/sda2 /mnt/boot/EFI</code></pre><h3 id="7-Select-the-mirrors"><a href="#7-Select-the-mirrors" class="headerlink" title="7. Select the mirrors"></a>7. Select the mirrors</h3><pre><code class="line-numbers language-bash">vim /etc/pacman.d/mirrorlist</code></pre><p>Paste the China mirrors in the beginning</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/3.png" alt="mirrorlist"> </p><h3 id="8-Install-essential-packages"><a href="#8-Install-essential-packages" class="headerlink" title="8. Install essential packages"></a>8. Install essential packages</h3><pre><code class="line-numbers language-bash">pacstrap /mnt base linux linux-firmware</code></pre><h3 id="9-Generate-an-fstab-file"><a href="#9-Generate-an-fstab-file" class="headerlink" title="9. Generate an fstab file"></a>9. Generate an <strong>fstab</strong> file</h3><pre><code class="line-numbers language-bash">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</code></pre><p>Check the resulting <code>/mnt/etc/fstab</code> file, and edit it in case of errors.</p><pre><code class="line-numbers language-bash">cat /mnt/etc/fstab</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/4.png" alt="fstab"> </p><h3 id="10-Change-root-into-the-new-system"><a href="#10-Change-root-into-the-new-system" class="headerlink" title="10. Change root into the new system"></a>10. Change root into the new system</h3><pre><code class="line-numbers language-bash">arch-chroot /mnt</code></pre><h3 id="11-Time-zone"><a href="#11-Time-zone" class="headerlink" title="11. Time zone"></a>11. Time zone</h3><pre><code class="line-numbers language-bash">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc.localtimehwclock --systohc</code></pre><h3 id="12-Localozation-Language"><a href="#12-Localozation-Language" class="headerlink" title="12. Localozation(Language)"></a>12. Localozation(Language)</h3><ul><li>Uncomment <code>en_US.UTF-8 UTF-8</code> and others needed locals in <code>/etc/locale.gen</code> , and generate them with:</li></ul><pre><code class="line-numbers language-bash">locale-gen</code></pre><ul><li>Create the <code>locale.conf</code> file, and set <code>LANG</code> variable accordingly:</li></ul><pre><code class="line-numbers language-bash">vim /etc/locale.confLANG=en_US.UTF-8</code></pre><h3 id="13-Initramfs"><a href="#13-Initramfs" class="headerlink" title="13. Initramfs"></a>13. Initramfs</h3><pre><code class="line-numbers language-bash">mkinitcpio -P</code></pre><h3 id="14-Root-password"><a href="#14-Root-password" class="headerlink" title="14. Root password"></a>14. Root password</h3><pre><code class="line-numbers language-bash">passwd root</code></pre><h3 id="15-Network-configuration"><a href="#15-Network-configuration" class="headerlink" title="15. Network configuration"></a>15. <a href="https://wiki.archlinux.org/index.php/Network_configuration">Network configuration</a></h3><ul><li>Create the <strong>hostname</strong> file</li></ul><pre><code class="line-numbers language-bash">vim /etc/hostname</code></pre><p>Enter your hostname in this file.</p><ul><li>Add matching entries to <strong>hosts</strong></li></ul><pre><code class="line-numbers language-bash">vim /etc/hosts</code></pre><pre><code>127.0.0.1    localhost::1          localhost127.0.0.1    yourhostname.localdomain    yourhostname</code></pre><ul><li>Install some software to ensure you can connect the Internet after reboot system.</li></ul><pre><code class="line-numbers language-bash">pacman -S iw wpa_supplicant dialog networkmanager</code></pre><p><a href="#nm">Detailed configuration</a> </p><h3 id="16-Microcode"><a href="#16-Microcode" class="headerlink" title="16. Microcode"></a>16. <a href="https://wiki.archlinux.org/index.php/Microcode">Microcode</a></h3><p>My computer is <code>Intel</code> processors.</p><pre><code class="line-numbers language-bash">pacman -S intel-ucode</code></pre><h3 id="17-Boot-loader"><a href="#17-Boot-loader" class="headerlink" title="17. Boot loader"></a>17. <a href="https://wiki.archlinux.org/index.php/Arch_boot_process#Boot_loader">Boot loader</a></h3><p><a href="https://wiki.archlinux.org/index.php/GRUB"><strong>GRUB</strong></a> </p><pre><code class="line-numbers language-bash">pacman -S grub efibootmgrgrub-install --target=x86_64-efi --efi-directory=/boot/EFI -bootloader-id=Archlinuxgrub-mkconfig -o /boot/grub/grub.cfg</code></pre><p>If you can see some <code>img</code> file generated, it means the grub boot loader file are successful creatted.</p><h3 id="18-Reboot"><a href="#18-Reboot" class="headerlink" title="18. Reboot"></a>18. Reboot</h3><pre><code class="line-numbers language-bash">exitumount -R /mntreboot</code></pre><p>Use <code>uname -a</code> to view the Version of Arch linux.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/5.png" alt="Arch_linux Version"> </p><h2 id="My-config-recommendations"><a href="#My-config-recommendations" class="headerlink" title="My config recommendations"></a>My config recommendations</h2><h3 id="1-Add-users"><a href="#1-Add-users" class="headerlink" title="1. Add users"></a>1. Add users</h3><pre><code class="line-numbers language-bash">useradd -s -G wheel -s /bin/bash username</code></pre><p>To allow user to gain full root privileges when he precdeds a command with <code>sudo</code> , add the following line to <code>/etc/sudoers</code> .</p><pre><code class="line-numbers language-bash">USER_NAME ALL=(ALL) ALL</code></pre><p><code>su username</code> to switch users.</p><h3 id="2-NetworkManager"><a href="#2-NetworkManager" class="headerlink" title="2. NetworkManager "></a>2. <a id = "nm"><a href="https://wiki.archlinux.org/index.php/NetworkManager">NetworkManager</a> </a></h3><p>NetworkManager(package <code>networkmanager</code> ) contains a daemon, a command line interface( <code>nmcli</code> ) and a curses-based interface( <code>nmtui</code> ). After installation, you should <strong>enable the daemon</strong>.</p><pre><code class="line-numbers language-bash">systemctl enable NetworkManager.servicesystemctl start NetworkManager.service</code></pre><p>Use <code>ip link</code> to view the network interface.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/6.png" alt="Network interface"> </p><p><strong>Usage</strong></p><ul><li>List nearby wifi networks</li></ul><pre><code class="line-numbers language-bash">nmcli device wifi list</code></pre><ul><li>Connect to a wifi network</li></ul><pre><code class="line-numbers language-bash">nmcli device wifi connect SSID password password</code></pre><ul><li>Disconnect an interface</li></ul><pre><code class="line-numbers language-bash">nmcli device disconnect ifname eth0</code></pre><ul><li>See a list of network devices and wheir state</li></ul><pre><code class="line-numbers language-bash">nmcli device</code></pre><ul><li>Turn off wifi</li></ul><pre><code class="line-numbers language-bash">nmcli radio wifi off</code></pre><p><code>nm-applet</code> for a system tray applet</p><pre><code class="line-numbers language-bash">sudo pacman -S network-manager-applet</code></pre><ul><li>Add <code>exec --no-startup-id nm-applet</code> to <code>~/.config/i3/config</code> fot autostart <code>nm-applet</code> .</li></ul><h3 id="3-Xorg-display-server"><a href="#3-Xorg-display-server" class="headerlink" title="3. Xorg display server"></a>3. <a href="https://wiki.archlinux.org/index.php/Xorg">Xorg</a> display server</h3><ul><li>Installation</li></ul><pre><code class="line-numbers language-bash">sudo pacman -S xorg xorg-server xorg-apps</code></pre><ul><li><p>Driver installation</p><ol><li>First, identify your card:</li></ol><pre><code class="line-numbers language-bash">lspci | grep -e VGA -e 3D</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/7.png" alt="card"> </p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/8.png"> </p><ol start="2"><li>Install an appropriate deiver</li></ol><pre><code class="line-numbers language-bash">pacman -Ss xf86-video</code></pre><p><strong>Note</strong> : For NVIDIA Optimus enabled laptop which uses an integrated video card combined with a dedicated GPU, You  <strong>can not</strong> just install <code>xf86-video-intel</code> &amp; <code>nvidia</code> , it will get a blcak screen. See <a href="https://wiki.archlinux.org/index.php/NVIDIA_Optimus">NVIDIA Optimus</a> to get more informations. </p><p>I just install <code>xf86-video-vesa</code> . </p><pre><code class="line-numbers language-bash">pacman -S xf86-video-vesa</code></pre><p><a href="https://wiki.archlinux.org/index.php/Xorg#Driver_installation">Xorg: Driver_installtion</a> </p></li><li><p>Use <a href="https://wiki.archlinux.org/index.php/Xinit">xinit</a> to start Xorg display server.</p></li></ul><pre><code class="line-numbers language-bash">sudo pacman -S xorg-xinit</code></pre><ul><li>Create <code>.xinitrc</code> file(in common users)</li></ul><pre><code class="line-numbers language-bash">sudo cp /etc/X11/xinit/xinitrc ~/.xinitrc</code></pre><ul><li>Tap-to-click</li></ul><pre><code class="line-numbers language-bash">sudo vim /etc/X11/xorg.conf.d/30-touchpad.conf</code></pre><p>Add the following lines to it.</p><pre><code>Section &quot;InputClass&quot;  Identifier &quot;touchpad&quot;  Driver &quot;libinput&quot;  MatchIsTouchpad &quot;on&quot;  Option &quot;Tapping&quot; &quot;on&quot;EndSection</code></pre><ul><li>Install Windows Manager (i3)</li></ul><pre><code class="line-numbers language-bash">sudo pacman -S i3</code></pre><p>It include <code>i3-gaps</code> , <code>i3wm</code> , <code>i3blocks</code> , <code>i3lock</code> , <code>i3status</code></p><ul><li>Use i3</li></ul><p>Add <code>exec i3</code> to the end of <code>~.xinitrc</code> .</p><ul><li>Start Xorg server.</li></ul><pre><code class="line-numbers language-bash">startx</code></pre><ul><li>Autostart X at login</li></ul><p>Iâ€™m a <a href="https://fishshell.com/">fish</a> user, so i just need add the following to the bottom of my <code>~/.config/fish/config.fish</code> .</p><pre><code class="line-numbers language-bash"># Start X at loginif status is-login    if test -z &quot;$DISPLAY&quot; -a $XDG_VTNR = 1        exec startx -- -keeptty    endend</code></pre><p>Other shell user (like <strong>bash</strong> , <strong>zsh</strong> ), Please visit <a href="https://wiki.archlinux.org/index.php/Xinit#Autostart_X_at_login">here</a> </p><h3 id="4-i3wm"><a href="#4-i3wm" class="headerlink" title="4. i3wm"></a>4. i3wm</h3><p><a href="https://i3wm.org/">i3wm</a>  ,   <a href="https://wiki.archlinux.org/index.php/I3">i3-ArchWiki</a> </p><p><a href="https://github.com/liuyaanng/Arch_linux#i3-and-i3status">My i3 config</a> </p><h3 id="5-Some-useful-software"><a href="#5-Some-useful-software" class="headerlink" title="5. Some useful software"></a>5. Some useful software</h3><ul><li>yaourt</li></ul><p>Add the source to <code>/etc/pacman.conf</code></p><pre><code>[archlinuxcn]#The Chinese Arch Linux communities packages.SigLevel = Optional TrustAllServer = http://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch#Server   = http://repo.archlinuxcn.org/$arch#Server   = http://repo.archlinux.fr/$arch</code></pre><p>Synchronized communities</p><pre><code class="line-numbers language-bash">sudo pacman -Syu</code></pre><p>Insatll yaourt </p><pre><code class="line-numbers language-bash">sudo pacman -S yaourt</code></pre><ul><li><a href="https://godliuyang.wang/2019/08/24/manjaro-i3wm-huan-jing-pei-zhi-pian/#toc-heading-13">Software i often use</a></li></ul><h3 id="6-Fonts"><a href="#6-Fonts" class="headerlink" title="6. Fonts"></a>6. Fonts</h3><p><a href="https://wiki.archlinux.org/index.php/Fonts">Fonts-ArchWiki</a> , <a href="https://github.com/ryanoasis/nerd-fonts">Nerd-fonts</a> , <a href="https://unicode-table.com/en/">Unicode-table</a>  </p><table><thead><tr><th align="center">adobe-source-code-pro</th><th align="center">adobe-source-han-serif-cn-fonts</th><th align="center">adobe-source-han-serif-tw-fonts</th></tr></thead><tbody><tr><td align="center">ttf-symbola</td><td align="center">nerd-fonts-complete</td><td align="center">nerd-fonts-dejavu-complete</td></tr><tr><td align="center">font-awesome</td><td align="center">noto-fonts-emoji</td><td align="center"></td></tr></tbody></table><p><code>fc-list</code> to show the fonts you have installed.</p><h3 id="7-Volume"><a href="#7-Volume" class="headerlink" title="7. Volume"></a>7. Volume</h3><ul><li><p>ALSA is a set of built-in GNU/Linux modules. Therefore, manual insatllation is not necessary.</p></li><li><p>Install <strong>pulseaudio</strong></p></li></ul><pre><code class="line-numbers language-bash">sudo pacman -S pulseaudio</code></pre><ul><li>Install <strong>alsa-utils</strong></li></ul><pre><code class="line-numbers language-bash">sudo pacman -S alsa-utils</code></pre><p>Use <code>alsamixer</code> to manage the system volume</p><ul><li>VoulmeIcon</li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/9.png" alt="VolumeIcon"> </p><p>If you want a System volume tray, you can try <strong>volumeicon</strong></p><ol><li><p>Install volumeicon</p><pre><code class="line-numbers language-bash">sudo pacman -S volumeicon</code></pre></li><li><p>Add <code>volumeicon</code> file in <code>~/.config/volumeicon</code>  , and add the following lines to it.</p><pre><code class="line-numbers language-bash">[Alsa]card=default[Notification]show_notification=truenotification_type=1[StatusIcon]stepsize=5onclick=xterm -e &#39;alsamixer&#39;theme=White Gnomeuse_panel_specific_icons=truelmb_slider=truemmb_mute=trueuse_horizontal_slider=falseshow_sound_level=trueuse_transparent_bac&lt;++&gt;kground=true[Hotkeys]up_enabled=truedown_enabled=truemute_enabled=trueup=XF86AudioRaiseVolumedown=XF86AudioLowerVolumemute=XF86AudioMute</code></pre></li><li><p>Create <code>pulseaudio-ctl.desktop</code> in <code>~/.config/autostart</code> , and add the following lines to it.</p><pre><code class="line-numbers language-bash">[Desktop Entry]Encoding=UTF-8Type=ApplicationName=pulseaudio-ctlcomment=Set Volume to 70%Exec=pulseaudio-ctl-normalStartupNotify=trueTerminal=falseHidden=false</code></pre></li><li><p>Add <code>exec --no-startup-id volumeicon</code> to <code>~/.config/i3/config</code> .</p></li><li><p>I wrote two scripts to control the volume of the system with <code>alsamixer</code> and <code>dunst</code> , put them to <code>/usr/bin/</code> .</p><p><a href="https://github.com/liuyaanng/Arch_linux/blob/master/volume_up.sh">volume_up</a><br><a href="https://github.com/liuyaanng/Arch_linux/blob/master/volume_down.sh">volume_down</a> </p></li></ol><h3 id="8-Screen-brightness"><a href="#8-Screen-brightness" class="headerlink" title="8. Screen brightness"></a>8. Screen brightness</h3><p>A good advice for backlight management is <code>xorg-xbacklight</code> , but it seems not work on my computer. </p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/12.png" alt="xbacklight -error"> </p><p>If you have the same problem, you can try the solution of Wiki, but it still canâ€™t work on my computer. Sad! So i try another way to control the screen brightness.<br>The backlight can be controlled by the file <code>/sys/class/backlight/intel_backlight/brightness</code> â€˜s value. So i wrote a script to control it. I named it <code>intel_brightness_control.sh</code></p><pre><code class="line-numbers language-bash">#!/bin/bashset -efile=&quot;/sys/class/backlight/intel_backlight/brightness&quot;current=$(cat &quot;$file&quot;)new=&quot;$current&quot;if [ &quot;$1&quot; = &quot;-inc&quot; ]then  new=$(( current + $2 ))  status=&quot;Up&quot;fiif [ &quot;$1&quot; = &quot;-dec&quot; ]then  if [ current &lt; 100 ]  then    new=&quot;50&quot;  else    new=$(( current - $2 ))  fi  status=&quot;Down&quot;fiecho &quot;$new&quot; | tee &quot;$file&quot;brightness=`light -G`notify-send &quot;Brightness $status($brightness%)&quot;</code></pre><p>Remember put it in your <code>/usr/bin/</code>.</p><p>Then do <code>sudo chmod 777 /sys/class/backlight/intel_backlight/brightness</code> . The last thing is adding the following lines to <code>.config/i3/config</code> .</p><pre><code class="line-numbers language-bash"># Screen brightness controlsbindsym XF86MonBrightnessUp exec &quot;intel_brightness_control.sh -inc 100&quot;bindsym XF86MonBrightnessDown exec &quot;intel_brightness_control.sh -dec 100&quot;</code></pre><h3 id="9-Bluetooth"><a href="#9-Bluetooth" class="headerlink" title="9. Bluetooth"></a>9. Bluetooth</h3><ul><li>Install <strong>bluez</strong> , <strong>bluez-utils</strong></li></ul><pre><code class="line-numbers language-bash">sudo pacman -S bluez bluez-utils</code></pre><ul><li>The generic Bluetooth driver is the <code>btusb</code> Kernel module. Use <code>lsmod</code> to check whether that module is loaded. </li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/11.png" alt="btusb module"><br>  If itâ€™s not, do <code>modprobe btusb</code> to load the moudle.</p><ul><li>Start / Enable</li></ul><pre><code class="line-numbers language-bash">systemctl enable bluetooth.servicesystemctl start bluetooth.service</code></pre><ul><li>Auto power-on after boot</li></ul><p>Add the line <code>AutoEnable=true</code> in <code>/etc/bluetooth/main.conf</code> at the bottom in the <code>[Policy]</code> section.</p><ul><li>Discoverable on startup</li></ul><pre><code class="line-numbers language-bash">/etc/bluetooth/main.conf[General]DiscoverableTimeout = 0Discoverable=true</code></pre><ul><li>Install <strong>pulseaudio-bluetooth</strong> to use audio equipment like bluetooth headphones or speakers.</li></ul><p><a href="https://wiki.archlinux.org/index.php/Bluetooth_headset">Bluetooth headset</a> </p><pre><code class="line-numbers language-bash">sudo pacman -S pulseaudio-bluetooth</code></pre><ul><li>Install <a href="https://github.com/blueman-project/blueman">blueman</a> </li></ul><pre><code class="line-numbers language-bash">sudo pacman -S blueman</code></pre><ol><li><code>blueman-applet</code> to use.</li><li>add <code>exec --no-startup-id blueman-applet</code> to <code>~/.config/i3/config</code> to auto start <code>blueman-applet</code> .</li></ol><h3 id="10-Notify-Dunst"><a href="#10-Notify-Dunst" class="headerlink" title="10. Notify(Dunst)"></a>10. Notify(Dunst)</h3><pre><code class="line-numbers language-bash">sudo pacman -S libnotify dunst</code></pre><p>Create <code>org.freedesktop.Notifications.service</code> in <code>/usr/share/dbus-1/services/</code> folder. Add the following lines.</p><pre><code>[D-BUS Service]Name.org.freedesktop.NotificationsExec=/usr/local/bin/dunst</code></pre><p>An example configuration file is included at <code>/usr/local/share/dunst/dunstrc</code> . Copy this file to <code>~/.config/dunst/dunstrc</code> and edit it accordingly.</p><p><a href="https://github.com/liuyaanng/Arch_linux/tree/master/dunst">My Dunstrc</a> </p><p>Use <code>notify-send &quot;Hello, world!&quot; </code> to test.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Arch-Linux/10.png" alt="Dunst"> </p><h3 id="11-Shutdown-Reboot-LockScreen"><a href="#11-Shutdown-Reboot-LockScreen" class="headerlink" title="11. Shutdown Reboot LockScreen"></a>11. Shutdown Reboot LockScreen</h3><ul><li>Create a script named <code>i3exit</code> . Make sure you have <code>polkit</code> installed. </li></ul><pre><code class="line-numbers language-bash">#!/bin/shlock() &#123;    i3lock&#125;case &quot;$1&quot; in    lock)        blurlock        ;;    logout)        i3-msg exit        ;;    suspend)        blurlock &amp;&amp; systemctl suspend        ;;    hibernate)        blurlock &amp;&amp; systemctl hibernate        ;;    reboot)        systemctl reboot        ;;    shutdown)        systemctl poweroff        ;;    *)        echo &quot;Usage: $0 &#123;lock|logout|suspend|hibernate|reboot|shutdown&#125;&quot;        exit 2esacexit 0</code></pre><p>Do <code>chmod +x</code> and put it in <code>$PATH</code> ( <code>/usr/bin/</code> ) .</p><ul><li>Add the following lines to <code>.config/i3/config</code></li></ul><pre><code class="line-numbers language-bash">set $mode_system System (l) lock, (e) logout, (s) suspend, (h) hibernate, (r) reboot, (Shift+s) shutdownmode &quot;$mode_system&quot; &#123;    bindsym l exec --no-startup-id i3exit lock, mode &quot;default&quot;    bindsym e exec --no-startup-id i3exit logout, mode &quot;default&quot;    bindsym s exec --no-startup-id i3exit suspend, mode &quot;default&quot;    bindsym h exec --no-startup-id i3exit hibernate, mode &quot;default&quot;    bindsym r exec --no-startup-id i3exit reboot, mode &quot;default&quot;    bindsym Shift+s exec --no-startup-id i3exit shutdown, mode &quot;default&quot;      # back to normal: Enter or Escape    bindsym Return mode &quot;default&quot;    bindsym Escape mode &quot;default&quot;&#125;bindsym $mod+Pause mode &quot;$mode_system&quot;</code></pre><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/09/18/mo-gai-hexo-bo-ke/">é­”æ”¹hexoåšå®¢</a></li><li><a href="https://godliuyang.wang/2019/08/24/manjaro-i3wm-huan-jing-pei-zhi-pian/">Manjaro i3wm é«˜æ•ˆç‡ç¯å¢ƒé…ç½®ç¯‡(æŒç»­æ›´æ–°)</a></li></ul></div>]]></content>
      
      
      
        <tags>
            
            <tag> linux </tag>
            
            <tag> i3wm </tag>
            
            <tag> Arch </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Bilibili-Evolved</title>
      <link href="/2019/09/21/bilibili-evolved/"/>
      <url>/2019/09/21/bilibili-evolved/</url>
      
        <content type="html"><![CDATA[<h2 id="Bilibili-Evolved"><a href="#Bilibili-Evolved" class="headerlink" title="Bilibili-Evolved"></a>Bilibili-Evolved</h2><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Bilibili-Evolved/1.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Bilibili-Evolved/2.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Bilibili-Evolved/3.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Bilibili-Evolved/4.png"></p><h3 id="1-Install"><a href="#1-Install" class="headerlink" title="1. Install"></a>1. Install</h3><ul><li><p>You should install <a href="https://www.tampermonkey.net/">Tampermonkey</a> first.</p></li><li><p><a href="https://greasyfork.org/en/scripts/373563-bilibili-evolved">Bilibili-Evolved</a></p></li></ul><p>Please access <a href="https://github.com/the1812/Bilibili-Evolved">GitHub</a> to view how to use it.</p><h3 id="2-Download-videos"><a href="#2-Download-videos" class="headerlink" title="2. Download videos"></a>2. Download videos</h3><h4 id="2-1-Download-single-video"><a href="#2-1-Download-single-video" class="headerlink" title="2.1 Download single video."></a>2.1 Download single video.</h4><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Bilibili-Evolved/5.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Bilibili-Evolved/6.png"></p><h4 id="2-2-Batch-export-with-aria2"><a href="#2-2-Batch-export-with-aria2" class="headerlink" title="2.2 Batch export(with aria2)."></a>2.2 Batch export(with aria2).</h4><ul><li>Install aria2.</li></ul><pre><code class="line-numbers language-bash">sudo pacman -S aria2</code></pre><ul><li>export aria2(a txt file)</li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Bilibili-Evolved/7.png"></p><ul><li>Download videos in current directory.</li></ul><pre><code class="line-numbers language-bash">aria2c -i Download.txt</code></pre><h3 id="3-Convert-video-files"><a href="#3-Convert-video-files" class="headerlink" title="3. Convert video files."></a>3. Convert video files.</h3><p>The default video files format is <code>flv</code>.<br>I recommend using <a href="http://ffmpeg.org/">ffmpeg</a> to convert video files format on Linux.</p><pre><code class="line-numbers language-bash">ffmpeg -i input.flv output.mp4</code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Bilibili.com </tag>
            
            <tag> Script </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Git &amp; Github</title>
      <link href="/2019/09/18/git-github/"/>
      <url>/2019/09/18/git-github/</url>
      
        <content type="html"><![CDATA[<h3 id="1-When-i-download-files-from-GitHub-Failed-to-connect-to-127-0-0-1-port-1080-Connection-refused"><a href="#1-When-i-download-files-from-GitHub-Failed-to-connect-to-127-0-0-1-port-1080-Connection-refused" class="headerlink" title="1. When i download files from GitHub, Failed to connect to 127.0.0.1 port 1080: Connection refused"></a>1. When i download files from GitHub, <code>Failed to connect to 127.0.0.1 port 1080: Connection refused</code></h3><ol><li>Find wheather you are using proxy server or not.</li></ol><pre><code class="line-numbers language-bash">git config --global http.proxy</code></pre><ol start="2"><li>Cancel the proxy server.</li></ol><pre><code class="line-numbers language-bash">git config --global --unset http.proxy</code></pre><h3 id="2-Clone-with-SSH-Github-guide"><a href="#2-Clone-with-SSH-Github-guide" class="headerlink" title="2. Clone with SSH (Github guide)"></a>2. Clone with SSH (<a href="https://help.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh">Github guide</a>)</h3><ul><li>Install Openssh</li></ul><pre><code class="line-numbers language-bash">sudo pacman -S openssh</code></pre><ul><li>Generating a new SSH key</li></ul><pre><code class="line-numbers language-bash">ssh-keygen</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Git-Github/1.png"> </p><pre><code class="line-numbers language-bash">tree .ssh</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Git-Github/2.png"> </p><ul><li>Copy the SSH key to your clipboard</li></ul><pre><code class="line-numbers language-bash">cat .ssh/id_rsa.pub</code></pre><ul><li>In the upper-right corner of any page, click your profile photo, then click <strong>Settings</strong></li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Git-Github/3.png"></p><ul><li><p>In the user settings sidebar, click <strong>SSH and GPG keys</strong></p></li><li><p>Click <strong>New SSH key</strong> or <strong>Add SSH key</strong>.</p></li><li><p>In the â€œTitleâ€ field, add a descriptive label for the new key. For example, if youâ€™re using arch linux, you might call this key â€œArch linuxâ€</p></li><li><p>Paste your key into the â€œKeyâ€ field.</p></li></ul><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Git-Github/4.png"> </p><ul><li>If prompted, confirm your GitHub password.</li></ul><h3 id="3-Mandatory-update-of-local-repository"><a href="#3-Mandatory-update-of-local-repository" class="headerlink" title="3.Mandatory update of local repository"></a>3.Mandatory update of local repository</h3><pre><code class="line-numbers language-bash">git fetch --all &amp;&amp;  git reset --hard origin/master &amp;&amp; git pull</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> Git </tag>
            
            <tag> Github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Anaconda</title>
      <link href="/2019/09/18/anaconda/"/>
      <url>/2019/09/18/anaconda/</url>
      
        <content type="html"><![CDATA[<h2 id="Install-Guide"><a href="#Install-Guide" class="headerlink" title="Install Guide"></a>Install Guide</h2><p>You probably need proxy: <a href="https://godliuyang.wang/2020/02/04/about-proxy/">About Proxy</a> </p><h3 id="1-Download-Anaconda"><a href="#1-Download-Anaconda" class="headerlink" title="1. Download Anaconda"></a>1. Download <code>Anaconda</code></h3><p>Click here to download <a href="https://www.anaconda.com/distribution/">Anaconda</a></p><h3 id="2-Install-Anaconda"><a href="#2-Install-Anaconda" class="headerlink" title="2. Install Anaconda"></a>2. Install <code>Anaconda</code></h3><pre><code class="line-numbers language-bash">bash ~/Downloads/Anaconda3-2019.07-Linux-x86_64.sh</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/3.png"></p><p>Press ENTER</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/4.png"></p><p>input yes </p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/5.png"></p><p>Press ENTER<br>A few minutes laterâ€¦â€¦.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/6.png"></p><p>input yes</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/7.png"></p><p>successful installation.</p><p>You can use <code>conda -V</code> to check the version of anaconda.</p><h3 id="3-Bash-user"><a href="#3-Bash-user" class="headerlink" title="3. Bash user"></a>3. Bash user</h3><pre><code class="line-numbers language-bash">vim ~/.bashrc</code></pre><p>add the following line to your ~/.bashrc.</p><pre><code class="line-numbers language-bash">export PATH=&quot;/home/xupp/anaconda3/bin:$PATH&quot;</code></pre><p>Reboot your terminal.</p><h3 id="4-Fish-user"><a href="#4-Fish-user" class="headerlink" title="4. Fish user"></a>4. Fish user</h3><p>If your shell is <strong>fish</strong>, you probably need to configure your environment variable.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/8.png"></p><p>I use <code>set</code> command to do this.</p><pre><code class="line-numbers language-bash">set -xg</code></pre><p>Prints all global, exported variables.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/1.png"></p><p>I find the user name of anaconda path in PATH is wrong.<br>I donâ€™t know why it is, but i know i should correct it.</p><pre><code class="line-numbers language-bash">set PATH[1] /home/kevin/anaconda3/bin</code></pre><p>it works.</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/9.png"></p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/10.png"></p><h2 id="conda"><a href="#conda" class="headerlink" title="conda"></a>conda</h2><h3 id="1-Create-Python-environment"><a href="#1-Create-Python-environment" class="headerlink" title="1. Create Python environment"></a>1. Create Python environment</h3><pre><code class="line-numbers language-bash">conda create --name python37 python=3.7</code></pre><h3 id="2-Check-Python-Environment-you-have-created"><a href="#2-Check-Python-Environment-you-have-created" class="headerlink" title="2. Check Python Environment you have created."></a>2. Check Python Environment you have created.</h3><pre><code class="line-numbers language-bash">conda info --envs</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Anaconda/11.png"> </p><p>Where * indicates the current Python environment</p><h3 id="3-Modify-Python-environment"><a href="#3-Modify-Python-environment" class="headerlink" title="3. Modify Python environment"></a>3. Modify Python environment</h3><pre><code class="line-numbers language-bash">source activate python37</code></pre><p>and modify default Python environment</p><pre><code class="line-numbers language-bash">source deactivate</code></pre><h3 id="4-Delate-Python-environment"><a href="#4-Delate-Python-environment" class="headerlink" title="4. Delate Python environment"></a>4. Delate Python environment</h3><pre><code class="line-numbers language-bash">conda remove --name python37 --all</code></pre><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/03/17/pandas-ji-chu/">Pandas åŸºç¡€</a></li><li><a href="https://godliuyang.wang/2020/03/14/numpy-ji-chu/">Numpy åŸºç¡€</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> Anaconda3 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Manjaro i3wm é«˜æ•ˆç‡ç¯å¢ƒé…ç½®ç¯‡(æŒç»­æ›´æ–°)</title>
      <link href="/2019/08/24/manjaro-i3wm-huan-jing-pei-zhi-pian/"/>
      <url>/2019/08/24/manjaro-i3wm-huan-jing-pei-zhi-pian/</url>
      
        <content type="html"><![CDATA[<p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/4.png"><br>Manjaroæ˜¯ä¸€æ¬¾åŸºäºArch Linuxã€å¯¹ç”¨æˆ·å‹å¥½ã€å…¨çƒæ’åç¬¬1çš„Linuxå‘è¡Œç‰ˆ<br>ä½¿ç”¨å®ƒæ˜¯å› ä¸º AURè½¯ä»¶ä»“åº“æœ‰ç€ä¸–ç•Œä¸Šæœ€é½å…¨çš„Linuxè½¯ä»¶ï¼Œä¸‡ç‰©çš†å¯ pacman ,archçš„wikiç»å¯¹æ˜¯æˆ‘è§è¿‡çš„æœ€è¯¦ç»†çš„linuxå‘è¡Œç‰ˆçš„â€è¯´æ˜ä¹¦â€, åœ¨è¿™é‡ŒåŸºæœ¬èƒ½è§£å†³æˆ‘æ‰€æœ‰çš„é—®é¢˜, å¦ï¼Œä½œä¸ºåŸºäºArchçš„å‘è¡Œç‰ˆï¼Œæ¯æ—¥ä¸€ <code>sudo pacman -Syu</code>ç®€ç›´ä¸è¦å¤ªçˆ½å•Šï¼<br>æœ‰æ—¶é—´ä¸€å®šè¦å°è¯•ä¸€ä¸‹ åŸç”ŸArch(æœ‰ç”Ÿä¹‹å¹´ç³»åˆ—ï¼Œè¶è¿˜æŠ˜è…¾çš„åŠ¨)</p><h2 id="1-ç³»ç»Ÿå®‰è£…"><a href="#1-ç³»ç»Ÿå®‰è£…" class="headerlink" title="1. ç³»ç»Ÿå®‰è£…"></a>1. ç³»ç»Ÿå®‰è£…</h2><h3 id="1-1-ISOæ–‡ä»¶ä¸‹è½½"><a href="#1-1-ISOæ–‡ä»¶ä¸‹è½½" class="headerlink" title="1.1 ISOæ–‡ä»¶ä¸‹è½½"></a>1.1 ISOæ–‡ä»¶ä¸‹è½½</h3><p><a href="https://www.manjaro.org/">Manjaroå®˜ç½‘</a></p><p>Manjaro i3å±äºç¤¾åŒºç‰ˆæœ¬<br><a href="https://osdn.net/projects/manjaro-community/storage/i3/18.0.4/manjaro-i3-18.0.4-stable-x86_64.iso/">Download manjaro-i3-18.0.4-stable-x86_64.iso</a></p><h3 id="1-2-Uç›˜å¯åŠ¨ç›˜åˆ¶ä½œ"><a href="#1-2-Uç›˜å¯åŠ¨ç›˜åˆ¶ä½œ" class="headerlink" title="1.2 Uç›˜å¯åŠ¨ç›˜åˆ¶ä½œ"></a>1.2 Uç›˜å¯åŠ¨ç›˜åˆ¶ä½œ</h3><p>é¦–å…ˆå‡†å¤‡ä¸€ä¸ªå®¹é‡å¤§äº4Gçš„Uç›˜ï¼Œåœ¨åˆ¶ä½œå¯åŠ¨ç›˜ä¹‹å‰è¯·å…ˆæŠŠé‡Œé¢çš„èµ„æ–™è½¬å­˜åˆ°åˆ«å¤„ï¼Œå› ä¸ºæ­¤é¡¹æ“ä½œä¼šæ ¼å¼åŒ–Uç›˜ä¸”ä¸å¯æ¢å¤ã€‚<br>åˆ»å½•å·¥å…·æœ‰å¾ˆå¤šï¼Œ</p><ul><li><a href="http://cn.ezbsystems.com/dl2.php?file=uiso9_cn.exe">UltralISO</a></li><li><a href="http://cdimage.deepin.com/applications/deepin-boot-maker/windows/deepin-boot-maker.exe">æ·±åº¦å¯åŠ¨ç›˜åˆ¶ä½œå·¥å…·</a> æ·±åº¦ç§‘æŠ€ï¼Œå¾ˆç®€æ´çš„ä¸€ä¸ªå·¥å…·</li><li><a href="https://github.com/pbatard/rufus/releases/download/v3.6/rufus-3.6.exe">Rufus</a></li></ul><p>æŒ‰ç…§è½¯ä»¶çš„æ“ä½œæ­¥éª¤åˆ¶ä½œå¯åŠ¨ç›˜<br>æ³¨ï¼šè‹¥é‡åˆ°å¯åŠ¨ç›˜ç³»ç»Ÿå®‰è£…çš„è¿‡ç¨‹ä¸­é‡åˆ°å¯åŠ¨ç›˜ä¸å¯ç”¨åˆ™ä½¿ç”¨ <strong>Rufus</strong> ä½¿ç”¨DDé•œåƒæ¨¡å¼åˆ¶ä½œ<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/1.png"></p><h3 id="1-3-ç³»ç»Ÿå®‰è£…"><a href="#1-3-ç³»ç»Ÿå®‰è£…" class="headerlink" title="1.3 ç³»ç»Ÿå®‰è£…"></a>1.3 ç³»ç»Ÿå®‰è£…</h3><p>å®‰è£…è¿‡ç¨‹å¾ˆç®€å•ï¼Œå‚è€ƒä¸‹é¢è¿™ç¯‡åšå®¢<br><a href="https://www.jianshu.com/p/e555a079f78a">Manjaro Linux i3 å®‰è£…ç¬”è®°</a></p><p>å®‰è£…æ—¶è¯­è¨€é€‰æ‹©  <strong>ç®€ä½“ä¸­æ–‡</strong>å³å¯</p><h2 id="2-ä¸­æ–‡ç¯å¢ƒé…ç½®"><a href="#2-ä¸­æ–‡ç¯å¢ƒé…ç½®" class="headerlink" title="2. ä¸­æ–‡ç¯å¢ƒé…ç½®"></a>2. ä¸­æ–‡ç¯å¢ƒé…ç½®</h2><h3 id="2-1-æ›´æ¢Linuxå›½å†…æº"><a href="#2-1-æ›´æ¢Linuxå›½å†…æº" class="headerlink" title="2.1 æ›´æ¢Linuxå›½å†…æº"></a>2.1 æ›´æ¢Linuxå›½å†…æº</h3><p>Manjaro é»˜è®¤çš„æ›´æ–°æºåœ¨å›½å¤–ï¼Œæ²¡ç¿»å¢™çš„å®å®æ— æ³•æ›´æ–°ï¼Œè¿™é‡Œå…ˆæ¢ä¸€ä¸‹æ›´æ–°æº</p><h4 id="2-1-1-æ›´æ–°é•œåƒæ’å"><a href="#2-1-1-æ›´æ–°é•œåƒæ’å" class="headerlink" title="2.1.1 æ›´æ–°é•œåƒæ’å"></a>2.1.1 æ›´æ–°é•œåƒæ’å</h4><pre><code class="line-numbers language-bash">sudo pacman-mirrors -i -c China -m rank //æ›´æ–°é•œåƒæ’å</code></pre><p>ä¹‹åè‡ªå·±é€‰æ‹©å‡ ä¸ªé•œåƒï¼Œæ¨èustcå’Œtunaçš„é•œåƒæº</p><pre><code class="line-numbers language-bash">sudo vim /etc/pacman.d/mirrorlist //æŸ¥çœ‹é€‰æ‹©çš„æºsudo pacman -Syy  //æ›´æ–°æ•°æ®æº</code></pre><h4 id="2-1-2-è®¾ç½®Archlinuxcnæº"><a href="#2-1-2-è®¾ç½®Archlinuxcnæº" class="headerlink" title="2.1.2 è®¾ç½®Archlinuxcnæº"></a>2.1.2 è®¾ç½®Archlinuxcnæº</h4><pre><code class="line-numbers language-bash">sudo vim /etc/pacman.conf</code></pre><p>åœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹:</p><pre><code class="line-numbers language-bash">[archlinuxcn]SigLevel = Optional TrustedOnly#ä¸­ç§‘å¤§æºServer = https://mirrors.ustc.edu.cn/archlinuxcn/$arch#æ¸…åæºServer = http://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/$arch[antergos]SigLevel = TrustAllServer = https://mirrors.ustc.edu.cn/antergos/$repo/$archServer = http://mirrors.tuna.tsinghua.edu.cn/antergos/$repo/$arch[arch4edu]SigLevel = TrustAllServer = http://mirrors.tuna.tsinghua.edu.cn/arch4edu/$arch</code></pre><h4 id="2-1-3-å¯¼å…¥GPG-key"><a href="#2-1-3-å¯¼å…¥GPG-key" class="headerlink" title="2.1.3 å¯¼å…¥GPG key"></a>2.1.3 å¯¼å…¥GPG key</h4><pre><code class="line-numbers language-bash">sudo pacman -Syy //æ›´æ–°æ•°æ®æºsudo pacman -S archlinuxcn-keyring //å®‰è£…å¯¼å…¥GPG keysudo pacman -S antergos-keyrin</code></pre><h4 id="2-1-4-æ›´æ–°ç³»ç»Ÿ"><a href="#2-1-4-æ›´æ–°ç³»ç»Ÿ" class="headerlink" title="2.1.4 æ›´æ–°ç³»ç»Ÿ"></a>2.1.4 æ›´æ–°ç³»ç»Ÿ</h4><pre><code class="line-numbers language-bash">sudo pacman -Syu</code></pre><h3 id="2-2-è§£å†³æ¡Œé¢ä¸­æ–‡æ˜¾ç¤ºæ–¹å—é—®é¢˜"><a href="#2-2-è§£å†³æ¡Œé¢ä¸­æ–‡æ˜¾ç¤ºæ–¹å—é—®é¢˜" class="headerlink" title="2.2 è§£å†³æ¡Œé¢ä¸­æ–‡æ˜¾ç¤ºæ–¹å—é—®é¢˜"></a>2.2 è§£å†³æ¡Œé¢ä¸­æ–‡æ˜¾ç¤ºæ–¹å—é—®é¢˜</h3><p>è‹¥é‡åˆ°æ¡Œé¢æ—¶é—´ä¸­æ–‡éƒ¨åˆ†æ˜¾ç¤ºä¸º <strong>æ–¹å—</strong>     </p><pre><code class="line-numbers language-bash">sudo vim /usr/share/conky/conky_maia</code></pre><p>å°† <strong>conky.text</strong> çš„å‰å››è¡Œå­—ä½“æ”¹ä¸º <strong>anti</strong> å³å¯</p><h3 id="2-3-ä¸­æ–‡è¾“å…¥æ³•"><a href="#2-3-ä¸­æ–‡è¾“å…¥æ³•" class="headerlink" title="2.3 ä¸­æ–‡è¾“å…¥æ³•"></a>2.3 ä¸­æ–‡è¾“å…¥æ³•</h3><p>å…ˆå®‰è£…fcitx</p><pre><code class="line-numbers language-bash">sudo pacman -S fcitx fcitx-im fcitx-configtool</code></pre><p>å®‰è£…å®Œfcitxä¹‹åï¼Œåˆ›å»º.xprofileæ–‡ä»¶</p><pre><code class="line-numbers language-bash">vim ~/.xprofile</code></pre><p>åœ¨é‡Œé¢æ·»åŠ å¦‚ä¸‹å†…å®¹:</p><pre><code class="line-numbers language-bash">#fcitxexport GTK_IM_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=&quot;@im=fcitx&quot;</code></pre><p>ä¹‹åå®‰è£…ä¸­æ–‡è¾“å…¥æ³•ï¼Œæœç‹—æ‹¼éŸ³è²Œä¼¼å¯¹archçš„æ”¯æŒä¸å¤ªå¥½ï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©è°·æ­Œæ‹¼éŸ³</p><pre><code class="line-numbers language-bash">sudo pacman -S fcitx-googlepinyin</code></pre><p>ä¹‹ååœ¨ç»ˆç«¯è¿è¡Œ <code>$ fcitx</code> åœ¨å›¾å½¢åŒ–ç•Œé¢çš„é…ç½®æ–‡ä»¶ä¸­é…ç½®è¾“å…¥æ³•å³å¯ï¼Œé…ç½®å¿«æ·é”®<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/2.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/3.png"></p><p>è‹¥ä¸­æ–‡è¾“å…¥æ³•å¼€æœºæ— æ³•è‡ªå¯åŠ¨ï¼Œåˆ™æ‰§è¡Œå¦‚ä¸‹æ“ä½œ</p><pre><code class="line-numbers language-bash">vim ~/.i3/config</code></pre><p>æ·»åŠ å¦‚ä¸‹å†…å®¹:</p><p><code>exec_always fcitx</code></p><h2 id="3-é«˜æ•ˆç‡è½¯ä»¶ä»¥åŠé…ç½®"><a href="#3-é«˜æ•ˆç‡è½¯ä»¶ä»¥åŠé…ç½®" class="headerlink" title="3. é«˜æ•ˆç‡è½¯ä»¶ä»¥åŠé…ç½®"></a>3. é«˜æ•ˆç‡è½¯ä»¶ä»¥åŠé…ç½®</h2><h3 id="3-1-è½¯ä»¶"><a href="#3-1-è½¯ä»¶" class="headerlink" title="3.1 è½¯ä»¶"></a>3.1 è½¯ä»¶</h3><h4 id="3-1-1-Alacritty"><a href="#3-1-1-Alacritty" class="headerlink" title="3.1.1 Alacritty"></a>3.1.1 Alacritty</h4><p>Alacritty æ˜¯ä¸€ä¸ªå…è´¹çš„å¼€æºï¼Œå¿«é€Ÿï¼Œè·¨å¹³å°çš„ç»ˆç«¯ä»¿çœŸå™¨ï¼Œå®ƒä½¿ç”¨GPUè¿›è¡Œæ¸²æŸ“ï¼Œæˆ‘ä½¿ç”¨treeå‘½ä»¤è·‘äº†ä¸€ä¸‹ï¼Œç¡®å®é€Ÿåº¦å¿«ã€‚kittyä¹Ÿæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„ç»ˆç«¯ï¼Œä¸è¿‡å®ƒçš„é…ç½®ç¨éº»çƒ¦ï¼Œæ„Ÿå…´è¶£çš„å¯ä»¥è‡ªè¡ŒGoogle.</p><pre><code class="line-numbers language-bash">sudo pacman -S alacritty</code></pre><h4 id="3-1-2-fish-amp-oh-my-fish-omf"><a href="#3-1-2-fish-amp-oh-my-fish-omf" class="headerlink" title="3.1.2 fish &amp; oh-my-fish(omf)"></a>3.1.2 fish &amp; oh-my-fish(omf)</h4><ul><li>fishæ˜¯ä¸€ä¸ªæ™ºèƒ½ä¸”ç”¨æˆ·å‹å¥½çš„å‘½ä»¤è¡Œshellï¼Œé€‚ç”¨äºmacOSï¼ŒLinuxå’Œå…¶ä»–å®¶æ—ã€‚fishåŒ…å«è¯­æ³•çªå‡ºæ˜¾ç¤ºï¼Œè‡ªåŠ¨æç¤ºç±»å‹å’Œç²¾ç¾çš„é€‰é¡¹å¡å®Œæˆç­‰åŠŸèƒ½ï¼Œæ— éœ€é…ç½®ã€‚<br>Terminalä¸‹é»˜è®¤çš„SHELLæ˜¯bash, ä½†bashä½œä¸ºä½ ç»å¸¸ä½¿ç”¨çš„å·¥å…·æ¥è¯´ä¸€ç‚¹éƒ½ä¸ä¾¿æ·,ç›¸ä¿¡æœ‰å¾ˆå¤šäººéƒ½ç”¨è¿‡å¦ä¸€æ¬¾shell,å®ƒçš„åå­—æ˜¯<strong>zsh</strong>ï¼Œä»¥åŠ<strong>oh-my-zsh</strong>ï¼Œæˆ‘ä¹Ÿç”¨äº†ä¸€æ®µæ—¶é—´çš„zshï¼Œåœ¨ç”¨çš„è¿‡ç¨‹ä¸­æˆ‘å‘ç°å®ƒæœ‰æ—¶å€™è¿è¡Œè´¼æ…¢ï¼Œå¿ä¸äº†ï¼Œè€Œä¸”é…ç½®è™½è¯´æœ‰oh-my-zshç®¡ç†ï¼Œä½†ç»ˆå½’ä¸æ˜¯å‚»ç“œå¼å·¥å…·ï¼Œç›´åˆ°æœ‰ä¸€å¤©æˆ‘å‘ç°äº† <strong>fish</strong>,å®˜ç½‘å·ç§°æ˜¯ä¸€ä¸ªä¸“ä¸º90åè®¾è®¡çš„shellã€‚<br>å®‰è£…å¾ˆç®€å•:</li></ul><pre><code class="line-numbers language-bash">sudo pacman -S fish</code></pre><p>ç»ˆç«¯è¾“å…¥<code>fish</code>å³å¯è¿›å…¥</p><ul><li>æŸ¥çœ‹å·²ç»å®‰è£…çš„shell</li></ul><pre><code class="line-numbers language-bash">cat /etc/shells</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/12.png"></p><ul><li>ä¿®æ”¹é»˜è®¤shell</li></ul><p>çœ‹ä¸€ä¸‹ä¸Šä¸€æ­¥è¾“å‡ºçš„<code>fish</code>çš„ä½ç½®ï¼Œç„¶åæ‰§è¡Œ</p><pre><code class="line-numbers language-bash">chsh -s usr/bin/fish</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/13.png"><br>ä¹‹åé‡å¯ç»ˆç«¯,shellå°±é»˜è®¤ä¸ºfishäº†<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/14.png"></p><p>é…ç½®æ–‡ä»¶çš„ä½ç½®æ˜¯<code>/home/kevin/.config/fish/functions/fish_prompt.fish</code>ï¼Œå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®æ›¿æ¢å‘½ä»¤ï¼Œæé«˜æ•ˆç‡ï¼Œä¸¾ä¸ªä¾‹å­:<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/18.png"></p><ul><li>oh-my-fishæ˜¯ä¸€ä¸ª Fishshell æ¡†æ¶ï¼Œå…è®¸ä½ å®‰è£…æ‰©å±•æˆ–æ›´æ”¹ä½ çš„ shell å¤–è§‚çš„è½¯ä»¶åŒ…ã€‚å®ƒç®€å•æ˜“ç”¨ï¼Œå¿«é€Ÿå¯æ‰©å±•ã€‚ä½¿ç”¨ omfï¼Œä½ å¯ä»¥æ ¹æ®ä½ çš„æƒ³æ³•ï¼Œå¾ˆå®¹æ˜“åœ°å®‰è£…ä¸»é¢˜ï¼Œä¸°å¯Œä½ çš„å¤–è§‚å’Œå®‰è£…æ’ä»¶æ¥è°ƒæ•´ä½ çš„ Fish shellã€‚    </li><li>å®‰è£…omf<br>åœ¨fish shellé‡Œæ‰§è¡Œ</li></ul><pre><code class="line-numbers language-bash">curl -L https://get.oh-my.fish | fish</code></pre><ul><li>åˆ—å‡ºæ‰€æœ‰çš„å®‰è£…åŒ…</li></ul><pre><code class="line-numbers language-bash">omf list</code></pre><p>è¿™æ¡å‘½ä»¤ä¼šåˆ—å‡ºä¸€å®‰è£…çš„ä¸»é¢˜å’Œæ’ä»¶</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/15.png"></p><ul><li>åˆ—å‡ºå·²å®‰è£…ä¸»é¢˜</li></ul><pre><code class="line-numbers language-bash">omf theme</code></pre><ul><li>å®‰è£…ä¸€ä¸ªæ–°ä¸»é¢˜<br>æˆ‘ç°åœ¨ç”¨çš„ä¸»é¢˜å« ays<pre><code class="line-numbers language-bash">omf install ays</code></pre></li><li>æ”¹å˜ä¸»é¢˜</li></ul><pre><code class="line-numbers language-bash">omf theme ays</code></pre><ul><li>å¸è½½oh-my-fish</li></ul><pre><code class="line-numbers language-bash">omf destroy</code></pre><ul><li><p>Fish è¿è¡ŒBash commands<br>ä¾‹å¦‚ åœ¨fish ä¸èƒ½è¿è¡Œ time å‘½ä»¤ï¼Œä»¥ä¸‹æ˜¯è§£å†³åŠæ³•    </p><ul><li><p>åœ¨ <code>fish/functions/</code> ç›®å½•ä¸‹åˆ›å»º <code>time.fish</code> æ–‡ä»¶ï¼Œåœ¨é‡Œé¢è¾“å…¥    </p><pre><code>function time --description &quot;alias time bash -c time&quot; bash -c &quot;time $argv&quot;;end</code></pre></li></ul></li></ul><p>å…¶ä»–å…·ä½“åŠŸèƒ½è§<a href="https://github.com/oh-my-fish/oh-my-fish">oh-my-fish</a></p><h4 id="3-1-3-Chromium"><a href="#3-1-3-Chromium" class="headerlink" title="3.1.3 Chromium"></a>3.1.3 Chromium</h4><p>å®‰è£…æ–¹å¼:</p><pre><code class="line-numbers language-bash">sudo pacman -S chromium</code></pre><h4 id="3-1-4-nitrogen"><a href="#3-1-4-nitrogen" class="headerlink" title="3.1.4 nitrogen"></a>3.1.4 nitrogen</h4><p>ä¸€æ¬¾å¯è§†åŒ–æ¢å£çº¸çš„è½¯ä»¶,å½“ç„¶<strong>feh</strong>ä¹Ÿæ˜¯ä¸€æ¬¾ä¼˜ç§€çš„å£çº¸åˆ‡æ¢è½¯ä»¶ï¼Œæ•™ç¨‹å¾ˆå¤šï¼Œè¿™é‡Œä¸å†è¯´äº†</p><pre><code class="line-numbers language-bash">sudo pacman -S nitrogen</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/5.png"></p><h4 id="3-1-5-neofetch"><a href="#3-1-5-neofetch" class="headerlink" title="3.1.5 neofetch"></a>3.1.5 neofetch</h4><p>neofetchæ˜¯ä¸€ä¸ªä¸ªæ€§åŒ–æ˜¾ç¤ºLinuxç³»ç»Ÿä¿¡æ¯çš„å·¥å…·</p><pre><code class="line-numbers language-bash">sudo pacman -S neofetch</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/19.png"></p><h4 id="3-1-6-vim"><a href="#3-1-6-vim" class="headerlink" title="3.1.6 vim"></a>3.1.6 vim</h4><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/6.png"></p><p>æ–‡æœ¬/ä»£ç ç¼–è¾‘ä¸­æœ€æœ€æœ€ä¸ºä¼˜ç§€ç»å…¸çš„ä¸Šå¤ç¥å™¨,ä¹‹åæˆ‘ä¼šå†™ä¸€ä¸ªè°ƒæ•™Vimçš„æ•™ç¨‹</p><pre><code class="line-numbers language-bash">sudo pacman -S vim </code></pre><h4 id="3-1-7-albert"><a href="#3-1-7-albert" class="headerlink" title="3.1.7 albert"></a>3.1.7 albert</h4><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/7.png"><br>ä¸€æ¬¾è½¯ä»¶/æ–‡ä»¶/æœç´¢ å¯åŠ¨å™¨</p><pre><code class="line-numbers language-bash">sudo pacman -S albert</code></pre><p>ç¬¬ä¸€æ¬¡è¿è¡Œä¼šæç¤ºä½ è®¾ç½®ä¸€ä¸‹</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/8.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/9.png"></p><h4 id="3-1-8-iease-music"><a href="#3-1-8-iease-music" class="headerlink" title="3.1.8 iease-music"></a>3.1.8 iease-music</h4><p>ç½‘æ˜“äº‘éŸ³ä¹æœ€æ¼‚äº®çš„ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼</p><pre><code class="line-numbers language-bash">sudo pacman -S iease-music</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/10.png"></p><h4 id="3-1-9-deepin-screenshot"><a href="#3-1-9-deepin-screenshot" class="headerlink" title="3.1.9 deepin-screenshot"></a>3.1.9 deepin-screenshot</h4><p>æ·±åº¦æˆªå›¾</p><pre><code class="line-numbers language-bash">sudo pacman -S deepin-screenshot</code></pre><h4 id="3-1-10-shadowsocks-qt5"><a href="#3-1-10-shadowsocks-qt5" class="headerlink" title="3.1.10 shadowsocks-qt5"></a>3.1.10 shadowsocks-qt5</h4><pre><code class="line-numbers language-bash">sudo pacman -S shadowsocks-qt5</code></pre><h4 id="3-1-11-thefuck"><a href="#3-1-11-thefuck" class="headerlink" title="3.1.11 thefuck"></a>3.1.11 thefuck</h4><p>è‡ªä»ç”¨äº†â€Thefuckâ€,å¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘æ•²é”™å‘½ä»¤äº†ã€‚<br>æœ‰äº†å®ƒï¼Œä¸‡ç‰©çš†å¯fffffffffuck!</p><pre><code class="line-numbers language-bash">sudo pacman -S thefuck</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/11.png"></p><h4 id="3-1-12-compton"><a href="#3-1-12-compton" class="headerlink" title="3.1.12 compton"></a>3.1.12 compton</h4><p>è®¾ç½®çª—å£åŠé€æ˜+æ¯›ç»ç’ƒæ•ˆæœ</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/16.png"></p><p>Manjaro i3 è‡ªå¸¦çš„æœ‰comptonï¼Œä¸è¿‡è¿™ä¸ªåªèƒ½åšåˆ°åŠé€æ˜è€Œæ²¡æœ‰æ¯›ç»ç’ƒæ•ˆæœï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯<a href="https://github.com/tryone144/compton">Compton</a>,ä¸‹é¢è¯¦ç»†ä»‹ç»ä¸€ä¸‹å®‰è£…è¿‡ç¨‹</p><ol><li>å¸è½½åŸæœ‰çš„compton</li></ol><pre><code class="line-numbers language-bash">sudo pacman -R compton</code></pre><p>è‹¥é‡åˆ°ä¾èµ–é—®é¢˜æ— æ³•å¸è½½ï¼Œåˆ™</p><pre><code class="line-numbers language-bash">sudo pacman -Rc compton</code></pre><ol start="2"><li>cloneä»“åº“</li></ol><pre><code class="line-numbers language-bash">git clone git@github.com:liuyaanng/compton.git</code></pre><ol start="3"><li>å®‰è£…</li></ol><p>å…·ä½“å†…å®¹å‚è€ƒ<a href="https://github.com/liuyaanng/compton/blob/dual_kawase/README.md">README</a><br>å®‰è£…å‰è¦ç¡®ä¿ä¸‹åˆ—ä¾èµ–å·²ç»å®‰è£…ã€‚<br>å…¶å®å¤§éƒ¨åˆ†éƒ½å·²ç»å®‰è£…,åªæœ‰ä¸ªåˆ«æ²¡æœ‰ï¼Œè‹¥ä¸‹é¢å®‰è£…ä¸æˆåŠŸï¼Œåˆ™æŒ‰æç¤ºæŠŠä¾èµ–è£…ä¸Šå³å¯ï¼Œæœ‰é—®é¢˜ä¹Ÿå¯ä»¥åœ¨issuesä¸ŠæŸ¥çœ‹</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/17.png"></p><pre><code class="line-numbers language-bash">cd compton# Make the main programmake# Make the man pagemake docs# Installmake install</code></pre><ol start="4"><li>é…ç½®</li></ol><p>é…ç½®ä¿¡æ¯åœ¨<a href="">.config</a></p><h4 id="3-1-13-deepin-file-manager"><a href="#3-1-13-deepin-file-manager" class="headerlink" title="3.1.13 deepin-file-manager"></a>3.1.13 deepin-file-manager</h4><p>é»˜è®¤çš„ <code>pcmanfm</code> ç«Ÿç„¶æ²¡æœ‰æœç´¢åŠŸèƒ½ï¼Œè¿™ä¸èƒ½å¿å•Š<br>æˆ‘ä½¿ç”¨ <code>deepin-file-manager</code> æ¥ä»£æ›¿é»˜è®¤çš„ <code>pcmanfm</code></p><pre><code class="line-numbers language-bash">sudo pacman -S deepin-file-manager</code></pre><p>åœ¨é…ç½®æ–‡ä»¶é‡Œ</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/blog_source@master/blog_images/Manjaro-i3wm-%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE%E7%AF%87/20.png"></p><h3 id="3-2-i3çš„é…ç½®"><a href="#3-2-i3çš„é…ç½®" class="headerlink" title="3.2 i3çš„é…ç½®"></a>3.2 i3çš„é…ç½®</h3><p>i3çš„é…ç½®æ–‡ä»¶åœ¨ <code>~/.i3/config</code></p><p>é‡Œé¢çš„é…ç½®ä¿¡æ¯ä»‹ç»çš„å¾ˆè¯¦ç»†,éœ€è¦æ›´è¯¦ç»†çš„ä¿¡æ¯ä½ å¯ä»¥é˜…è¯»å®˜æ–¹<a href="https://i3wm.org/docs/userguide.html">userguide</a></p><p> é¦–å…ˆåœ¨<code>Autoapplications</code>å¤„æ·»åŠ è‡ªå¯åŠ¨çš„åº”ç”¨</p><pre><code class="line-numbers language-bash">exec_always fcitxexec_always albert</code></pre><ul><li>æŠŠç³»ç»Ÿé»˜è®¤terminalæ¢æˆ<code>alacritty</code><br>åœ¨ <code>start a terminal</code>å¤„å°†åŸæ¥çš„ä»£ç æ³¨é‡Šæ‰ï¼ŒåŠ ä¸Šä»¥ä¸‹è¯­å¥</li></ul><pre><code class="line-numbers language-bash">bindsym $mod+Return exec alacritty</code></pre><ul><li>è®¾ç½®è½¯ä»¶å¯åŠ¨å¿«æ·é”®</li></ul><p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ </p><pre><code class="line-numbers language-bash">set $mod Mod4set $mod1 Mod1</code></pre><p>modåœ¨è¿™é‡Œè®¾ç½®çš„æ˜¯é”®ç›˜çš„<code>Super</code>é”®<br>mod1åœ¨è¿™é‡Œè®¾ç½®çš„æ˜¯<code>Alt</code>é”®</p><pre><code class="line-numbers language-bash">bindsym $mod+c exec chromiumbindsym $mod+p exec nitrogenbindsym $mod1+m exec iease-musicbindsym $mod1+Shift+a exec deepin-screenshot</code></pre><ul><li>çª—å£ä¹‹é—´çš„é—´è·é€šè¿‡i3-gapsæ¥è®¾ç½®ï¼Œè‹¥æ²¡æœ‰å®‰è£…ï¼Œåˆ™</li></ul><pre><code class="line-numbers language-bash">sudo pacman -S i3-gaps</code></pre><p>åœ¨é…ç½®æ–‡ä»¶ä¸­åŠ å…¥</p><pre><code class="line-numbers language-bash">gaps inner 16gaps outer 0</code></pre><p>å¯ä»¥æ ¹æ®è‡ªå·±å–œå¥½è°ƒæ•´æ•°å€¼</p><ul><li>xbacklight config</li></ul><p>install <code>xorg-xbacklight</code> first</p><pre><code class="line-numbers language-bash">sudo pacman -S xorg-xbacklight </code></pre><h2 id="æ‚é¡¹"><a href="#æ‚é¡¹" class="headerlink" title="æ‚é¡¹"></a>æ‚é¡¹</h2><h4 id="å½»åº•è§£å†³èœ‚é¸£é—®é¢˜"><a href="#å½»åº•è§£å†³èœ‚é¸£é—®é¢˜" class="headerlink" title="å½»åº•è§£å†³èœ‚é¸£é—®é¢˜"></a>å½»åº•è§£å†³èœ‚é¸£é—®é¢˜</h4><p>ç”±äºèœ‚é¸£æ˜¯ç”±ä¸»æ¿å‘å‡ºæ¥çš„å£°éŸ³ï¼Œæ•…ä¸èƒ½é€šè¿‡è°ƒèŠ‚éŸ³é‡æ¥æ¶ˆé™¤æ­¤å£°éŸ³ï¼Œè¦ä»æºå¤´ä¸Šè§£å†³</p><ul><li>å…³é—­ç»ˆç«¯ä¸‹Tabé”®çš„èœ‚é¸£æç¤º</li></ul><pre><code class="line-numbers language-bash">sudo vim /etc/inputrc</code></pre><p>å°† <code>set bell-style none</code> å‰çš„æ³¨é‡Šå»æ‰</p><ul><li>å…³é—­vimä¸­é”™è¯¯æç¤ºèœ‚é¸£å£°</li></ul><pre><code class="line-numbers language-bash">vim .vim/vimrc</code></pre><p>åœ¨é‡Œé¢åŠ å…¥  <code>set vb t_vb= </code></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/09/18/mo-gai-hexo-bo-ke/">é­”æ”¹hexoåšå®¢</a></li><li><a href="https://godliuyang.wang/2019/12/06/arch-linux-i3wm-xiang-xi-pei-zhi/">Arch Linux + i3wmè¯¦ç»†é…ç½®ç¯‡</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Manjaro </tag>
            
            <tag> linux </tag>
            
            <tag> i3wm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Face Recognition</title>
      <link href="/2019/08/10/face-recognition-with-opencv/"/>
      <url>/2019/08/10/face-recognition-with-opencv/</url>
      
        <content type="html"><![CDATA[<h1 id="Face-Recognition-with-OpenCV"><a href="#Face-Recognition-with-OpenCV" class="headerlink" title="Face Recognition with OpenCV"></a>Face Recognition with OpenCV</h1><h1 id="Preface"><a href="#Preface" class="headerlink" title="Preface"></a>Preface</h1><p>My Particular Environment:<br>Ubuntu16.04 + OpenCV3.3.0 + OpenCV_contrib3.3.0</p><h2 id="1-Image-Acquisition-and-Face-Database-Creation"><a href="#1-Image-Acquisition-and-Face-Database-Creation" class="headerlink" title="1. Image Acquisition and Face Database Creation"></a>1. Image Acquisition and Face Database Creation</h2><h3 id="1-1-Image-Acquisition"><a href="#1-1-Image-Acquisition" class="headerlink" title="1.1 Image Acquisition"></a>1.1 Image Acquisition</h3><h4 id="1-1-1-Steps-and-methods"><a href="#1-1-1-Steps-and-methods" class="headerlink" title="1.1.1 Steps and methods"></a>1.1.1 Steps and methods</h4><ol><li>Open the camera and capture images;</li><li>Loading the face classifier;</li><li>Start face detection, frame the face part and display;</li><li>Under the condition that the face is detected, take a picture with one button;</li><li>For the face part, resize and write the image file in the specified directory;</li></ol><h4 id="1-1-2-Code"><a href="#1-1-2-Code" class="headerlink" title="1.1.2 Code"></a>1.1.2 Code</h4><pre><code class="line-numbers language-cpp">#include &lt;opencv2/highgui/highgui.hpp&gt;#include &lt;opencv2/imgproc/imgproc.hpp&gt;#include &lt;opencv2/core/core.hpp&gt;#include &lt;opencv2/objdetect/objdetect.hpp&gt;#include &lt;stdio.h&gt;#include &lt;opencv2/face.hpp&gt;#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;sstream&gt; using namespace cv;using namespace std;using namespace cv::face;#define CV_COLOR_GREEN cv::Scalar(0, 255, 0)int resize_save(Mat&amp; faceIn, char* path, int  faceseq);//Input: current image, the path of file, the name or faceseq of images.//Output: None//Function: resize the current image to (92, 112), which is same to the train data.int get_face(char* path);//Input: the path of file.//Output: None//Function: Use face_cascade to detect if there are faces in the window, and save the faces through function reszie_save.int resize_save(Mat&amp; faceIn, char* path, int  faceseq)&#123;  string strname;  Mat faceOut;  bool ret;  if(faceIn.empty())&#123;    printf(&quot;FaceIn is empty.\n&quot;);    return -1;  &#125;  if(faceIn.cols &gt; 100)&#123;    resize(faceIn, faceOut, Size(92, 112));    //Resize and Keep a match with the train database.    strname = format(&quot;%s/%d.jpg&quot;, path, faceseq); //mkdir    ret = imwrite(strname, faceOut); //save image. Note the file suffix.    if(ret == false)&#123;      printf(&quot;Image write failed!\n&quot;);      printf(&quot;Please check filename[%s] is legal!\n&quot;, strname.c_str());      return -1;    &#125;    imshow(strname, faceOut);  &#125;  waitKey(20);  return 0;&#125;int get_face(char* path)&#123;  CascadeClassifier face_cascade;  VideoCapture camera;  int ret;  Mat frame;  //camera frame  vector&lt;Rect&gt; objects; //The faces coordinates.  Mat img_gary; //Gradation pictures.  Mat faceImg;  int faceNum = 1; //  char key;  camera.open(0);  if(!camera.isOpened())&#123;    cout &lt;&lt; &quot;Open camera failed.&quot; &lt;&lt; endl;    return -1;  &#125;  cout &lt;&lt; &quot;Open camera succeed. &quot; &lt;&lt; endl;  //Load the face cascadeclassifier.  ret = face_cascade.load(&quot;haarcascade_frontalface_alt2.xml&quot;);  if(!ret)&#123;    cout &lt;&lt; &quot;Load xml failed.&quot; &lt;&lt; endl;    return -1;  &#125;  cout &lt;&lt; &quot;Load xml succeed.&quot; &lt;&lt; endl;  while(1)&#123;    camera &gt;&gt; frame;    if(frame.empty())&#123;      continue;    &#125;    cvtColor(frame, img_gary, COLOR_BGR2GRAY); //Transform frame as the gradation picture, note imshow is still the original frame.    equalizeHist(img_gary, img_gary); //Histogram equalization, which is helpful to improve the quality of pictures.    //Face detection    face_cascade.detectMultiScale(img_gary, objects, 1.1,3 , 0, Size(50,50));    for(size_t i = 0; i &lt; objects.size(); i++)&#123;      rectangle(frame, objects[i], CV_COLOR_GREEN);    &#125;    imshow(&quot;Camera&quot;, frame);    key = waitKey(1);    switch (key)&#123;      case &#39;p&#39;: //tap &#39;P&#39; to save.        if(objects.size() == 1)&#123;          faceImg = frame(objects[0]);          ret = resize_save(faceImg, path, faceNum);          if(ret == 0)&#123;            cout &lt;&lt; &quot;resize_save succeed.\n&quot; &lt;&lt; endl;            faceNum++;          &#125;        &#125;        break;      case 27:   //switch to ESC        cout &lt;&lt; &quot;Esc ...&quot; &lt;&lt; endl;        return 0;      default:        break;    &#125;  &#125;&#125;int main(int argc, char* argv[])&#123;  if(argc != 2)      &#123;        printf(&quot;usage: %s &lt;path&gt;\n&quot;, argv[0]);        return -1;      &#125;  get_face(argv[1]);  return 0;&#125;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Recognition-with-OpenCV/4.jpg"><br>Note:    </p><ol><li>After the compilation is successful, the execution executable file must provide parameters, which are the directories for storing the face image, and it must be an existing directory.(E.g: ./program_name Img/s41)    </li><li>Press the â€œPâ€ button to take a photo and save the face. Press the â€œEscâ€ button to exit.</li></ol><h3 id="1-2-Face-Database-Creation"><a href="#1-2-Face-Database-Creation" class="headerlink" title="1.2 Face Database Creation"></a>1.2 Face Database Creation</h3><p>The official document provides a download of the face database, and i use the <a href="http://www.cl.cam.ac.uk/research/dtg/attarchive/facedatabase.html">AT&amp;T Facedatabase</a> to create my face database. I have updated this zip file to my github, you can download it from <a href="att_faces.zip">here</a> faster.<br>AT&amp;T Face Database is also known as the OCR face database, 40 people, 10 photos per person. The photos are token at different times, different lighting, different expressions(closed eyes, laughing or not laughing), different face details(with or without glasses). All images were captured on a dark , even background with a vertical face o the front(some with a slight rotation).<br>You can download the compressed package from the website, and first extract the att_faces folder. There are 40 folders under the folder, which named from â€œs1â€ to â€œs40â€. Each folder has the same personâ€™s photos with different expressions, and there are 10 face photos.<br>The format of these images is â€œ.pgmâ€<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Recognition-with-OpenCV/1.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Recognition-with-OpenCV/2.png"></p><p>Note:<br>If you want to add your own photos to the face database through the program, the number of added pictures must be no less than 2.</p><h2 id="2-Face-Recognition-Model-training"><a href="#2-Face-Recognition-Model-training" class="headerlink" title="2. Face Recognition Model training"></a>2. Face Recognition Model training</h2><h3 id="2-1-Create-a-label-file-CSV"><a href="#2-1-Create-a-label-file-CSV" class="headerlink" title="2.1 Create a label file CSV"></a>2.1 Create a label file CSV</h3><p>With the face database data, we need to read it in the program, here we need to use csv file to read the image data in the face database.<br>The format of a csv file: image path name + label, such as /Img/s1/image.jpg;1<br>Assume the face image path is: /Img/s1/01..jpg<br>And we give this face image a label â€œ1â€, this label represents the personâ€™s name. One personâ€™s face image label must be the same.<br>You can create a csv file manually and then enter the data one by one. But if you use python, you donâ€™t have to do this tedious and boring work.<br>The following is a piece of code which can write data in the CSV file automatically.</p><pre><code class="line-numbers language-python">#!/usr/bin/env pythonimport sysimport os.path# This is a tiny script to help you creating a CSV file from a face# database with a similar hierarchie:##  #  #  |-- s1#  |   |-- 1.pgm#  |   |-- ...#  |   |-- 10.pgm#  |-- s2#  |   |-- 1.pgm#  |   |-- ...#  |   |-- 10.pgm#  ...#  |-- s40#  |   |-- 1.pgm#  |   |-- ...#  |   |-- 10.pgm#if __name__ == &quot;__main__&quot;:    if len(sys.argv) != 2:        print &quot;usage: create_csv &lt;base_path&gt;&quot;        sys.exit(1)    BASE_PATH=sys.argv[1]            SEPARATOR=&quot;;&quot;    # This is output csv file.    fh = open(&quot;../at.csv&quot;,&#39;w&#39;)    for dirname, dirnames, filenames in os.walk(BASE_PATH):        for subdirname in dirnames:            subject_path = os.path.join(dirname, subdirname)            for filename in os.listdir(subject_path):                abs_path = &quot;%s/%s&quot; % (subject_path, filename)                print(&quot;%s%s%s&quot; % (abs_path, SEPARATOR, subdirname[1:]))                fh.write(abs_path)                fh.write(SEPARATOR)                fh.write(subdirname[1:])                fh.write(&quot;\n&quot;)    fh.close()</code></pre><p>You should set the image path parameter (absolute path) when running.(E.g: <strong>python filename.py /home/kevin/OpenCV/face_rec/Img</strong> ) and you can get a CSV file like this:<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Recognition-with-OpenCV/5.png"><br>This CSV file is created.</p><h3 id="2-2-Model-training"><a href="#2-2-Model-training" class="headerlink" title="2.2 Model training"></a>2.2 Model training</h3><p>This is the official example of OpenCV: <a href="https://docs.opencv.org/3.2.0/da/d60/tutorial_face_main.html">Click here</a><br>They offer three models: Eigenfaces, Fisherfaces and Local Binary Patterns Histograms(LBPH)    </p><p>Then I will train my own face database based on these models on the first step.</p><pre><code class="line-numbers language-cpp">static Mat norm_0_255(InputArray _src)&#123;  Mat src = _src.getMat();  Mat dst; //Create and return a normalized image matrix:  switch(src.channels()) &#123;    case 1:        cv::normalize(_src, dst, 0, 255, NORM_MINMAX, CV_8UC1);        break;    case 3:        cv::normalize(_src, dst, 0, 255, NORM_MINMAX, CV_8UC3);        break;    default:        src.copyTo(dst);        break;  &#125;  return dst;&#125;//load CSV filestatic void read_csv(const string&amp; filename, vector&lt;Mat&gt;&amp; images, vector&lt;int&gt;&amp; labels, char separator = &#39;;&#39;)&#123;  std::ifstream file(filename.c_str(), ifstream::in);    if (!file) &#123;        string error_message = &quot;No valid input file was given, please check the given filename.&quot;;        CV_Error(Error::StsBadArg, error_message);    &#125;    string line, path, classlabel;    while (getline(file, line)) &#123;        stringstream liness(line);        getline(liness, path, separator);        getline(liness, classlabel);        if(!path.empty() &amp;&amp; !classlabel.empty()) &#123;            images.push_back(imread(path, 0));            labels.push_back(atoi(classlabel.c_str()));        &#125;    &#125;&#125;void train_model(const string&amp; fn_csv)&#123;  // 2 containers to store image data and corresponding labels    vector&lt;Mat&gt; images;    vector&lt;int&gt; labels;    // load data    try    &#123;        read_csv(fn_csv, images, labels);    &#125;    catch (cv::Exception&amp; e)    &#123;        cerr &lt;&lt; &quot;Error opening file \&quot;&quot; &lt;&lt; fn_csv &lt;&lt; &quot;\&quot;. Reason: &quot; &lt;&lt; e.msg &lt;&lt; endl;        exit(1);    &#125;    if (images.size() &lt;= 1) &#123;        string error_message = &quot;This demo needs at least 2 images to work. Please add more images to your data set!&quot;;        CV_Error(CV_StsError, error_message);    &#125;    Mat testSample = images[images.size() - 1];    int testLabel = labels[labels.size() - 1];    images.pop_back();    labels.pop_back();    // The following lines create a feature face model for face recognition.Â Â Â Â  // Train it with images and tags read from a CSV file.Â Â Â Â  // Here is a complete PCA transformÂ Â Â Â  //If you only want to keep 10 principal components, use the following codeÂ Â Â Â  // cv::EigenFaceRecognizer::create(10);Â Â Â Â  // cv::FisherFaceRecognizer::create(10);Â Â Â Â  //Â Â Â Â  // If you also want to initialize with a confidence threshold, use the following statement:Â Â Â Â  // cv::EigenFaceRecognizer::create(10, 123.0);Â Â Â Â  //Â Â Â Â  // If you use all features and use a threshold, use the following statement:Â Â Â Â  // cv::EigenFaceRecognizer::create(0, 123.0);Â Â Â Â  // cv::FisherFaceRecognizer::create(0, 123.0);    Ptr&lt;BasicFaceRecognizer&gt; model0 = EigenFaceRecognizer::create();    model0-&gt;train(images, labels);    model0-&gt;write(&quot;MyFacePCAModel.xml&quot;);    Ptr&lt;BasicFaceRecognizer&gt; model1 = FisherFaceRecognizer::create();    model1-&gt;train(images, labels);    model1-&gt;write(&quot;MyFaceFisherModel.xml&quot;);     Ptr&lt;LBPHFaceRecognizer&gt; model2 = LBPHFaceRecognizer::create();    model2-&gt;train(images, labels);    model2-&gt;write(&quot;MyFaceLBPHModel.xml&quot;);    // The test image is predicted below, predictedLabel is the predicted label result    int predictedLabel0 = model0-&gt;predict(testSample);    int predictedLabel1 = model1-&gt;predict(testSample);    int predictedLabel2 = model2-&gt;predict(testSample);    // There is also a way to get the result and get the threshold:    //      int predictedLabel = -1;    //      double confidence = 0.0;    //      model-&gt;predict(testSample, predictedLabel, confidence);    string result_message0 = format(&quot;Predicted class = %d / Actual class = %d.&quot;, predictedLabel0, testLabel);    string result_message1 = format(&quot;Predicted class = %d / Actual class = %d.&quot;, predictedLabel1, testLabel);    string result_message2 = format(&quot;Predicted class = %d / Actual class = %d.&quot;, predictedLabel2, testLabel);    cout &lt;&lt; result_message0 &lt;&lt; endl;    cout &lt;&lt; result_message1 &lt;&lt; endl;    cout &lt;&lt; result_message2 &lt;&lt; endl;    waitKey(0);&#125;int main(int argc, char* argv[])&#123;  if(argc != 2)      &#123;        printf(&quot;usage: %s &lt;csv_file&gt;\n&quot;, argv[0]);        return -1;      &#125;  string fn_csv = string(argv[1]);  train_model(fn_csv);  return 0;&#125;</code></pre><p>At this point, we have completed the training of the face model. And we get three files:     </p><p><code>MyFaceFisherModel.xmlã€MyFaceLBPHModel.xmlã€MyFacePCAModel.xml</code></p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Recognition-with-OpenCV/6.png"><br>Note:    </p><ol><li><p>Changes to the API of the OpenCV3.3 Face Recognition Module</p><p>a. Facerec.hpp before opencv3.3</p><pre><code class="line-numbers language-cpp">#ifndef __OPENCV_FACEREC_HPP__#define __OPENCV_FACEREC_HPP__#include &quot;opencv2/face.hpp&quot;#include &quot;opencv2/core.hpp&quot;namespace cv &#123; namespace face &#123;// base for two classesclass CV_EXPORTS_W BasicFaceRecognizer : public FaceRecognizer&#123;public:    /** @see setNumComponents */    CV_WRAP virtual int getNumComponents() const = 0;    // ----------- ...... -----------    CV_WRAP virtual cv::Mat getEigenValues() const = 0;    CV_WRAP virtual cv::Mat getEigenVectors() const = 0;    CV_WRAP virtual cv::Mat getMean() const = 0;&#125;;CV_EXPORTS_W Ptr&lt;BasicFaceRecognizer&gt; createEigenFaceRecognizer(int num_components = 0, double threshold = DBL_MAX);CV_EXPORTS_W Ptr&lt;BasicFaceRecognizer&gt; createFisherFaceRecognizer(int num_components = 0, double threshold = DBL_MAX);class CV_EXPORTS_W LBPHFaceRecognizer : public FaceRecognizer&#123;public:    /** @see setGridX */    CV_WRAP virtual int getGridX() const = 0;    /** @copybrief getGridX @see getGridX */    CV_WRAP virtual void setGridX(int val) = 0;    // ----------- ...... -----------    CV_WRAP virtual cv::Mat getLabels() const = 0;&#125;;CV_EXPORTS_W Ptr&lt;LBPHFaceRecognizer&gt; createLBPHFaceRecognizer(int radius=1, int neighbors=8, int grid_x=8, int grid_y=8, double threshold = DBL_MAX);&#125;&#125; //namespace cv::face#endif //__OPENCV_FACEREC_HPP__</code></pre><ul><li><p>Comment section of the ninth line: <code>// base for two classes</code>,  This shows that BasicFaceRecognizer is the base class of two classes: EigenFaceRecognizer and FisherFaceRecognizer. With LBPHFaceRecognizer is irrelevant. Even the new API is still the case.</p></li><li><p>Method of creating three face recognizers.</p><pre><code class="line-numbers language-cpp">Ptr&lt;BasicFaceRecognizer&gt; model =  createEigenFaceRecognizer();Ptr&lt;BasicFaceRecognizer&gt; model =  createFisherFaceRecognizer();Ptr&lt;LBPHFaceRecognizer&gt; model  =  createLBPHFaceRecognizer();</code></pre></li></ul><p>b. Facerec.hpp after opencv3.3</p></li></ol><pre><code class="line-numbers language-cpp">#ifndef __OPENCV_FACEREC_HPP__#define __OPENCV_FACEREC_HPP__#include &quot;opencv2/face.hpp&quot;#include &quot;opencv2/core.hpp&quot;namespace cv &#123; namespace face &#123;// base for two classesclass CV_EXPORTS_W BasicFaceRecognizer : public FaceRecognizer&#123;public:    /** @see setNumComponents */    CV_WRAP int getNumComponents() const;    // ----------- ...... -----------    CV_WRAP cv::Mat getEigenValues() const;    CV_WRAP cv::Mat getEigenVectors() const;    CV_WRAP cv::Mat getMean() const;    virtual void read(const FileNode&amp; fn);    virtual void write(FileStorage&amp; fs) const;    virtual bool empty() const;    using FaceRecognizer::read;    using FaceRecognizer::write;protected:    int _num_components;    double _threshold;    std::vector&lt;Mat&gt; _projections;    Mat _labels;    Mat _eigenvectors;    Mat _eigenvalues;    Mat _mean;&#125;;class CV_EXPORTS_W EigenFaceRecognizer : public BasicFaceRecognizer&#123;public:    CV_WRAP static Ptr&lt;EigenFaceRecognizer&gt; create(int num_components = 0, double threshold = DBL_MAX);&#125;;class CV_EXPORTS_W FisherFaceRecognizer : public BasicFaceRecognizer&#123;public:    CV_WRAP static Ptr&lt;FisherFaceRecognizer&gt; create(int num_components = 0, double threshold = DBL_MAX);&#125;;class CV_EXPORTS_W LBPHFaceRecognizer : public FaceRecognizer&#123;public:    /** @see setGridX */    CV_WRAP virtual int getGridX() const = 0;    // ----------- ...... -----------    CV_WRAP virtual cv::Mat getLabels() const = 0;    CV_WRAP static Ptr&lt;LBPHFaceRecognizer&gt; create(int radius=1, int neighbors=8, int grid_x=8, int grid_y=8, double threshold = DBL_MAX);&#125;;&#125;&#125; //namespace cv::face#endif //__OPENCV_FACEREC_HPP__</code></pre><ul><li>Both EigenFaceRecognizer and FisherFaceRecognizer are inherited from BasicFaceRecognizer. However, the LBFPHaceRecognizer, like the BasicFaceRecognizer, inherits from FaceRecognizer.    </li><li>Method of creating three face recognizer</li></ul><pre><code class="line-numbers language-cpp">Ptr&lt;EigenFaceRecognizer&gt; model  = EigenFaceRecognizer::create();Ptr&lt;FisherFaceRecognizer&gt; model = FisherFaceRecognizer::create();Ptr&lt;LBPHFaceRecognizer&gt; model   = LBPHFaceRecognizer::create();</code></pre><h2 id="3-Identify-faces-in-the-video-stream-camera"><a href="#3-Identify-faces-in-the-video-stream-camera" class="headerlink" title="3. Identify faces in the video stream (camera)"></a>3. Identify faces in the video stream (camera)</h2><h3 id="3-1-Ready-to-work"><a href="#3-1-Ready-to-work" class="headerlink" title="3.1 Ready to work."></a>3.1 Ready to work.</h3><h4 id="3-1-1-Copy-the-training-file-obtained-in-the-second-step-to-the-current-folder"><a href="#3-1-1-Copy-the-training-file-obtained-in-the-second-step-to-the-current-folder" class="headerlink" title="3.1.1 Copy the training file obtained in the second step to the current folder."></a>3.1.1 Copy the training file obtained in the second step to the current folder.</h4><h4 id="3-1-2-The-process-or-method-of-Face-Recognition"><a href="#3-1-2-The-process-or-method-of-Face-Recognition" class="headerlink" title="3.1.2 The process or method of Face Recognition"></a>3.1.2 The process or method of Face Recognition</h4><p>This step has a similar part to the creation of a face recognition database.</p><ul><li>Open the camera</li><li>Loading face detector, face model</li><li>Scale the image (for efficiency)</li><li>Face recognition (compare to face model)</li><li>Label faces with rectangular wireframes and add text labels</li></ul><h4 id="3-2-Code"><a href="#3-2-Code" class="headerlink" title="3.2 Code"></a>3.2 Code</h4><pre><code class="line-numbers language-cpp">#include &lt;opencv2/opencv.hpp&gt;  #include &quot;opencv2/core.hpp&quot;#include &quot;opencv2/face.hpp&quot;#include &quot;opencv2/highgui.hpp&quot;#include &quot;opencv2/imgproc.hpp&quot;#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;sstream&gt;using namespace cv;using namespace cv::face;using namespace std;#define ROW_MIN        45int exitFlag = 0;int Recognition_And_Draw();int Recognition_And_Draw()&#123;  int ret = 0; //  double scale = 4; //Zoom factor  double fx = 1 / scale;  Mat frame;  //Video frame  VideoCapture cap(0);    //Open the camera  if(!cap.isOpened())&#123;    cout &lt;&lt; &quot;Open camera failed.\n&quot; &lt;&lt; endl;    return -1;  &#125;  //Load cascade classifier  CascadeClassifier cascade;  ret = cascade.load(&quot;haarcascade_frontalface_alt2.xml&quot;);  if(!ret)&#123;    printf(&quot;Load xml failed[ret = %d]. \n&quot;, ret);    return -1;  &#125;  cout &lt;&lt; &quot;Load xml succeed.&quot; &lt;&lt; endl;  // Loading trained face models  Ptr&lt;BasicFaceRecognizer&gt; modelPCA = EigenFaceRecognizer::create();    modelPCA-&gt;read(&quot;MyFacePCAModel.xml&quot;);    Ptr&lt;BasicFaceRecognizer&gt; modelFisher = FisherFaceRecognizer::create();  modelFisher-&gt;read(&quot;MyFaceFisherModel.xml&quot;);    Ptr&lt;LBPHFaceRecognizer&gt; modelLBPH = LBPHFaceRecognizer::create();    modelLBPH-&gt;read(&quot;MyFaceLBPHModel.xml&quot;);    while(!exitFlag)&#123;    cap &gt;&gt; frame;    if(frame.empty())      continue;    Mat facesImg;  //    vector&lt;Rect&gt; faces;  //Create a vector container for storing faces    Mat gary_img; //grayscale image    Mat scl_gary_img; //Scaled grayscale image    cvtColor(frame, gary_img, COLOR_BGR2GRAY); //Convert the original image to a grayscale image    resize(gary_img, scl_gary_img, Size(), fx, fx, INTER_LINEAR); //resize img    equalizeHist( scl_gary_img, scl_gary_img );  //face detection    cascade.detectMultiScale(scl_gary_img, faces, 1.1, 2, 0|CASCADE_SCALE_IMAGE,Size(30, 30));    printf(&quot;Face.size = %ld\n&quot;, faces.size());  //facesImg = scl_gary_img(faces[0]);    Mat face_resize;  //To prevent the picture is too small (that is, people too far away from the camera)    int predictPCA = 0;      int predictFisher = 0;      int predictLBPH = 0;    for(size_t i = 0; i &lt; faces.size(); i++)&#123;      Rect rectFace = faces[i];      facesImg = scl_gary_img(faces[i]);      if(facesImg.rows &gt;= ROW_MIN)&#123;        resize(facesImg, face_resize, Size(92, 112));      &#125;      else&#123;        printf(&quot;faceImg.rows[%d] &lt; %d \n&quot;, facesImg.rows, ROW_MIN);        continue;      &#125;      if(!face_resize.empty())&#123;        predictPCA = modelPCA-&gt;predict(face_resize);          predictFisher = modelFisher-&gt;predict(face_resize);          predictLBPH = modelLBPH-&gt;predict(face_resize);       &#125;      cout &lt;&lt; &quot;predictPCA   : &quot; &lt;&lt; predictPCA    &lt;&lt; endl;      cout &lt;&lt; &quot;predictFisher: &quot; &lt;&lt; predictFisher &lt;&lt; endl;      cout &lt;&lt; &quot;predictLBPH  : &quot; &lt;&lt; predictLBPH   &lt;&lt; endl;      rectangle(frame, Point(rectFace.x, rectFace.y) * scale, Point(rectFace.x + rectFace.width, rectFace.y + rectFace.height) * scale, Scalar(0, 255, 0), 2, 8);      if (predictPCA == 41)&#123;        putText(frame, &quot;Liuyang&quot;, Point(faces[i].x, faces[i].y) * scale, FONT_HERSHEY_SIMPLEX, 1, Scalar(0, 0, 255), 2);      &#125;      else&#123;        putText(frame, &quot;X&quot;, Point(faces[i].x, faces[i].y) * scale, FONT_HERSHEY_SIMPLEX, 1.5, Scalar(0, 0, 255), 2);      &#125;  // if(faces.size() &lt;= 0)&#123;  //  cout &lt;&lt; &quot;There are no faces in the camera.\n&quot; &lt;&lt; endl; // &#125;    &#125;    imshow(&quot;frame&quot;, frame);      if (waitKey(1) == 27)&#123;                exitFlag = 1;                cout &lt;&lt; &quot;Esc...&quot; &lt;&lt; endl;                break;      &#125;  &#125;&#125;int main()&#123;  Recognition_And_Draw();  return 0;&#125;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Recognition-with-OpenCV/7.jpg"></p><p>Note:    </p><ol><li>This program supports multiple face recognition at the same time</li><li>Face recognition accuracy is not high, and it is susceptible to environmental factors such as light.</li></ol><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/08/17/leetcode-easy-9/">LeetCode EASY_9</a></li><li><a href="https://godliuyang.wang/2020/03/30/scikit-image-guide/">scikit-image guide</a></li><li><a href="https://godliuyang.wang/2020/01/29/sort/">SORT</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> å®ä¹  </category>
          
          <category> Face Recognition </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCV </tag>
            
            <tag> c++ </tag>
            
            <tag> python </tag>
            
            <tag> Face Recongnition </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Enjoy PyTorch</title>
      <link href="/2019/08/07/enjoy-pytorch/"/>
      <url>/2019/08/07/enjoy-pytorch/</url>
      
        <content type="html"><![CDATA[<h1 id="Installing-PyTorch-with-Anaconda-and-Conda"><a href="#Installing-PyTorch-with-Anaconda-and-Conda" class="headerlink" title="Installing PyTorch with Anaconda and Conda"></a>Installing PyTorch with Anaconda and Conda</h1><p>My Particular Environment:</p><ul><li>OS: Ubuntu 16.04</li><li>Package Manager: conda</li><li>Python: 3.6</li><li>CUDA: None</li></ul><p>Getting started with PyTorch is very easy. The recommended best option is to use the Anaconda Pythob package manager.</p><ol><li><a href="https://www.anaconda.com/distribution/">Download and install Anaconda</a>(Go with the latest Python version)<br>You can download the <code>.sh</code> package from the Anaconda website, but itâ€™s very slowly for me. So i find another choice.<br>You can find it in <a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/">Tsinghua university open source mirror station</a>, which i download is <code>Anaconda3-5.2.0-Linux-x86_64.sh</code>. Or if you already get the â€œwgetâ€, you can run this command in the terminal.<pre><code class="line-numbers language-bash">wget https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive/Anaconda3-5.2.0-Linux-x86_64.sh</code></pre>Use <code>conda -V</code> to check the Version of Anaconda after open a new terminal.<br>If it isnâ€™t work, try,<pre><code class="line-numbers language-bash">echo &#39;export PATH=&quot;~/anaconda3/bin:$PATH&quot;&#39; &gt;&gt; ~/.bashrcsource ./bashrc</code></pre></li><li>Go to the Getting Started section on the <a href="https://pytorch.org/">Pytorch website</a>.</li><li>Specify the appropriate configuration options for your particular environment.<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Enjoy-PyTorch-Task1/1.png"></li><li>Run the presented command in the terminal to install Pytorch.<pre><code class="line-numbers language-bash">conda install pytorch-cpu torchvision-cpu -c pytorch</code></pre></li></ol><pre><code class="line-numbers language-python">import torchimport torch.nn as nnimport torchvisionimport torch.utils.data as Data# Hyper ParametersEPOCH = 1  BATCH_SIZE = 50LR = 0.001  DOWNLOAD_MNIST = True  # Mnisttrain_data = torchvision.datasets.MNIST(    root=&#39;./mnist/&#39;,      train=True,  # this is training data    transform=torchvision.transforms.ToTensor(),  # exchange PIL.Image or numpy.ndarray to torch.FloatTensor (C x H x W)    download=DOWNLOAD_MNIST,  )test_data = torchvision.datasets.MNIST(    root=&#39;./mnist/&#39;,    train=False)# BATCH_SIZEtrain_loader = Data.DataLoader(    dataset=train_data,    batch_size=BATCH_SIZE,    shuffle=True  )# test_datatest_x = torch.unsqueeze(test_data.test_data, dim=1).type(torch.FloatTensor)test_y = test_data.test_labels# cnnclass CNN(nn.Module):    def __init__(self):        super(CNN, self).__init__()        self.layer1 = nn.Sequential(            # (1, 28, 28)            nn.Conv2d(                in_channels=1,                out_channels=16,                kernel_size=5,                  stride=1,                  padding=2,                groups=1            ),            # (16, 28, 38)            nn.ReLU(),            nn.MaxPool2d(kernel_size=2)            # (16, 14, 14)        )        self.layer2 = nn.Sequential(            nn.Conv2d(                in_channels=16,                out_channels=32,                kernel_size=5,                stride=1,                padding=2            ),            nn.ReLU(),            nn.MaxPool2d(kernel_size=2)        )        self.layer3 = nn.Linear(32 * 7 * 7, 10)    def forward(self, x):        # print(x.shape)        x = self.layer1(x)        # print(x.shape)        x = self.layer2(x)        # print(x.shape)        x = x.view(x.size(0), -1)        # print(x.shape)        x = self.layer3(x)        # print(x.shape)        return xcnn = CNN()optimizer = torch.optim.Adam(cnn.parameters(), lr=LR)loss_function = nn.CrossEntropyLoss()for epoch in range(EPOCH):    for step, (b_x, b_y) in enumerate(train_loader):        output = cnn(b_x)        loss = loss_function(output, b_y)        optimizer.zero_grad()        loss.backward()        optimizer.step()print(&#39;finished training&#39;)test_out = cnn(test_x)predict_y = torch.argmax(test_out, 1).data.numpy()print(&#39;Accuracy in Test : %.4f%%&#39; % (sum(predict_y == test_y.data.numpy()) * 100/ len(predict_y)))</code></pre><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/04/21/gpu-servers/">GPU servers</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> PyTorch Notes </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PyTorch </tag>
            
            <tag> Deep Learning </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PCAç®—æ³•å®ç°</title>
      <link href="/2019/08/07/pca-suan-fa-shi-xian/"/>
      <url>/2019/08/07/pca-suan-fa-shi-xian/</url>
      
        <content type="html"><![CDATA[<h1 id="PCAç®—æ³•å®ä¾‹åŠC-å®ç°"><a href="#PCAç®—æ³•å®ä¾‹åŠC-å®ç°" class="headerlink" title="PCAç®—æ³•å®ä¾‹åŠC++å®ç°"></a>PCAç®—æ³•å®ä¾‹åŠC++å®ç°</h1><h2 id="PCAç®—æ³•"><a href="#PCAç®—æ³•" class="headerlink" title="PCAç®—æ³•"></a>PCAç®—æ³•</h2><p>æ€»ç»“ä¸€ä¸‹PCAçš„ç®—æ³•æ­¥éª¤ï¼š</p><p>è®¾æœ‰mæ¡nç»´æ•°æ®ã€‚</p><ol><li>å°†åŸå§‹æ•°æ®æŒ‰åˆ—ç»„æˆnè¡Œmåˆ—çŸ©é˜µX</li><li>å°†Xçš„æ¯ä¸€è¡Œï¼ˆä»£è¡¨ä¸€ä¸ªå±æ€§å­—æ®µï¼‰è¿›è¡Œé›¶å‡å€¼åŒ–ï¼Œå³å‡å»è¿™ä¸€è¡Œçš„å‡å€¼</li><li>æ±‚å‡ºåæ–¹å·®çŸ©é˜µ $C=\frac{1}{m}XX^\mathsf{T}$</li><li>æ±‚å‡ºåæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å€¼åŠå¯¹åº”çš„ç‰¹å¾å‘é‡</li><li>å°†ç‰¹å¾å‘é‡æŒ‰å¯¹åº”ç‰¹å¾å€¼å¤§å°ä»ä¸Šåˆ°ä¸‹æŒ‰è¡Œæ’åˆ—æˆçŸ©é˜µï¼Œå–å‰kè¡Œç»„æˆçŸ©é˜µP</li><li>$Y = PX$å³ä¸ºé™ç»´åˆ°kç»´åçš„æ•°æ®</li></ol><h2 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h2><p>ä»¥<br>$$ \begin{pmatrix}<br>  -1 &amp; -1 &amp; 0 &amp; 2 &amp; 0 \\<br>  -2 &amp; 0 &amp; 0 &amp; 1 &amp; 1 \<br>\end{pmatrix} $$<br>ä¸ºä¾‹ï¼Œæˆ‘ä»¬ç”¨PCAæ–¹æ³•å°†è¿™ç»„äºŒç»´æ•°æ®å…¶é™åˆ°ä¸€ç»´ã€‚</p><p>å› ä¸ºè¿™ä¸ªçŸ©é˜µçš„æ¯è¡Œå·²ç»æ˜¯é›¶å‡å€¼ï¼Œè¿™é‡Œæˆ‘ä»¬ç›´æ¥æ±‚åæ–¹å·®çŸ©é˜µï¼š<br>$$ C=\frac{1}{5}\begin{pmatrix}<br>  -1 &amp; -1 &amp; 0 &amp; 2 &amp; 0 \\<br>  -2 &amp; 0 &amp; 0 &amp; 1 &amp; 1 \<br>\end{pmatrix}\begin{pmatrix}<br>  -1 &amp; -2 \\<br>  -1 &amp; 0  \\<br>  0  &amp; 0  \\<br>  2  &amp; 1  \\<br>  0  &amp; 1 \<br>\end{pmatrix}=\begin{pmatrix}<br>  \frac{6}{5} &amp; \frac{4}{5} \\<br>  \frac{4}{5} &amp; \frac{6}{5} \<br>\end{pmatrix}$$<br>ç„¶åæ±‚å…¶ç‰¹å¾å€¼å’Œç‰¹å¾å‘é‡ï¼Œå…·ä½“æ±‚è§£æ–¹æ³•ä¸å†è¯¦è¿°ï¼Œå¯ä»¥å‚è€ƒç›¸å…³èµ„æ–™ã€‚æ±‚è§£åç‰¹å¾å€¼ä¸ºï¼š<br>$$\lambda_1=2,\lambda_2=2/5$$<br>å…¶å¯¹åº”çš„ç‰¹å¾å‘é‡åˆ†åˆ«æ˜¯ï¼š<br>$$c_1\begin{pmatrix}<br>  1 \\<br>  1<br>\end{pmatrix},c_2\begin{pmatrix}<br>  -1 \\<br>  1<br>\end{pmatrix}$$<br>å…¶ä¸­å¯¹åº”çš„ç‰¹å¾å‘é‡åˆ†åˆ«æ˜¯ä¸€ä¸ªé€šè§£ï¼Œ $c_1$å’Œ $c_2$ å¯å–ä»»æ„å®æ•°ã€‚é‚£ä¹ˆæ ‡å‡†åŒ–åçš„ç‰¹å¾å‘é‡ä¸ºï¼š<br>$$\begin{pmatrix}<br>  1/\sqrt{2} \\<br>  1/\sqrt{2}<br>\end{pmatrix},\begin{pmatrix}<br>  -1/\sqrt{2} \\<br>  1/\sqrt{2}<br>\end{pmatrix}$$<br>å› æ­¤æˆ‘ä»¬çš„çŸ©é˜µPæ˜¯ï¼š<br>$$P=\begin{pmatrix}<br>  1/\sqrt{2}  &amp; 1/\sqrt{2}  \\<br>  -1/\sqrt{2} &amp; 1/\sqrt{2}<br>\end{pmatrix}$$<br>æœ€åæˆ‘ä»¬ç”¨Pçš„ç¬¬ä¸€è¡Œä¹˜ä»¥æ•°æ®çŸ©é˜µï¼Œå°±å¾—åˆ°äº†é™ç»´åçš„è¡¨ç¤ºï¼š<br>$$Y=\begin{pmatrix}<br>  1/\sqrt{2} &amp; 1/\sqrt{2}<br>\end{pmatrix}\begin{pmatrix}<br>  -1 &amp; -1 &amp; 0 &amp; 2 &amp; 0 \\<br>  -2 &amp; 0 &amp; 0 &amp; 1 &amp; 1<br>\end{pmatrix}=\begin{pmatrix}<br>  -3/\sqrt{2} &amp; -1/\sqrt{2} &amp; 0 &amp; 3/\sqrt{2} &amp; -1/\sqrt{2}<br>\end{pmatrix}$$<br>å¯ä»¥éªŒè¯åæ–¹å·®çŸ©é˜µCçš„å¯¹è§’åŒ–ï¼š<br>$$PCP^\mathsf{T}=\begin{pmatrix}<br>  1/\sqrt{2}  &amp; 1/\sqrt{2}  \\<br>  -1/\sqrt{2} &amp; 1/\sqrt{2}<br>\end{pmatrix}\begin{pmatrix}<br>  6/5 &amp; 4/5 \\<br>  4/5 &amp; 6/5<br>\end{pmatrix}\begin{pmatrix}<br>  1/\sqrt{2} &amp; -1/\sqrt{2}  \\<br>  1/\sqrt{2} &amp; 1/\sqrt{2}<br>\end{pmatrix}=\begin{pmatrix}<br>  2 &amp; 0  \\<br>  0 &amp; 2/5<br>\end{pmatrix}$$<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0/02.png"></p><h2 id="C-å®ç°"><a href="#C-å®ç°" class="headerlink" title="C++å®ç°"></a>C++å®ç°</h2><p>å› ä¸ºè¦å¯¹ä¸€ç»„å›¾ç‰‡ä¿¡æ¯è¿›è¡Œè®­ç»ƒï¼Œæ‰€ä»¥æˆ‘å†™äº†ä¸€éƒ¨åˆ†é€šè¿‡æ‘„åƒå¤´æˆªå–å›¾ç‰‡å¸§çš„ä»£ç ï¼Œ<code>get_img()</code>å‡½æ•°ã€‚è¿™é‡Œæå–äº†5ä¸ªç‰¹å¾è„¸å’Œä¸€ä¸ªå‡å€¼è„¸</p><pre><code class="line-numbers language-cpp">#include &lt;opencv2/core/core.hpp&gt;#include &lt;opencv2/highgui/highgui.hpp&gt;#include &lt;opencv2/imgproc/imgproc.hpp&gt;#include &lt;opencv2/objdetect/objdetect.hpp&gt;#include &lt;iostream&gt;#include &lt;fstream&gt;#include &lt;sstream&gt;#define img_num 300 //è®­ç»ƒå›¾ç‰‡çš„å¼ æ•°using namespace cv;using namespace std;//é€šè¿‡æ‘„åƒå¤´ä¿å­˜è¦è®­ç»ƒçš„å›¾ç‰‡//æ‰“å¼€æ‘„åƒå¤´int get_img()&#123;  VideoCapture cap(0);  if(!cap.isOpened())  &#123;    return -1;  &#125;  Mat frame;  bool stop = false;  int i = 1;  while(!stop)&#123;    cap &gt;&gt; frame;    printf(&quot;%d\n&quot;, i);    if (frame.empty())      stop = true;    //string filename = format(&quot;%d.jpg&quot;, i);    char filename[20];    sprintf(filename, &quot;Img/%d.jpg&quot;, i);    imwrite(filename, frame);    i++;    imshow(&quot;frame&quot;, frame);    waitKey(30);    if(i &gt; img_num)      break;  &#125;return -1;&#125;//æŠŠå›¾åƒå½’ä¸€åŒ–ä¸º0-255Mat norm_0_255(const Mat&amp; src)&#123;  Mat dst;  switch(src.channels())&#123;    case 1:        cv::normalize(src, dst, 0, 255, NORM_MINMAX, CV_8UC1);        break;    case 3:        cv::normalize(src, dst, 0, 255, NORM_MINMAX, CV_8UC3);        break;    default:        src.copyTo(dst);        break;  &#125;  return dst;&#125;//å°†ç»™å®šçš„å›¾åƒè½¬åŒ–ä¸ºè¡ŒçŸ©é˜µMat asRowMatrix(const vector&lt;Mat&gt;&amp; src, int rtype, double alpha = 1, double beta = 0)&#123;  // æ ·æœ¬æ•°é‡  size_t n = src.size();  //æ²¡æœ‰æ ·æœ¬ï¼Œè¿”å›ç©ºçŸ©é˜µ  if (n == 0)    return Mat();  //æ ·æœ¬çš„ç»´æ•°  size_t d = src[0].total();  Mat data(n, d, rtype);  //æ‹·è´æ•°æ®  for (int i = 0; i &lt; n; i++)&#123;    if(src[i].empty())&#123;      string error_message = format(&quot;Image number %d was empty, please check your input data.&quot;, i);      CV_Error(CV_StsBadArg, error_message);    &#125;    //ç¡®ä¿æ•°æ®èƒ½è¢«reshape    if(src[i].total() != d)&#123;      string error_message = format(&quot;Wrong number of elements in matrix #%d! Expected %d was %d.&quot;, i, d, src[i].total());      CV_Error(CV_StsBadArg, error_message);    &#125;    Mat xi = data.row(i);    //è½¬åŒ–ä¸º1è¡Œï¼Œnåˆ—çš„æ ¼å¼    if(src[i].isContinuous())&#123;      src[i].reshape(1, 1).convertTo(xi, rtype, alpha, beta);    &#125;    else &#123;      src[i].clone().reshape(1, 1).convertTo(xi, rtype, alpha, beta);    &#125;  &#125;  return data;&#125;int main(int argc, const char* argv[])&#123;  vector&lt;Mat&gt; db;  //get_img();  for(int i=1; i&lt;img_num;i++)&#123;    string filename = format(&quot;Img/%d.jpg&quot;, i);    db.push_back(imread(filename, IMREAD_GRAYSCALE));  &#125;  // Build a matrix with the observations in row:    Mat data = asRowMatrix(db, CV_32FC1);    // PCAç®—æ³•ä¿æŒ5ä¸»æˆåˆ†åˆ†é‡    int num_components = 5;    //æ‰§è¡Œpcaç®—æ³•    PCA pca(data, Mat(), CV_PCA_DATA_AS_ROW, num_components);    //copy  pcaç®—æ³•ç»“æœ    Mat mean = pca.mean.clone();    Mat eigenvalues = pca.eigenvalues.clone();    Mat eigenvectors = pca.eigenvectors.clone();        //å‡å€¼è„¸    imshow(&quot;avg&quot;, norm_0_255(mean.reshape(1, db[0].rows)));    //äº”ä¸ªç‰¹å¾è„¸    imshow(&quot;pc1&quot;, norm_0_255(pca.eigenvectors.row(0)).reshape(1, db[0].rows));    imshow(&quot;pc2&quot;, norm_0_255(pca.eigenvectors.row(1)).reshape(1, db[0].rows));    imshow(&quot;pc3&quot;, norm_0_255(pca.eigenvectors.row(2)).reshape(1, db[0].rows));    imshow(&quot;pc4&quot;, norm_0_255(pca.eigenvectors.row(3)).reshape(1, db[0].rows));    imshow(&quot;pc5&quot;, norm_0_255(pca.eigenvectors.row(4)).reshape(1, db[0].rows));    while(1)        waitKey(0);    // Success!    return 0;&#125;</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E7%AE%97%E6%B3%95%E5%AE%9E%E7%8E%B0/01.png"></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li><li><a href="https://godliuyang.wang/2019/08/05/pca-yuan-li-fen-xi/">PCAåŸç†åˆ†æ</a></li><li><a href="https://godliuyang.wang/2019/08/03/face-detection/">Face Detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> OpenCV </tag>
            
            <tag> c++ </tag>
            
            <tag> PCA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>PCAåŸç†åˆ†æ</title>
      <link href="/2019/08/05/pca-yuan-li-fen-xi/"/>
      <url>/2019/08/05/pca-yuan-li-fen-xi/</url>
      
        <content type="html"><![CDATA[<p>å‚è€ƒèµ„æ–™<br><a href="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/PCA.pdf">PCAåŸç†åˆ†æ</a></p><h1 id="PCAçš„æ•°å­¦åŸç†"><a href="#PCAçš„æ•°å­¦åŸç†" class="headerlink" title="PCAçš„æ•°å­¦åŸç†"></a>PCAçš„æ•°å­¦åŸç†</h1><p>PCAï¼ˆPrincipal Component Analysisï¼‰æ˜¯ä¸€ç§å¸¸ç”¨çš„æ•°æ®åˆ†ææ–¹æ³•ã€‚PCAé€šè¿‡çº¿æ€§å˜æ¢å°†åŸå§‹æ•°æ®å˜æ¢ä¸ºä¸€ç»„å„ç»´åº¦çº¿æ€§æ— å…³çš„è¡¨ç¤ºï¼Œå¯ç”¨äºæå–æ•°æ®çš„ä¸»è¦ç‰¹å¾åˆ†é‡ï¼Œå¸¸ç”¨äºé«˜ç»´æ•°æ®çš„é™ç»´ã€‚</p><h2 id="æ•°æ®çš„å‘é‡è¡¨ç¤ºä»¥åŠé™ç»´é—®é¢˜"><a href="#æ•°æ®çš„å‘é‡è¡¨ç¤ºä»¥åŠé™ç»´é—®é¢˜" class="headerlink" title="æ•°æ®çš„å‘é‡è¡¨ç¤ºä»¥åŠé™ç»´é—®é¢˜"></a>æ•°æ®çš„å‘é‡è¡¨ç¤ºä»¥åŠé™ç»´é—®é¢˜</h2><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œåœ¨æ•°æ®æŒ–æ˜å’Œæœºå™¨å­¦ä¹ ä¸­ï¼Œæ•°æ®è¢«è¡¨ç¤ºä¸ºå‘é‡ã€‚ä¾‹å¦‚æŸä¸ªå¤–å–å•†å®¶2018å¹´å…¨å¹´çš„æµé‡åŠäº¤æ˜“è®°å½•å¯ä»¥çœ‹æˆæ˜¯ä¸€ç»„æ•°æ®çš„é›†åˆï¼Œå…¶ä¸­æ¯ä¸€å¤©çš„æ•°æ®æ˜¯ä¸€æ¡è®°å½•ã€‚è®°å½•çš„æ ¼å¼å¦‚ä¸‹:<br>(æ—¥æœŸ, æµè§ˆé‡ï¼Œè®¿å®¢æ•°ï¼Œä¸‹å•æ•°ï¼Œæˆäº¤æ•°ï¼Œæˆäº¤é‡‘é¢)<br>å…¶ä¸­â€æ—¥æœŸâ€æ˜¯ä¸€ä¸ªè®°å½•æ ‡å¿—è€Œéåº¦é‡å€¼ï¼Œè€Œæ•°æ®æŒ–æ˜å…³å¿ƒçš„å¤§å¤šæ˜¯åº¦é‡å€¼ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬å¿½ç•¥æ—¥æœŸè¿™ä¸ªå­—æ®µåï¼Œæˆ‘ä»¬å¾—åˆ°ä¸€ç»„è®°å½•ï¼Œæ¯æ¡è®°å½•å¯ä»¥è¢«è¡¨ç¤ºä¸ºä¸€ä¸ªäº”ç»´å‘é‡ï¼Œå…¶ä¸­ä¸€æ¡çœ‹èµ·æ¥å¤§çº¦æ˜¯è¿™ä¸ªæ ·å­ï¼š<br>$$(1000, 580, 300, 240, 3000)^T$$<br>æ³¨æ„è¿™é‡Œç”¨äº†è½¬ç½®ï¼Œä¹ æƒ¯ä¸Šä½¿ç”¨åˆ—å‘é‡æ¥è¡¨ç¤ºä¸€æ¡è®°å½•ã€‚æœ¬æ–‡è¯´åˆ°çš„å‘é‡é»˜è®¤éƒ½æ˜¯åˆ—å‘é‡ã€‚    </p><p>æˆ‘ä»¬å½“ç„¶å¯ä»¥å¯¹è¿™ä¸€ç»„äº”ç»´å‘é‡è¿›è¡Œåˆ†æå’ŒæŒ–æ˜ï¼Œä¸è¿‡å¾ˆå¤šæœºå™¨å­¦ä¹ ç®—æ³•çš„å¤æ‚åº¦å’Œæ•°æ®çš„ç»´æ•°æœ‰ç€å¯†åˆ‡å…³ç³»ï¼Œç”šè‡³ä¸ç»´æ•°å‘ˆæŒ‡æ•°çº§å…³è”ã€‚å½“ç„¶ï¼Œè¿™é‡ŒåŒºåŒºäº”ç»´çš„æ•°æ®ï¼Œä¹Ÿè®¸è¿˜æ— æ‰€è°“ï¼Œä½†æ˜¯å®é™…æœºå™¨å­¦ä¹ ä¸­å¤„ç†æˆåƒä¸Šä¸‡ç”šè‡³å‡ åä¸‡ç»´çš„æƒ…å†µä¹Ÿå¹¶ä¸ç½•è§ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæœºå™¨å­¦ä¹ çš„èµ„æºæ¶ˆè€—æ˜¯ä¸å¯æ¥å—çš„ï¼Œå› æ­¤æˆ‘ä»¬å¿…é¡»å¯¹æ•°æ®è¿›è¡Œé™ç»´ã€‚</p><p>é™ç»´å½“ç„¶æ„å‘³ç€ä¿¡æ¯çš„ä¸¢å¤±ï¼Œä¸è¿‡é‰´äºå®é™…æ•°æ®æœ¬èº«å¸¸å¸¸å­˜åœ¨çš„ç›¸å…³æ€§ï¼Œæˆ‘ä»¬å¯ä»¥æƒ³åŠæ³•åœ¨é™ç»´çš„åŒæ—¶å°†ä¿¡æ¯çš„æŸå¤±å°½é‡é™ä½ã€‚    </p><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œå‡å¦‚æŸå­¦ç±æ•°æ®æœ‰ä¸¤åˆ—Må’ŒFï¼Œå…¶ä¸­Måˆ—çš„å–å€¼æ˜¯å¦‚ä½•æ­¤å­¦ç”Ÿä¸ºç”·æ€§å–å€¼1ï¼Œä¸ºå¥³æ€§å–å€¼0ï¼›è€ŒFåˆ—æ˜¯å­¦ç”Ÿä¸ºå¥³æ€§å–å€¼1ï¼Œç”·æ€§å–å€¼0ã€‚æ­¤æ—¶å¦‚æœæˆ‘ä»¬ç»Ÿè®¡å…¨éƒ¨å­¦ç±æ•°æ®ï¼Œä¼šå‘ç°å¯¹äºä»»ä½•ä¸€æ¡è®°å½•æ¥è¯´ï¼Œå½“Mä¸º1æ—¶Få¿…å®šä¸º0ï¼Œåä¹‹å½“Mä¸º0æ—¶Få¿…å®šä¸º1ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†Mæˆ–Få»æ‰å®é™…ä¸Šæ²¡æœ‰ä»»ä½•ä¿¡æ¯çš„æŸå¤±ï¼Œå› ä¸ºåªè¦ä¿ç•™ä¸€åˆ—å°±å¯ä»¥å®Œå…¨è¿˜åŸå¦ä¸€åˆ—ã€‚<br>å½“ç„¶ä¸Šé¢æ˜¯ä¸€ä¸ªæç«¯çš„æƒ…å†µï¼Œåœ¨ç°å®ä¸­ä¹Ÿè®¸ä¸ä¼šå‡ºç°ï¼Œä¸è¿‡ç±»ä¼¼çš„æƒ…å†µè¿˜æ˜¯å¾ˆå¸¸è§çš„ã€‚ä¾‹å¦‚ä¸Šé¢æ·˜å®åº—é“ºçš„æ•°æ®ï¼Œä»ç»éªŒæˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼Œâ€œæµè§ˆé‡â€å’Œâ€œè®¿å®¢æ•°â€å¾€å¾€å…·æœ‰è¾ƒå¼ºçš„ç›¸å…³å…³ç³»ï¼Œè€Œâ€œä¸‹å•æ•°â€å’Œâ€œæˆäº¤æ•°â€ä¹Ÿå…·æœ‰è¾ƒå¼ºçš„ç›¸å…³å…³ç³»ã€‚è¿™é‡Œæˆ‘ä»¬éæ­£å¼çš„ä½¿ç”¨â€œ <strong>ç›¸å…³å…³ç³»</strong>â€è¿™ä¸ªè¯ï¼Œå¯ä»¥ç›´è§‚ç†è§£ä¸ºâ€œå½“æŸä¸€å¤©è¿™ä¸ªåº—é“ºçš„æµè§ˆé‡è¾ƒé«˜ï¼ˆæˆ–è¾ƒä½ï¼‰æ—¶ï¼Œæˆ‘ä»¬åº”è¯¥å¾ˆå¤§ç¨‹åº¦ä¸Šè®¤ä¸ºè¿™å¤©çš„è®¿å®¢æ•°ä¹Ÿè¾ƒé«˜ï¼ˆæˆ–è¾ƒä½ï¼‰â€ã€‚<br>è¿™ç§æƒ…å†µè¡¨æ˜ï¼Œå¦‚æœæˆ‘ä»¬åˆ é™¤æµè§ˆé‡æˆ–è®¿å®¢æ•°å…¶ä¸­ä¸€ä¸ªæŒ‡æ ‡ï¼Œæˆ‘ä»¬åº”è¯¥æœŸå¾…å¹¶ä¸ä¼šä¸¢å¤±å¤ªå¤šä¿¡æ¯ã€‚å› æ­¤æˆ‘ä»¬å¯ä»¥åˆ é™¤ä¸€ä¸ªï¼Œä»¥é™ä½æœºå™¨å­¦ä¹ ç®—æ³•çš„å¤æ‚åº¦ã€‚    </p><p>ä¸Šé¢ç»™å‡ºçš„æ˜¯é™ç»´çš„æœ´ç´ æ€æƒ³æè¿°ï¼Œå¯ä»¥æœ‰åŠ©äºç›´è§‚ç†è§£é™ç»´çš„åŠ¨æœºå’Œå¯è¡Œæ€§ï¼Œä½†å¹¶ä¸å…·æœ‰æ“ä½œæŒ‡å¯¼æ„ä¹‰ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬åˆ°åº•åˆ é™¤å“ªä¸€åˆ—æŸå¤±çš„ä¿¡æ¯æ‰æœ€å°ï¼Ÿäº¦æˆ–æ ¹æœ¬ä¸æ˜¯å•çº¯åˆ é™¤å‡ åˆ—ï¼Œè€Œæ˜¯é€šè¿‡æŸäº›å˜æ¢å°†åŸå§‹æ•°æ®å˜ä¸ºæ›´å°‘çš„åˆ—ä½†åˆä½¿å¾—ä¸¢å¤±çš„ä¿¡æ¯æœ€å°ï¼Ÿåˆ°åº•å¦‚ä½•åº¦é‡ä¸¢å¤±ä¿¡æ¯çš„å¤šå°‘ï¼Ÿå¦‚ä½•æ ¹æ®åŸå§‹æ•°æ®å†³å®šå…·ä½“çš„é™ç»´æ“ä½œæ­¥éª¤ï¼Ÿä¸‹é¢å¯¹é™ç»´é—®é¢˜è¿›è¡Œæ•°å­¦åŒ–å’Œå½¢å¼åŒ–çš„è®¨è®º</p><h2 id="å‘é‡çš„è¡¨ç¤ºåŠåŸºå˜æ¢"><a href="#å‘é‡çš„è¡¨ç¤ºåŠåŸºå˜æ¢" class="headerlink" title="å‘é‡çš„è¡¨ç¤ºåŠåŸºå˜æ¢"></a>å‘é‡çš„è¡¨ç¤ºåŠåŸºå˜æ¢</h2><h3 id="å†…ç§¯ä¸æŠ•å½±"><a href="#å†…ç§¯ä¸æŠ•å½±" class="headerlink" title="å†…ç§¯ä¸æŠ•å½±"></a>å†…ç§¯ä¸æŠ•å½±</h3><p>ä¸‹é¢å…ˆæ¥çœ‹ä¸€ä¸ªé«˜ä¸­å°±å­¦è¿‡çš„å‘é‡è¿ç®—ï¼šå†…ç§¯ã€‚ä¸¤ä¸ªç»´æ•°ç›¸åŒçš„å‘é‡çš„å†…ç§¯è¢«å®šä¹‰ä¸ºï¼š</p><p>$$(a_1, a_2, \dots ,a_n)^T \cdot (b_1, b_2, \dots , b_n)^T = a_1b_1 + a_2b_2 + \dots + a_nb_n)$$<br>å†…ç§¯è¿ç®—å°†ä¸¤ä¸ªå‘é‡æ˜ å°„ä¸ºä¸€ä¸ªå®æ•°ã€‚å…¶è®¡ç®—æ–¹å¼éå¸¸å®¹æ˜“ç†è§£ï¼Œä½†æ˜¯å…¶æ„ä¹‰å¹¶ä¸æ˜æ˜¾ã€‚ä¸‹é¢æˆ‘ä»¬åˆ†æå†…ç§¯çš„å‡ ä½•æ„ä¹‰ã€‚å‡è®¾Aå’ŒBæ˜¯ä¸¤ä¸ªnç»´å‘é‡ï¼Œæˆ‘ä»¬çŸ¥é“nç»´å‘é‡å¯ä»¥ç­‰ä»·è¡¨ç¤ºä¸ºnç»´ç©ºé—´ä¸­çš„ä¸€æ¡ä»åŸç‚¹å‘å°„çš„æœ‰å‘çº¿æ®µï¼Œä¸ºäº†ç®€å•èµ·è§æˆ‘ä»¬å‡è®¾Aå’ŒBå‡ä¸ºäºŒç»´å‘é‡,åˆ™ $A = (x_1,y_1)$, $B = (x_2,y_2)$. åˆ™åœ¨äºŒç»´å¹³é¢ä¸ŠAå’ŒBå¯ä»¥ç”¨ä¸¤æ¡å‘è‡ªåŸç‚¹çš„æœ‰å‘çº¿æ®µè¡¨ç¤ºï¼Œè§ä¸‹å›¾ï¼š<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/01.png"><br>å¥½ï¼Œç°åœ¨æˆ‘ä»¬ä»Aç‚¹å‘Bæ‰€åœ¨ç›´çº¿å¼•ä¸€æ¡å‚çº¿ã€‚æˆ‘ä»¬çŸ¥é“å‚çº¿ä¸Bçš„äº¤ç‚¹å«åšAåœ¨Bä¸Šçš„æŠ•å½±ï¼Œå†è®¾Aä¸Bçš„å¤¹è§’æ˜¯aï¼Œåˆ™æŠ•å½±çš„çŸ¢é‡é•¿åº¦ä¸º|A|cos(a),å…¶ä¸­ $|A| = \sqrt{x_1^2 + y_1^2}$ æ˜¯å‘é‡Açš„æ¨¡ï¼Œä¹Ÿå°±æ˜¯Açº¿æ®µçš„æ ‡é‡é•¿åº¦ã€‚<br>æ³¨æ„è¿™é‡Œæˆ‘ä»¬ä¸“é—¨åŒºåˆ†äº†çŸ¢é‡é•¿åº¦å’Œæ ‡é‡é•¿åº¦ï¼Œæ ‡é‡é•¿åº¦æ€»æ˜¯å¤§äºç­‰äº0ï¼Œå€¼å°±æ˜¯çº¿æ®µçš„é•¿åº¦ï¼›è€ŒçŸ¢é‡é•¿åº¦å¯èƒ½ä¸ºè´Ÿï¼Œå…¶ç»å¯¹å€¼æ˜¯çº¿æ®µé•¿åº¦ï¼Œè€Œç¬¦å·å–å†³äºå…¶æ–¹å‘ä¸æ ‡å‡†æ–¹å‘ç›¸åŒæˆ–ç›¸åã€‚<br>åˆ°è¿™é‡Œè¿˜æ˜¯çœ‹ä¸å‡ºå†…ç§¯å’Œè¿™ä¸œè¥¿æœ‰ä»€ä¹ˆå…³ç³»ï¼Œä¸è¿‡å¦‚æœæˆ‘ä»¬å°†å†…ç§¯è¡¨ç¤ºä¸ºå¦ä¸€ç§æˆ‘ä»¬ç†Ÿæ‚‰çš„å½¢å¼ï¼š<br>$$ A \cdot B = |A||B|cos(a)$$</p><p>ç°åœ¨äº‹æƒ…ä¼¼ä¹æ˜¯æœ‰ç‚¹çœ‰ç›®äº†ï¼šAä¸Bçš„å†…ç§¯ç­‰äºAåˆ°Bçš„æŠ•å½±é•¿åº¦ä¹˜ä»¥Bçš„æ¨¡ã€‚å†è¿›ä¸€æ­¥ï¼Œå¦‚æœæˆ‘ä»¬å‡è®¾Bçš„æ¨¡ä¸º1ï¼Œå³è®©|B|=1ï¼Œé‚£ä¹ˆå°±å˜æˆäº†ï¼š<br>$$A \cdot B = |A|cos(a)$$<br>ä¹Ÿå°±æ˜¯è¯´ï¼Œ <strong>è®¾å‘é‡Bçš„æ¨¡ä¸º1ï¼Œåˆ™Aä¸Bçš„å†…ç§¯å€¼ç­‰äºAå‘Bæ‰€åœ¨ç›´çº¿æŠ•å½±çš„çŸ¢é‡é•¿åº¦ï¼</strong>è¿™å°±æ˜¯å†…ç§¯çš„ä¸€ç§å‡ ä½•è§£é‡Šï¼Œä¹Ÿæ˜¯æˆ‘ä»¬å¾—åˆ°çš„ç¬¬ä¸€ä¸ªé‡è¦ç»“è®ºã€‚åœ¨åé¢çš„æ¨å¯¼ä¸­ï¼Œå°†åå¤ä½¿ç”¨è¿™ä¸ªç»“è®ºã€‚</p><h3 id="åŸº"><a href="#åŸº" class="headerlink" title="åŸº"></a>åŸº</h3><p>ä¸‹é¢æˆ‘ä»¬ç»§ç»­åœ¨äºŒç»´ç©ºé—´å†…è®¨è®ºå‘é‡ã€‚ä¸Šæ–‡è¯´è¿‡ï¼Œä¸€ä¸ªäºŒç»´å‘é‡å¯ä»¥å¯¹åº”äºŒç»´ç¬›å¡å°”ç›´è§’åæ ‡ç³»ä¸­ä»åŸç‚¹å‡ºå‘çš„ä¸€ä¸ªæœ‰å‘çº¿æ®µã€‚ä¾‹å¦‚ä¸‹é¢è¿™ä¸ªå‘é‡ï¼š<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/02.png"><br>åœ¨ä»£æ•°è¡¨ç¤ºæ–¹é¢ï¼Œæˆ‘ä»¬ç»å¸¸ç”¨çº¿æ®µç»ˆç‚¹çš„ç‚¹åæ ‡è¡¨ç¤ºå‘é‡ï¼Œä¾‹å¦‚ä¸Šé¢çš„å‘é‡å¯ä»¥è¡¨ç¤ºä¸º(3,2)ï¼Œè¿™æ˜¯æˆ‘ä»¬å†ç†Ÿæ‚‰ä¸è¿‡çš„å‘é‡è¡¨ç¤ºã€‚<br>ä¸è¿‡æˆ‘ä»¬å¸¸å¸¸å¿½ç•¥ï¼Œ <strong>åªæœ‰ä¸€ä¸ª(3,2)æœ¬èº«æ˜¯ä¸èƒ½å¤Ÿç²¾ç¡®è¡¨ç¤ºä¸€ä¸ªå‘é‡çš„</strong>ã€‚æˆ‘ä»¬ä»”ç»†çœ‹ä¸€ä¸‹ï¼Œè¿™é‡Œçš„3å®é™…è¡¨ç¤ºçš„æ˜¯å‘é‡åœ¨xè½´ä¸Šçš„æŠ•å½±å€¼æ˜¯3ï¼Œåœ¨yè½´ä¸Šçš„æŠ•å½±å€¼æ˜¯2ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å…¶å®éšå¼å¼•å…¥äº†ä¸€ä¸ªå®šä¹‰ï¼šä»¥xè½´å’Œyè½´ä¸Šæ­£æ–¹å‘é•¿åº¦ä¸º1çš„å‘é‡ä¸ºæ ‡å‡†ã€‚é‚£ä¹ˆä¸€ä¸ªå‘é‡(3,2)å®é™…æ˜¯è¯´åœ¨xè½´æŠ•å½±ä¸º3è€Œyè½´çš„æŠ•å½±ä¸º2ã€‚æ³¨æ„æŠ•å½±æ˜¯ä¸€ä¸ªçŸ¢é‡ï¼Œæ‰€ä»¥å¯ä»¥ä¸ºè´Ÿã€‚<br>æ›´æ­£å¼çš„è¯´ï¼Œå‘é‡(x,y)å®é™…ä¸Šè¡¨ç¤ºçº¿æ€§ç»„åˆï¼š<br>$$x(1,0)^T + y(0,1)^T$$<br>ä¸éš¾è¯æ˜æ‰€æœ‰äºŒç»´å‘é‡éƒ½å¯ä»¥è¡¨ç¤ºä¸ºè¿™æ ·çš„çº¿æ€§ç»„åˆã€‚æ­¤å¤„(1,0)å’Œ(0,1)å«åšäºŒç»´ç©ºé—´ä¸­çš„ä¸€ç»„åŸºã€‚<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/03.png"><br>æ‰€ä»¥ï¼Œ <strong>è¦å‡†ç¡®æè¿°å‘é‡ï¼Œé¦–å…ˆè¦ç¡®å®šä¸€ç»„åŸºï¼Œç„¶åç»™å‡ºåœ¨åŸºæ‰€åœ¨çš„å„ä¸ªç›´çº¿ä¸Šçš„æŠ•å½±å€¼ï¼Œå°±å¯ä»¥äº†</strong>ã€‚åªä¸è¿‡æˆ‘ä»¬ç»å¸¸çœç•¥ç¬¬ä¸€æ­¥ï¼Œè€Œé»˜è®¤ä»¥(1,0)å’Œ(0,1)ä¸ºåŸºã€‚<br>æˆ‘ä»¬ä¹‹æ‰€ä»¥é»˜è®¤é€‰æ‹©(1,0)å’Œ(0,1)ä¸ºåŸºï¼Œå½“ç„¶æ˜¯æ¯”è¾ƒæ–¹ä¾¿ï¼Œå› ä¸ºå®ƒä»¬åˆ†åˆ«æ˜¯xå’Œyè½´æ­£æ–¹å‘ä¸Šçš„å•ä½å‘é‡ï¼Œå› æ­¤å°±ä½¿å¾—äºŒç»´å¹³é¢ä¸Šç‚¹åæ ‡å’Œå‘é‡ä¸€ä¸€å¯¹åº”ï¼Œéå¸¸æ–¹ä¾¿ã€‚ä½†å®é™…ä¸Šä»»ä½•ä¸¤ä¸ªçº¿æ€§æ— å…³çš„äºŒç»´å‘é‡éƒ½å¯ä»¥æˆä¸ºä¸€ç»„åŸºï¼Œæ‰€è°“çº¿æ€§æ— å…³åœ¨äºŒç»´å¹³é¢å†…å¯ä»¥ç›´è§‚è®¤ä¸ºæ˜¯ä¸¤ä¸ªä¸åœ¨ä¸€æ¡ç›´çº¿ä¸Šçš„å‘é‡ã€‚    </p><p>ä¾‹å¦‚ï¼Œ(1,1)å’Œ(-1,1)ä¹Ÿå¯ä»¥æˆä¸ºä¸€ç»„åŸºã€‚ä¸€èˆ¬æ¥è¯´ï¼Œæˆ‘ä»¬å¸Œæœ›åŸºçš„æ¨¡æ˜¯1ï¼Œå› ä¸ºä»å†…ç§¯çš„æ„ä¹‰å¯ä»¥çœ‹åˆ°ï¼Œå¦‚æœåŸºçš„æ¨¡æ˜¯1ï¼Œé‚£ä¹ˆå°±å¯ä»¥æ–¹ä¾¿çš„ç”¨å‘é‡ç‚¹ä¹˜åŸºè€Œç›´æ¥è·å¾—å…¶åœ¨æ–°åŸºä¸Šçš„åæ ‡äº†ï¼å®é™…ä¸Šï¼Œå¯¹åº”ä»»ä½•ä¸€ä¸ªå‘é‡æˆ‘ä»¬æ€»å¯ä»¥æ‰¾åˆ°å…¶åŒæ–¹å‘ä¸Šæ¨¡ä¸º1çš„å‘é‡ï¼Œåªè¦è®©ä¸¤ä¸ªåˆ†é‡åˆ†åˆ«é™¤ä»¥æ¨¡å°±å¥½äº†ã€‚ä¾‹å¦‚ï¼Œä¸Šé¢çš„åŸºå¯ä»¥å˜ä¸º $(\frac{1}{\sqrt 2},\frac{1}{\sqrt 2})$ å’Œ $(\frac{-1}{\sqrt 2},\frac{1}{\sqrt 2})$.<br>ç°åœ¨ï¼Œæˆ‘ä»¬æƒ³è·å¾—(3,2)åœ¨æ–°åŸºä¸Šçš„åæ ‡ï¼Œå³åœ¨ä¸¤ä¸ªæ–¹å‘ä¸Šçš„æŠ•å½±çŸ¢é‡å€¼ï¼Œé‚£ä¹ˆæ ¹æ®å†…ç§¯çš„å‡ ä½•æ„ä¹‰ï¼Œæˆ‘ä»¬åªè¦åˆ†åˆ«è®¡ç®—(3,2)å’Œä¸¤ä¸ªåŸºçš„å†…ç§¯ï¼Œä¸éš¾å¾—åˆ°æ–°çš„åæ ‡ä¸º $(\frac{5}{\sqrt 2},\frac{-1}{\sqrt 2})$ã€‚ä¸‹å›¾ç»™å‡ºäº†æ–°çš„åŸºä»¥åŠ(3,2)åœ¨æ–°åŸºä¸Šåæ ‡å€¼çš„ç¤ºæ„å›¾ï¼š<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/05.png"><br>ä¸€è¦æ±‚å°±æ˜¯çº¿æ€§æ— å…³ï¼Œéæ­£äº¤çš„åŸºä¹Ÿæ˜¯å¯ä»¥çš„ã€‚ä¸è¿‡å› ä¸ºæ­£äº¤åŸºæœ‰è¾ƒå¥½çš„æ€§è´¨ï¼Œæ‰€ä»¥ä¸€èˆ¬ä½¿ç”¨çš„åŸºéƒ½æ˜¯æ­£äº¤çš„ã€‚</p><h3 id="åŸºå˜æ¢çš„çŸ©é˜µè¡¨ç¤º"><a href="#åŸºå˜æ¢çš„çŸ©é˜µè¡¨ç¤º" class="headerlink" title="åŸºå˜æ¢çš„çŸ©é˜µè¡¨ç¤º"></a>åŸºå˜æ¢çš„çŸ©é˜µè¡¨ç¤º</h3><p>ä¸‹é¢æˆ‘ä»¬æ‰¾ä¸€ç§ç®€ä¾¿çš„æ–¹å¼æ¥è¡¨ç¤ºåŸºå˜æ¢ã€‚è¿˜æ˜¯æ‹¿ä¸Šé¢çš„ä¾‹å­ï¼Œæƒ³ä¸€ä¸‹ï¼Œå°†(3,2)å˜æ¢ä¸ºæ–°åŸºä¸Šçš„åæ ‡ï¼Œå°±æ˜¯ç”¨(3,2)ä¸ç¬¬ä¸€ä¸ªåŸºåšå†…ç§¯è¿ç®—ï¼Œä½œä¸ºç¬¬ä¸€ä¸ªæ–°çš„åæ ‡åˆ†é‡ï¼Œç„¶åç”¨(3,2)ä¸ç¬¬äºŒä¸ªåŸºåšå†…ç§¯è¿ç®—ï¼Œä½œä¸ºç¬¬äºŒä¸ªæ–°åæ ‡çš„åˆ†é‡ã€‚å®é™…ä¸Šï¼Œæˆ‘ä»¬å¯ä»¥ç”¨çŸ©é˜µç›¸ä¹˜çš„å½¢å¼ç®€æ´çš„è¡¨ç¤ºè¿™ä¸ªå˜æ¢ï¼š<br>$$\begin{pmatrix}<br>1/ \sqrt 2 &amp; 1/ \sqrt 2 \\<br>-1/ \sqrt 2 &amp; 1/ \sqrt 2 \<br>\end{pmatrix}<br>\begin{pmatrix}<br>3 \\<br>2 \<br>\end{pmatrix} = \begin{pmatrix}<br>5 / \sqrt 2 \\<br>-1/ \sqrt 2 \<br>\end{pmatrix}$$</p><p>å¤ªæ¼‚äº®äº†ï¼å…¶ä¸­çŸ©é˜µçš„ä¸¤è¡Œåˆ†åˆ«ä¸ºä¸¤ä¸ªåŸºï¼Œä¹˜ä»¥åŸå‘é‡ï¼Œå…¶ç»“æœåˆšå¥½ä¸ºæ–°åŸºçš„åæ ‡ã€‚å¯ä»¥ç¨å¾®æ¨å¹¿ä¸€ä¸‹ï¼Œå¦‚æœæˆ‘ä»¬æœ‰mä¸ªäºŒç»´å‘é‡ï¼Œåªè¦å°†äºŒç»´å‘é‡æŒ‰åˆ—æ’æˆä¸€ä¸ªä¸¤è¡Œmåˆ—çŸ©é˜µï¼Œç„¶åç”¨â€œåŸºçŸ©é˜µâ€ä¹˜ä»¥è¿™ä¸ªçŸ©é˜µï¼Œå°±å¾—åˆ°äº†æ‰€æœ‰è¿™äº›å‘é‡åœ¨æ–°åŸºä¸‹çš„å€¼ã€‚ä¾‹å¦‚ $(1,1)ï¼Œ(2,2)ï¼Œ(3,3)$ï¼Œæƒ³å˜æ¢åˆ°åˆšæ‰é‚£ç»„åŸºä¸Šï¼Œåˆ™å¯ä»¥è¿™æ ·è¡¨ç¤ºï¼š</p><p>$$\begin{pmatrix}<br>1 / \sqrt 2 &amp; 1/ \sqrt 2 \\<br>-1 / \sqrt 2 &amp; 1/ \sqrt 2 \<br>\end{pmatrix}<br>\begin{pmatrix}<br>1 &amp; 2 &amp; 3 \\<br>1 &amp; 2 &amp; 3 \<br>\end{pmatrix} = \begin{pmatrix}<br>2 / \sqrt 2 &amp; 4 / \sqrt 2 &amp; 6 / \sqrt 2 \\<br>0 &amp; 0 &amp; 0 \<br>\end{pmatrix}$$</p><p>äºæ˜¯ä¸€ç»„å‘é‡çš„åŸºå˜æ¢è¢«å¹²å‡€çš„è¡¨ç¤ºä¸ºçŸ©é˜µçš„ç›¸ä¹˜ã€‚<br><strong>ä¸€èˆ¬çš„ï¼Œå¦‚æœæˆ‘ä»¬æœ‰Mä¸ªNç»´å‘é‡ï¼Œæƒ³å°†å…¶å˜æ¢ä¸ºç”±Rä¸ªNç»´å‘é‡è¡¨ç¤ºçš„æ–°ç©ºé—´ä¸­ï¼Œé‚£ä¹ˆé¦–å…ˆå°†Rä¸ªåŸºæŒ‰è¡Œç»„æˆçŸ©é˜µAï¼Œç„¶åå°†å‘é‡æŒ‰åˆ—ç»„æˆçŸ©é˜µBï¼Œé‚£ä¹ˆä¸¤çŸ©é˜µçš„ä¹˜ç§¯ABå°±æ˜¯å˜æ¢ç»“æœï¼Œå…¶ä¸­ABçš„ç¬¬måˆ—ä¸ºAä¸­ç¬¬måˆ—å˜æ¢åçš„ç»“æœã€‚</strong><br>æ•°å­¦è¡¨ç¤ºä¸ºï¼š<br>$$\begin{pmatrix}<br>p_1 \\<br>p_2 \\<br>\vdots \\<br>p_R \<br>\end{pmatrix}<br>\begin{pmatrix}<br>a_1 &amp; a_2 &amp; \dots &amp; a_M \<br>\end{pmatrix} = \begin{pmatrix}<br>p_1a_1 &amp; p_1a_2 &amp; \dots &amp; p_1a_M \\<br>p_2a_1 &amp; p_2a_2 &amp; \dots &amp; p_2a_M \\<br>\vdots &amp; \vdots &amp; \ddots &amp; \vdots \\<br>p_Ra_1 &amp; p_Ra_2 &amp; \dots &amp; p_Ra_M \<br>\end{pmatrix}$$<br>å…¶ä¸­ $p_i$æ˜¯ä¸€ä¸ªè¡Œå‘é‡ï¼Œè¡¨ç¤ºç¬¬iä¸ªåŸºï¼Œ $a_j$æ˜¯ä¸€ä¸ªåˆ—å‘é‡ï¼Œè¡¨ç¤ºç¬¬jä¸ªåŸå§‹æ•°æ®è®°å½•ã€‚<br>ç‰¹åˆ«è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡ŒRå¯ä»¥å°äºNï¼Œè€ŒRå†³å®šäº†å˜æ¢åæ•°æ®çš„ç»´æ•°ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥å°†ä¸€Nç»´æ•°æ®å˜æ¢åˆ°æ›´ä½ç»´åº¦çš„ç©ºé—´ä¸­å»ï¼Œå˜æ¢åçš„ç»´åº¦å–å†³äºåŸºçš„æ•°é‡ã€‚å› æ­¤è¿™ç§çŸ©é˜µç›¸ä¹˜çš„è¡¨ç¤ºä¹Ÿå¯ä»¥è¡¨ç¤ºé™ç»´å˜æ¢ã€‚<br>æœ€åï¼Œä¸Šè¿°åˆ†æåŒæ—¶ç»™çŸ©é˜µç›¸ä¹˜æ‰¾åˆ°äº†ä¸€ç§ç‰©ç†è§£é‡Šï¼š <strong>ä¸¤ä¸ªçŸ©é˜µç›¸ä¹˜çš„æ„ä¹‰æ˜¯å°†å³è¾¹çŸ©é˜µä¸­çš„æ¯ä¸€åˆ—åˆ—å‘é‡å˜æ¢åˆ°å·¦è¾¹çŸ©é˜µä¸­æ¯ä¸€è¡Œè¡Œå‘é‡ä¸ºåŸºæ‰€è¡¨ç¤ºçš„ç©ºé—´ä¸­å»</strong>ã€‚æ›´æŠ½è±¡çš„è¯´ï¼Œä¸€ä¸ªçŸ©é˜µå¯ä»¥è¡¨ç¤ºä¸€ç§çº¿æ€§å˜æ¢ã€‚å¾ˆå¤šåŒå­¦åœ¨å­¦çº¿æ€§ä»£æ•°æ—¶å¯¹çŸ©é˜µç›¸ä¹˜çš„æ–¹æ³•æ„Ÿåˆ°å¥‡æ€ªï¼Œä½†æ˜¯å¦‚æœæ˜ç™½äº†çŸ©é˜µç›¸ä¹˜çš„ç‰©ç†æ„ä¹‰ï¼Œå…¶åˆç†æ€§å°±ä¸€ç›®äº†ç„¶äº†ã€‚    </p><h3 id="åæ–¹å·®çŸ©é˜µåŠä¼˜åŒ–ç›®æ ‡"><a href="#åæ–¹å·®çŸ©é˜µåŠä¼˜åŒ–ç›®æ ‡" class="headerlink" title="åæ–¹å·®çŸ©é˜µåŠä¼˜åŒ–ç›®æ ‡"></a>åæ–¹å·®çŸ©é˜µåŠä¼˜åŒ–ç›®æ ‡</h3><p>ä¸Šé¢æˆ‘ä»¬è®¨è®ºäº†é€‰æ‹©ä¸åŒçš„åŸºå¯ä»¥å¯¹åŒæ ·ä¸€ç»„æ•°æ®ç»™å‡ºä¸åŒçš„è¡¨ç¤ºï¼Œè€Œä¸”å¦‚æœåŸºçš„æ•°é‡å°‘äºå‘é‡æœ¬èº«çš„ç»´æ•°ï¼Œåˆ™å¯ä»¥è¾¾åˆ°é™ç»´çš„æ•ˆæœã€‚ä½†æ˜¯æˆ‘ä»¬è¿˜æ²¡æœ‰å›ç­”ä¸€ä¸ªæœ€æœ€å…³é”®çš„é—®é¢˜ï¼šå¦‚ä½•é€‰æ‹©åŸºæ‰æ˜¯æœ€ä¼˜çš„ã€‚æˆ–è€…è¯´ï¼Œå¦‚æœæˆ‘ä»¬æœ‰ä¸€ç»„Nç»´å‘é‡ï¼Œç°åœ¨è¦å°†å…¶é™åˆ°Kç»´ï¼ˆKå°äºNï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥å¦‚ä½•é€‰æ‹©Kä¸ªåŸºæ‰èƒ½æœ€å¤§ç¨‹åº¦ä¿ç•™åŸæœ‰çš„ä¿¡æ¯ï¼Ÿ<br>è¦å®Œå…¨æ•°å­¦åŒ–è¿™ä¸ªé—®é¢˜éå¸¸ç¹æ‚ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨ä¸€ç§éå½¢å¼åŒ–çš„ç›´è§‚æ–¹æ³•æ¥çœ‹è¿™ä¸ªé—®é¢˜ã€‚</p><p>ä¸ºäº†é¿å…è¿‡äºæŠ½è±¡çš„è®¨è®ºï¼Œæˆ‘ä»¬ä»ä»¥ä¸€ä¸ªå…·ä½“çš„ä¾‹å­å±•å¼€ã€‚å‡è®¾æˆ‘ä»¬çš„æ•°æ®ç”±äº”æ¡è®°å½•ç»„æˆï¼Œå°†å®ƒä»¬è¡¨ç¤ºæˆçŸ©é˜µå½¢å¼ï¼š<br>$$ \begin{pmatrix}<br>1 &amp; 1 &amp;2 &amp; 4 &amp; 2 \\<br>1 &amp; 3 &amp; 3 &amp; 4 &amp; 4 \<br>\end{pmatrix}$$<br>å…¶ä¸­æ¯ä¸€åˆ—ä¸ºä¸€æ¡æ•°æ®è®°å½•ï¼Œè€Œä¸€è¡Œä¸ºä¸€ä¸ªå­—æ®µã€‚ä¸ºäº†åç»­å¤„ç†æ–¹ä¾¿ï¼Œæˆ‘ä»¬é¦–å…ˆå°†æ¯ä¸ªå­—æ®µå†…æ‰€æœ‰å€¼éƒ½å‡å»å­—æ®µå‡å€¼ï¼Œå…¶ç»“æœæ˜¯å°†æ¯ä¸ªå­—æ®µéƒ½å˜ä¸ºå‡å€¼ä¸º0ï¼ˆè¿™æ ·åšçš„é“ç†å’Œå¥½å¤„åé¢ä¼šçœ‹åˆ°ï¼‰ã€‚<br>æˆ‘ä»¬çœ‹ä¸Šé¢çš„æ•°æ®ï¼Œç¬¬ä¸€ä¸ªå­—æ®µå‡å€¼ä¸º2ï¼Œç¬¬äºŒä¸ªå­—æ®µå‡å€¼ä¸º3ï¼Œæ‰€ä»¥å˜æ¢åï¼š<br>$$ \begin{pmatrix}<br>-1 &amp; -1 &amp; 0 &amp; 2 &amp; 0 \\<br>-2 &amp; 0 &amp; 0 &amp; 1 &amp; 1 \<br>\end{pmatrix}$$<br>æˆ‘ä»¬å¯ä»¥çœ‹ä¸‹äº”æ¡æ•°æ®åœ¨å¹³é¢ç›´è§’åæ ‡ç³»å†…çš„æ ·å­ï¼š<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/PCA%E5%8E%9F%E7%90%86%E5%88%86%E6%9E%90/06.png"><br>ç°åœ¨é—®é¢˜æ¥äº†ï¼šå¦‚æœæˆ‘ä»¬å¿…é¡»ä½¿ç”¨ä¸€ç»´æ¥è¡¨ç¤ºè¿™äº›æ•°æ®ï¼Œåˆå¸Œæœ›å°½é‡ä¿ç•™åŸå§‹çš„ä¿¡æ¯ï¼Œä½ è¦å¦‚ä½•é€‰æ‹©ï¼Ÿ    </p><p>é€šè¿‡ä¸Šä¸€èŠ‚å¯¹åŸºå˜æ¢çš„è®¨è®ºæˆ‘ä»¬çŸ¥é“ï¼Œè¿™ä¸ªé—®é¢˜å®é™…ä¸Šæ˜¯è¦åœ¨äºŒç»´å¹³é¢ä¸­é€‰æ‹©ä¸€ä¸ªæ–¹å‘ï¼Œå°†æ‰€æœ‰æ•°æ®éƒ½æŠ•å½±åˆ°è¿™ä¸ªæ–¹å‘æ‰€åœ¨ç›´çº¿ä¸Šï¼Œç”¨æŠ•å½±å€¼è¡¨ç¤ºåŸå§‹è®°å½•ã€‚è¿™æ˜¯ä¸€ä¸ªå®é™…çš„äºŒç»´é™åˆ°ä¸€ç»´çš„é—®é¢˜ã€‚    </p><p>é‚£ä¹ˆå¦‚ä½•é€‰æ‹©è¿™ä¸ªæ–¹å‘ï¼ˆæˆ–è€…è¯´åŸºï¼‰æ‰èƒ½å°½é‡ä¿ç•™æœ€å¤šçš„åŸå§‹ä¿¡æ¯å‘¢ï¼Ÿä¸€ç§ç›´è§‚çš„çœ‹æ³•æ˜¯ï¼šå¸Œæœ›æŠ•å½±åçš„æŠ•å½±å€¼å°½å¯èƒ½åˆ†æ•£ã€‚    </p><p>ä»¥ä¸Šå›¾ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹å‡ºå¦‚æœå‘xè½´æŠ•å½±ï¼Œé‚£ä¹ˆæœ€å·¦è¾¹çš„ä¸¤ä¸ªç‚¹ä¼šé‡å åœ¨ä¸€èµ·ï¼Œä¸­é—´çš„ä¸¤ä¸ªç‚¹ä¹Ÿä¼šé‡å åœ¨ä¸€èµ·ï¼Œäºæ˜¯æœ¬èº«å››ä¸ªå„ä¸ç›¸åŒçš„äºŒç»´ç‚¹æŠ•å½±ååªå‰©ä¸‹ä¸¤ä¸ªä¸åŒçš„å€¼äº†ï¼Œè¿™æ˜¯ä¸€ç§ä¸¥é‡çš„ä¿¡æ¯ä¸¢å¤±ï¼ŒåŒç†ï¼Œå¦‚æœå‘yè½´æŠ•å½±æœ€ä¸Šé¢çš„ä¸¤ä¸ªç‚¹å’Œåˆ†å¸ƒåœ¨xè½´ä¸Šçš„ä¸¤ä¸ªç‚¹ä¹Ÿä¼šé‡å ã€‚æ‰€ä»¥çœ‹æ¥xå’Œyè½´éƒ½ä¸æ˜¯æœ€å¥½çš„æŠ•å½±é€‰æ‹©ã€‚æˆ‘ä»¬ç›´è§‚ç›®æµ‹ï¼Œå¦‚æœå‘é€šè¿‡ç¬¬ä¸€è±¡é™å’Œç¬¬ä¸‰è±¡é™çš„æ–œçº¿æŠ•å½±ï¼Œåˆ™äº”ä¸ªç‚¹åœ¨æŠ•å½±åè¿˜æ˜¯å¯ä»¥åŒºåˆ†çš„ã€‚<br>ä¸‹é¢ï¼Œæˆ‘ä»¬ç”¨æ•°å­¦æ–¹æ³•è¡¨è¿°è¿™ä¸ªé—®é¢˜ã€‚</p><h3 id="æ–¹å·®"><a href="#æ–¹å·®" class="headerlink" title="æ–¹å·®"></a>æ–¹å·®</h3><p>ä¸Šæ–‡è¯´åˆ°ï¼Œæˆ‘ä»¬å¸Œæœ›æŠ•å½±åæŠ•å½±å€¼å°½å¯èƒ½åˆ†æ•£ï¼Œè€Œè¿™ç§åˆ†æ•£ç¨‹åº¦ï¼Œå¯ä»¥ç”¨æ•°å­¦ä¸Šçš„æ–¹å·®æ¥è¡¨è¿°ã€‚æ­¤å¤„ï¼Œä¸€ä¸ªå­—æ®µçš„æ–¹å·®å¯ä»¥çœ‹åšæ˜¯æ¯ä¸ªå…ƒç´ ä¸å­—æ®µå‡å€¼çš„å·®çš„å¹³æ–¹å’Œçš„å‡å€¼ï¼Œå³ï¼š<br>$$Var(a)=\frac{1}{m} \sum_{i=1}^{m}(a_i- \mu)^2$$<br>ç”±äºä¸Šé¢æˆ‘ä»¬å·²ç»å°†æ¯ä¸ªå­—æ®µçš„å‡å€¼éƒ½åŒ–ä¸º0äº†ï¼Œå› æ­¤æ–¹å·®å¯ä»¥ç›´æ¥ç”¨æ¯ä¸ªå…ƒç´ çš„å¹³æ–¹å’Œé™¤ä»¥å…ƒç´ ä¸ªæ•°è¡¨ç¤ºï¼š<br>$$Var(a) = \frac{1}{m} \sum_{i=1}^{m}a_i^2$$<br>äºæ˜¯ä¸Šé¢çš„é—®é¢˜è¢«å½¢å¼åŒ–è¡¨è¿°ä¸ºï¼šå¯»æ‰¾ä¸€ä¸ªä¸€ç»´åŸºï¼Œä½¿å¾—æ‰€æœ‰æ•°æ®å˜æ¢ä¸ºè¿™ä¸ªåŸºä¸Šçš„åæ ‡è¡¨ç¤ºåï¼Œæ–¹å·®å€¼æœ€å¤§ã€‚    </p><h3 id="åæ–¹å·®"><a href="#åæ–¹å·®" class="headerlink" title="åæ–¹å·®"></a>åæ–¹å·®</h3><p>å¯¹äºä¸Šé¢äºŒç»´é™æˆä¸€ç»´çš„é—®é¢˜æ¥è¯´ï¼Œæ‰¾åˆ°é‚£ä¸ªä½¿å¾—æ–¹å·®æœ€å¤§çš„æ–¹å‘å°±å¯ä»¥äº†ã€‚ä¸è¿‡å¯¹äºæ›´é«˜ç»´ï¼Œè¿˜æœ‰ä¸€ä¸ªé—®é¢˜éœ€è¦è§£å†³ã€‚è€ƒè™‘ä¸‰ç»´é™åˆ°äºŒç»´é—®é¢˜ã€‚ä¸ä¹‹å‰ç›¸åŒï¼Œé¦–å…ˆæˆ‘ä»¬å¸Œæœ›æ‰¾åˆ°ä¸€ä¸ªæ–¹å‘ä½¿å¾—æŠ•å½±åæ–¹å·®æœ€å¤§ï¼Œè¿™æ ·å°±å®Œæˆäº†ç¬¬ä¸€ä¸ªæ–¹å‘çš„é€‰æ‹©ï¼Œç»§è€Œæˆ‘ä»¬é€‰æ‹©ç¬¬äºŒä¸ªæŠ•å½±æ–¹å‘ã€‚<br>å¦‚æœæˆ‘ä»¬è¿˜æ˜¯å•çº¯åªé€‰æ‹©æ–¹å·®æœ€å¤§çš„æ–¹å‘ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸ªæ–¹å‘ä¸ç¬¬ä¸€ä¸ªæ–¹å‘åº”è¯¥æ˜¯â€œå‡ ä¹é‡åˆåœ¨ä¸€èµ·â€ï¼Œæ˜¾ç„¶è¿™æ ·çš„ç»´åº¦æ˜¯æ²¡æœ‰ç”¨çš„ï¼Œå› æ­¤ï¼Œåº”è¯¥æœ‰å…¶ä»–çº¦æŸæ¡ä»¶ã€‚ä»ç›´è§‚ä¸Šè¯´ï¼Œè®©ä¸¤ä¸ªå­—æ®µå°½å¯èƒ½è¡¨ç¤ºæ›´å¤šçš„åŸå§‹ä¿¡æ¯ï¼Œæˆ‘ä»¬æ˜¯ä¸å¸Œæœ›å®ƒä»¬ä¹‹é—´å­˜åœ¨ï¼ˆçº¿æ€§ï¼‰ç›¸å…³æ€§çš„ï¼Œå› ä¸ºç›¸å…³æ€§æ„å‘³ç€ä¸¤ä¸ªå­—æ®µä¸æ˜¯å®Œå…¨ç‹¬ç«‹ï¼Œå¿…ç„¶å­˜åœ¨é‡å¤è¡¨ç¤ºçš„ä¿¡æ¯ã€‚<br>æ•°å­¦ä¸Šå¯ä»¥ç”¨ä¸¤ä¸ªå­—æ®µçš„åæ–¹å·®è¡¨ç¤ºå…¶ç›¸å…³æ€§ï¼Œç”±äºå·²ç»è®©æ¯ä¸ªå­—æ®µå‡å€¼ä¸º0ï¼Œåˆ™ï¼š<br>$$Cov(a,b)=\frac{1}{m} \sum_{i=1}^{m}a_ib_i$$<br>å¯ä»¥çœ‹åˆ°ï¼Œåœ¨å­—æ®µå‡å€¼ä¸º0çš„æƒ…å†µä¸‹ï¼Œä¸¤ä¸ªå­—æ®µçš„åæ–¹å·®ç®€æ´çš„è¡¨ç¤ºä¸ºå…¶å†…ç§¯é™¤ä»¥å…ƒç´ æ•°mã€‚</p><p>å½“åæ–¹å·®ä¸º0æ—¶ï¼Œè¡¨ç¤ºä¸¤ä¸ªå­—æ®µå®Œå…¨ç‹¬ç«‹ã€‚ä¸ºäº†è®©åæ–¹å·®ä¸º0ï¼Œæˆ‘ä»¬é€‰æ‹©ç¬¬äºŒä¸ªåŸºæ—¶åªèƒ½åœ¨ä¸ç¬¬ä¸€ä¸ªåŸºæ­£äº¤çš„æ–¹å‘ä¸Šé€‰æ‹©ã€‚å› æ­¤æœ€ç»ˆé€‰æ‹©çš„ä¸¤ä¸ªæ–¹å‘ä¸€å®šæ˜¯æ­£äº¤çš„ã€‚</p><p>è‡³æ­¤ï¼Œæˆ‘ä»¬å¾—åˆ°äº†é™ç»´é—®é¢˜çš„ä¼˜åŒ–ç›®æ ‡ï¼š<strong>å°†ä¸€ç»„Nç»´å‘é‡é™ä¸ºKç»´ï¼ˆKå¤§äº0ï¼Œå°äºNï¼‰ï¼Œå…¶ç›®æ ‡æ˜¯é€‰æ‹©Kä¸ªå•ä½ï¼ˆæ¨¡ä¸º1ï¼‰æ­£äº¤åŸºï¼Œä½¿å¾—åŸå§‹æ•°æ®å˜æ¢åˆ°è¿™ç»„åŸºä¸Šåï¼Œå„å­—æ®µä¸¤ä¸¤é—´åæ–¹å·®ä¸º0ï¼Œè€Œå­—æ®µçš„æ–¹å·®åˆ™å°½å¯èƒ½å¤§ï¼ˆåœ¨æ­£äº¤çš„çº¦æŸä¸‹ï¼Œå–æœ€å¤§çš„Kä¸ªæ–¹å·®ï¼‰</strong>ã€‚</p><h3 id="åæ–¹å·®çŸ©é˜µ"><a href="#åæ–¹å·®çŸ©é˜µ" class="headerlink" title="åæ–¹å·®çŸ©é˜µ"></a>åæ–¹å·®çŸ©é˜µ</h3><p>ä¸Šé¢æˆ‘ä»¬å¯¼å‡ºäº†ä¼˜åŒ–ç›®æ ‡ï¼Œä½†æ˜¯è¿™ä¸ªç›®æ ‡ä¼¼ä¹ä¸èƒ½ç›´æ¥ä½œä¸ºæ“ä½œæŒ‡å—ï¼ˆæˆ–è€…è¯´ç®—æ³•ï¼‰ï¼Œå› ä¸ºå®ƒåªè¯´è¦ä»€ä¹ˆï¼Œä½†æ ¹æœ¬æ²¡æœ‰è¯´æ€ä¹ˆåšã€‚æ‰€ä»¥æˆ‘ä»¬è¦ç»§ç»­åœ¨æ•°å­¦ä¸Šç ”ç©¶è®¡ç®—æ–¹æ¡ˆã€‚</p><p>æˆ‘ä»¬çœ‹åˆ°ï¼Œæœ€ç»ˆè¦è¾¾åˆ°çš„ç›®çš„ä¸å­—æ®µå†…æ–¹å·®åŠå­—æ®µé—´åæ–¹å·®æœ‰å¯†åˆ‡å…³ç³»ã€‚å› æ­¤æˆ‘ä»¬å¸Œæœ›èƒ½å°†ä¸¤è€…ç»Ÿä¸€è¡¨ç¤ºï¼Œä»”ç»†è§‚å¯Ÿå‘ç°ï¼Œä¸¤è€…å‡å¯ä»¥è¡¨ç¤ºä¸ºå†…ç§¯çš„å½¢å¼ï¼Œè€Œå†…ç§¯åˆä¸çŸ©é˜µç›¸ä¹˜å¯†åˆ‡ç›¸å…³ã€‚äºæ˜¯æˆ‘ä»¬æ¥äº†çµæ„Ÿï¼š</p><p>å‡è®¾æˆ‘ä»¬åªæœ‰aå’Œbä¸¤ä¸ªå­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å°†å®ƒä»¬æŒ‰è¡Œç»„æˆçŸ©é˜µXï¼š</p><p>$$ X = \begin{pmatrix}<br>a_1 &amp; a_2 &amp; \dots &amp; a_m \\<br>b_1 &amp; b_2 &amp; \dots &amp; b_m \<br>\end{pmatrix}$$<br>ç„¶åæˆ‘ä»¬ç”¨Xä¹˜ä»¥Xçš„è½¬ç½®ï¼Œå¹¶ä¹˜ä¸Šç³»æ•° $\frac{1}{m}$ï¼š<br>$$\frac{1}{m} \begin{pmatrix}<br>\frac{1}{m} \sum_{i=1}^{m}a_i^2 &amp; \frac{1}{m} \sum_{i=1}^{m}a_ib_i \\<br>\frac{1}{m} \sum_{i=1}^{m}a_ib_i &amp; \frac{1}{m} \sum_{i=1}^{m}b_i^2 \<br>\end{pmatrix}$$</p><p>å¥‡è¿¹å‡ºç°äº†ï¼è¿™ä¸ªçŸ©é˜µå¯¹è§’çº¿ä¸Šçš„ä¸¤ä¸ªå…ƒç´ åˆ†åˆ«æ˜¯ä¸¤ä¸ªå­—æ®µçš„æ–¹å·®ï¼Œè€Œå…¶å®ƒå…ƒç´ æ˜¯aå’Œbçš„åæ–¹å·®ã€‚ä¸¤è€…è¢«ç»Ÿä¸€åˆ°äº†ä¸€ä¸ªçŸ©é˜µçš„ã€‚</p><p>æ ¹æ®çŸ©é˜µç›¸ä¹˜çš„è¿ç®—æ³•åˆ™ï¼Œè¿™ä¸ªç»“è®ºå¾ˆå®¹æ˜“è¢«æ¨å¹¿åˆ°ä¸€èˆ¬æƒ…å†µï¼š</p><p><strong>è®¾æˆ‘ä»¬æœ‰mä¸ªnç»´æ•°æ®è®°å½•ï¼Œå°†å…¶æŒ‰åˆ—æ’æˆnä¹˜mçš„çŸ©é˜µXï¼Œè®¾ $C = \frac{1}{m}XX^T$,åˆ™Cæ˜¯ä¸€ä¸ªå¯¹ç§°çŸ©é˜µï¼Œå…¶å¯¹è§’çº¿åˆ†åˆ«ä¸ªå„ä¸ªå­—æ®µçš„æ–¹å·®ï¼Œè€Œç¬¬iè¡Œjåˆ—å’Œjè¡Œiåˆ—å…ƒç´ ç›¸åŒï¼Œè¡¨ç¤ºiå’Œjä¸¤ä¸ªå­—æ®µçš„åæ–¹å·®ã€‚</strong></p><h3 id="åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–"><a href="#åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–" class="headerlink" title="åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–"></a>åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–</h3><p>æ ¹æ®ä¸Šè¿°æ¨å¯¼ï¼Œæˆ‘ä»¬å‘ç°è¦è¾¾åˆ°ä¼˜åŒ–ç›®å‰ï¼Œç­‰ä»·äºå°†åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–ï¼šå³é™¤å¯¹è§’çº¿å¤–çš„å…¶å®ƒå…ƒç´ åŒ–ä¸º0ï¼Œå¹¶ä¸”åœ¨å¯¹è§’çº¿ä¸Šå°†å…ƒç´ æŒ‰å¤§å°ä»ä¸Šåˆ°ä¸‹æ’åˆ—ï¼Œè¿™æ ·æˆ‘ä»¬å°±è¾¾åˆ°äº†ä¼˜åŒ–ç›®çš„ã€‚è¿™æ ·è¯´å¯èƒ½è¿˜ä¸æ˜¯å¾ˆæ˜æ™°ï¼Œæˆ‘ä»¬è¿›ä¸€æ­¥çœ‹ä¸‹åŸçŸ©é˜µä¸åŸºå˜æ¢åçŸ©é˜µåæ–¹å·®çŸ©é˜µçš„å…³ç³»ï¼š</p><p>è®¾åŸå§‹æ•°æ®çŸ©é˜µXå¯¹åº”çš„åæ–¹å·®çŸ©é˜µä¸ºCï¼Œè€ŒPæ˜¯ä¸€ç»„åŸºæŒ‰è¡Œç»„æˆçš„çŸ©é˜µï¼Œè®¾Y=PXï¼Œåˆ™Yä¸ºXå¯¹PåšåŸºå˜æ¢åçš„æ•°æ®ã€‚è®¾Yçš„åæ–¹å·®çŸ©é˜µä¸ºDï¼Œæˆ‘ä»¬æ¨å¯¼ä¸€ä¸‹Dä¸Cçš„å…³ç³»ï¼š<br>$$\begin{align}<br>D &amp;= \frac{1}{m}YY^T \\<br>  &amp;= \frac{1}{m}(PX)(PX)^T \\<br>  &amp;= \frac{1}{m}PXX^T P^T \\<br>  &amp;= P(\frac{1}{m}XX^T)P^T \\<br>  &amp;= PCP^T<br>\end{align}$$</p><p>ç°åœ¨äº‹æƒ…å¾ˆæ˜ç™½äº†ï¼æˆ‘ä»¬è¦æ‰¾çš„Pä¸æ˜¯åˆ«çš„ï¼Œè€Œæ˜¯èƒ½è®©åŸå§‹åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–çš„Pã€‚æ¢å¥è¯è¯´ï¼Œä¼˜åŒ–ç›®æ ‡å˜æˆäº†å¯»æ‰¾ä¸€ä¸ªçŸ©é˜µPï¼Œæ»¡è¶³ $PCP^T$ æ˜¯ä¸€ä¸ªå¯¹è§’çŸ©é˜µï¼Œå¹¶ä¸”å¯¹è§’å…ƒç´ æŒ‰ä»å¤§åˆ°å°ä¾æ¬¡æ’åˆ—ï¼Œé‚£ä¹ˆPçš„å‰Kè¡Œå°±æ˜¯è¦å¯»æ‰¾çš„åŸºï¼Œç”¨Pçš„å‰Kè¡Œç»„æˆçš„çŸ©é˜µä¹˜ä»¥Xå°±ä½¿å¾—Xä»Nç»´é™åˆ°äº†Kç»´å¹¶æ»¡è¶³ä¸Šè¿°ä¼˜åŒ–æ¡ä»¶ã€‚<br>ç°åœ¨æ‰€æœ‰ç„¦ç‚¹éƒ½èšç„¦åœ¨äº†åæ–¹å·®çŸ©é˜µå¯¹è§’åŒ–é—®é¢˜ä¸Šï¼Œæœ‰æ—¶ï¼Œæˆ‘ä»¬çœŸåº”è¯¥æ„Ÿè°¢æ•°å­¦å®¶çš„å…ˆè¡Œï¼Œå› ä¸ºçŸ©é˜µå¯¹è§’åŒ–åœ¨çº¿æ€§ä»£æ•°é¢†åŸŸå·²ç»å±äºè¢«ç©çƒ‚äº†çš„ä¸œè¥¿ï¼Œæ‰€ä»¥è¿™åœ¨æ•°å­¦ä¸Šæ ¹æœ¬ä¸æ˜¯é—®é¢˜ã€‚</p><p>ç”±ä¸Šæ–‡çŸ¥é“ï¼Œåæ–¹å·®çŸ©é˜µCæ˜¯ä¸€ä¸ªæ˜¯å¯¹ç§°çŸ©é˜µï¼Œåœ¨çº¿æ€§ä»£æ•°ä¸Šï¼Œå®å¯¹ç§°çŸ©é˜µæœ‰ä¸€ç³»åˆ—éå¸¸å¥½çš„æ€§è´¨ï¼š</p><ol><li>å®å¯¹ç§°çŸ©é˜µä¸åŒç‰¹å¾å€¼å¯¹åº”çš„ç‰¹å¾å‘é‡å¿…ç„¶æ­£äº¤</li><li>è®¾ç‰¹å¾å‘é‡Î»é‡æ•°ä¸ºrï¼Œåˆ™å¿…ç„¶å­˜åœ¨rä¸ªçº¿æ€§æ— å…³çš„ç‰¹å¾å‘é‡å¯¹åº”äºÎ»ï¼Œå› æ­¤å¯ä»¥å°†è¿™rä¸ªç‰¹å¾å‘é‡å•ä½æ­£äº¤åŒ–ã€‚<br>ç”±ä¸Šé¢ä¸¤æ¡å¯çŸ¥ï¼Œä¸€ä¸ªnè¡Œnåˆ—çš„å®å¯¹ç§°çŸ©é˜µä¸€å®šå¯ä»¥æ‰¾åˆ°nä¸ªå•ä½æ­£äº¤ç‰¹å¾å‘é‡ï¼Œè®¾è¿™nä¸ªç‰¹å¾å‘é‡ä¸º $e_1,e_2,\dots,e_n,$ æˆ‘ä»¬å°†å…¶æŒ‰åˆ—ç»„æˆçŸ©é˜µï¼š<br>$$E = \begin{pmatrix}<br>e_1 &amp; e_2 &amp; \dots &amp; e_n \<br>\end{pmatrix}$$<br>åˆ™å¯¹åæ–¹å·®çŸ©é˜µCæœ‰å¦‚ä¸‹ç»“è®ºï¼š<br>$$E_TCE = \Lambda = \begin{pmatrix}<br>\lambda_1 &amp; &amp; &amp; \\<br>&amp; \lambda_2 &amp; &amp; \\<br>&amp; &amp; \ddots &amp; \\<br>&amp; &amp; &amp; \lambda_n \<br>\end{pmatrix}$$<br>å…¶ä¸­ $Lambda$ä¸ºå¯¹è§’çŸ©é˜µï¼Œå…¶å¯¹è§’å…ƒç´ ä¸ºå„ç‰¹å¾å‘é‡å¯¹åº”çš„ç‰¹å¾å€¼ï¼ˆå¯èƒ½æœ‰é‡å¤ï¼‰ã€‚</li></ol><p>ä»¥ä¸Šç»“è®ºä¸å†ç»™å‡ºä¸¥æ ¼çš„æ•°å­¦è¯æ˜ï¼Œå¯¹è¯æ˜æ„Ÿå…´è¶£çš„æœ‹å‹å¯ä»¥å‚è€ƒçº¿æ€§ä»£æ•°ä¹¦ç±å…³äºâ€œå®å¯¹ç§°çŸ©é˜µå¯¹è§’åŒ–â€çš„å†…å®¹ã€‚</p><p>åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬å‘ç°æˆ‘ä»¬å·²ç»æ‰¾åˆ°äº†éœ€è¦çš„çŸ©é˜µPï¼š<br>$$P = E^T$$</p><p>Pæ˜¯åæ–¹å·®çŸ©é˜µçš„ç‰¹å¾å‘é‡å•ä½åŒ–åæŒ‰è¡Œæ’åˆ—å‡ºçš„çŸ©é˜µï¼Œå…¶ä¸­æ¯ä¸€è¡Œéƒ½æ˜¯Cçš„ä¸€ä¸ªç‰¹å¾å‘é‡ã€‚å¦‚æœè®¾PæŒ‰ç…§Î›ä¸­ç‰¹å¾å€¼çš„ä»å¤§åˆ°å°ï¼Œå°†ç‰¹å¾å‘é‡ä»ä¸Šåˆ°ä¸‹æ’åˆ—ï¼Œåˆ™ç”¨Pçš„å‰Kè¡Œç»„æˆçš„çŸ©é˜µä¹˜ä»¥åŸå§‹æ•°æ®çŸ©é˜µXï¼Œå°±å¾—åˆ°äº†æˆ‘ä»¬éœ€è¦çš„é™ç»´åçš„æ•°æ®çŸ©é˜µYã€‚</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> PCA </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Face Detection</title>
      <link href="/2019/08/03/face-detection/"/>
      <url>/2019/08/03/face-detection/</url>
      
        <content type="html"><![CDATA[<h1 id="äººè„¸æ£€æµ‹"><a href="#äººè„¸æ£€æµ‹" class="headerlink" title="äººè„¸æ£€æµ‹"></a>äººè„¸æ£€æµ‹</h1><h2 id="OpenCVæ¨¡å—"><a href="#OpenCVæ¨¡å—" class="headerlink" title="OpenCVæ¨¡å—"></a>OpenCVæ¨¡å—</h2><ul><li>coreï¼šç®€æ´æ ¸å¿ƒæ¨¡å—ï¼ŒåŸºæœ¬å‡½æ•°ï¼ŒåŸºæœ¬æ•°æ®ç»“æ„</li><li>imgprocï¼šå›¾åƒå¤„ç†æ¨¡å—ï¼Œçº¿æ€§å’Œéçº¿æ€§å›¾åƒæ»¤æ³¢ï¼Œå‡ ä½•å›¾åƒè½¬æ¢ï¼Œé¢œè‰²ç©ºé—´è½¬æ¢ï¼Œç›´æ–¹å›¾ç­‰ã€‚</li><li>videoï¼šè§†é¢‘åˆ†ææ¨¡å—ï¼Œè¿åŠ¨ä¼°è®¡ï¼ŒèƒŒæ™¯æ¶ˆé™¤ï¼Œç‰©ä½“è·Ÿè¸ªç®—æ³•</li><li>calib3dï¼šåŸºæœ¬å¤šè§†è§’å‡ ä½•ç®—æ³•ï¼Œå•ä½“å’Œç«‹ä½“ç›¸æœºçš„æ ‡å®šï¼Œå¯¹è±¡å§¿åŠ¿ä¼°è®¡ï¼ŒåŒç›®ç«‹ä½“åŒ¹é…ç®—æ³•å’Œå…ƒç´ çš„ä¸‰ç»´é‡å»º</li><li>features2dï¼šåŒ…å«äº†æ˜¾è‘—ç‰¹å¾æ£€æµ‹ç®—æ³•ï¼Œæè¿°ç®—å­å’Œç®—å­åŒ¹é…ç®—æ³•</li><li>objdetectï¼šç‰©ä½“æ£€æµ‹å’Œä¸€äº›é¢„å®šä¹‰çš„ç‰©ä½“çš„æ£€æµ‹ï¼ˆå¦‚äººè„¸ï¼Œçœ¼ç›ï¼Œæ¯å­ï¼Œäººï¼Œæ±½è½¦ç­‰)</li><li>mlï¼šå¤šç§æœºå™¨å­¦ä¹ ç®—æ³•ï¼Œå¦‚Kå‡å€¼ï¼Œæ”¯æŒå‘é‡æœºå’Œç¥ç»ç½‘ç»œ</li><li>highguiï¼šç®€å•æ˜“ç”¨æ¥å£ï¼Œæœ‰è§†é¢‘æ•æ‰ï¼Œå›¾åƒå’Œè§†é¢‘ç¼–ç åŠŸèƒ½ï¼Œç®€å•UIæ¥å£ï¼ŒiOSçš„æ˜¯å…¶ä¸­ä¸€ä¸ªå­é›†</li><li>gpuï¼šGPUåŠ é€Ÿç®—æ³•ï¼ŒiOSä¸å¯ç”¨</li><li>oclï¼šOpenCLé€šç”¨ç®—æ³•ï¼ŒiOSä¸å¯ç”¨</li><li>å…¶å®ƒè¾…åŠ©æ¨¡å—ï¼Œå¦‚ç”¨æˆ·è´¡çŒ®çš„ç®—æ³•</li></ul><h2 id="äººè„¸æ£€æµ‹-1"><a href="#äººè„¸æ£€æµ‹-1" class="headerlink" title="äººè„¸æ£€æµ‹"></a>äººè„¸æ£€æµ‹</h2><h2 id="æ£€æµ‹å›¾ç‰‡ä¸­çš„äººè„¸"><a href="#æ£€æµ‹å›¾ç‰‡ä¸­çš„äººè„¸" class="headerlink" title="æ£€æµ‹å›¾ç‰‡ä¸­çš„äººè„¸"></a>æ£€æµ‹å›¾ç‰‡ä¸­çš„äººè„¸</h2><p>åœ¨OpenCVä¸­ï¼Œä¸»è¦ä½¿ç”¨ä¸¤ç§ç‰¹å¾è¿›è¡Œäººè„¸æ£€æµ‹ï¼ŒHaarç‰¹å¾å’ŒLBPç‰¹å¾ï¼Œä¸‹é¢ä½¿ç”¨çš„æ˜¯LBPç‰¹å¾ã€‚<br>å®ç°äººè„¸æ£€æµ‹ä¸»è¦ä¾èµ–äºdetectMultiScale()å‡½æ•°</p><pre><code class="line-numbers language-cpp">CV_WRAP virtual void detectMultiScale( const Mat&amp; image,  CV_OUT vector&lt;Rect&gt;&amp; objects,  double scaleFactor=1.1,  int minNeighbors=3, int flags=0,  Size minSize=Size(),  Size maxSize=Size() );</code></pre><p>å„å‚æ•°å«ä¹‰å¦‚ä¸‹ï¼š<br><strong>const Mat&amp; image</strong>: éœ€è¦è¢«æ£€æµ‹çš„å›¾åƒï¼ˆç°åº¦å›¾ï¼‰ã€‚<br><strong>vector<Rect>&amp; objects</strong>: ä¿å­˜è¢«æ£€æµ‹å‡ºçš„äººè„¸ä½ç½®åæ ‡åºåˆ—ã€‚<br><strong>double scaleFactor</strong>: æ¯æ¬¡å›¾ç‰‡ç¼©æ”¾çš„æ¯”ä¾‹ã€‚<br><strong>int minNeighbors</strong>: æ¯ä¸€ä¸ªäººè„¸è‡³å°‘è¦æ£€æµ‹åˆ°å¤šå°‘æ¬¡æ‰ç®—æ˜¯çœŸçš„äººè„¸ã€‚<br><strong>doubleint flags</strong>ï¼š å†³å®šæ˜¯ç¼©æ”¾åˆ†ç±»å™¨æ¥æ£€æµ‹ï¼Œè¿˜æ˜¯ç¼©æ”¾å›¾åƒã€‚<br><strong>Size()</strong>: è¡¨ç¤ºäººè„¸çš„æœ€å¤§æœ€å°å°ºå¯¸ã€‚</p><p>å…·ä½“å®ç°ä»£ç å¦‚ä¸‹:</p><pre><code class="line-numbers language-cpp">#include&lt;opencv2/highgui/highgui.hpp&gt;#include&lt;opencv2/imgproc/imgproc.hpp&gt;#include&lt;opencv2/objdetect/objdetect.hpp&gt;#include&lt;iostream&gt;#include&lt;opencv2/core.hpp&gt;using namespace std;using namespace cv;#define CV_COLOR_GREEN cv::Scalar(0, 255, 0)CascadeClassifier faceCascade;int main(int argc, char* argv[])&#123; Mat img; CascadeClassifier faceDetector(&quot;lbpcascade_frontalface.xml&quot;);//è¯»å–åˆ†ç±»å™¨ img = imread(argv[1]);  //è¯»å–æ£€æµ‹çš„å›¾ç‰‡åŸå›¾ vector&lt;Rect&gt; objects;  //å­˜æ”¾æ£€æµ‹çš„å¯¹è±¡ faceDetector.detectMultiScale(img, objects);  //æ‰§è¡Œæ£€æµ‹ for (int i = 0; i &lt; objects.size(); i++) //éå†æ£€æµ‹åˆ°çš„è„¸ &#123;  rectangle(img, objects[i], CV_COLOR_RED);  //ç”»å‡ºæ£€æµ‹åˆ°çš„è„¸ &#125; imshow(&quot;result&quot;, img);  //æ˜¾ç¤ºç»“æœ waitKey(0); return 0;&#125;</code></pre><p>æ£€æµ‹ç»“æœ:<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Detection/1.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Detection/2.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Detection/3.png"></p><h3 id="æ£€æµ‹è§†é¢‘ä¸­çš„äººè„¸"><a href="#æ£€æµ‹è§†é¢‘ä¸­çš„äººè„¸" class="headerlink" title="æ£€æµ‹è§†é¢‘ä¸­çš„äººè„¸"></a>æ£€æµ‹è§†é¢‘ä¸­çš„äººè„¸</h3><p>åŸç†å°±æ˜¯å¯¹è§†é¢‘é€å¸§å¤„ç†ï¼Œ1så¤§çº¦åˆ†ä¸º30å¸§ã€‚</p><pre><code class="line-numbers language-cpp">#include &lt;opencv2/highgui/highgui.hpp&gt;#include &lt;opencv2/imgproc/imgproc.hpp&gt;#include &lt;opencv2/core/core.hpp&gt;#include &lt;opencv2/objdetect/objdetect.hpp&gt;#include &lt;iostream&gt;using namespace std;using namespace cv;#define CV_COLOR_GREEN cv::Scalar(0, 255, 0)CascadeClassifier faceCascade;int main(int argc, char** argv)&#123;  //æ‰“å¼€æ‘„åƒå¤´  VideoCapture cap(0);  if(!cap.isOpened())  &#123;    return -1;  &#125;  //è¯»å–åˆ†ç±»å™¨  CascadeClassifier faceDetector(&quot;lbpcascade_frontalface.xml&quot;);  vector&lt;Rect&gt; objects;  Mat frame;  Mat edges;  bool stop = false;  while(!stop)&#123;    cap &gt;&gt; frame;    if (frame.empty())      stop = true;    double scaleFactor=1.1;    int minNeighbors = 3;    //int flags = 1;    //cvtColor(frame, edges, CV_BGR2GRAY);    //GaussianBlur(edges, edges, Size(7,7), 1.5, 1.5);    faceDetector.detectMultiScale(frame, objects,scaleFactor, minNeighbors);    for(int i = 0; i &lt; objects.size(); i++)&#123;      rectangle(frame, objects[i], CV_COLOR_GREEN);      rectangle(edges, objects[i], CV_COLOR_GREEN);    &#125;    //imshow(&quot;edge&quot;, edges);    imshow(&quot;frame&quot;, frame);    if (waitKey(30) &gt;= 0)      stop = true;  &#125;  return 0;&#125;</code></pre><p>è¯†åˆ«ç»“æœ:</p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Detection/4.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/Face-Detection/5.png"></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> å®ä¹  </category>
          
          <category> äººè„¸æ£€æµ‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Face_Detection </tag>
            
            <tag> OpenCV </tag>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Local Binary Patterns</title>
      <link href="/2019/08/01/local-binary-patterns/"/>
      <url>/2019/08/01/local-binary-patterns/</url>
      
        <content type="html"><![CDATA[<h1 id="LBPç®—æ³•"><a href="#LBPç®—æ³•" class="headerlink" title="LBPç®—æ³•"></a>LBPç®—æ³•</h1><p>LBPï¼ˆLocal Binary Patternsï¼Œå±€éƒ¨äºŒå€¼æ¨¡å¼ï¼‰æ˜¯ä¸€ç§èƒ½å¤Ÿæœ‰æ•ˆåœ°åº¦é‡å’Œæå–å›¾åƒå±€éƒ¨çº¹ç†ä¿¡æ¯çš„ç®—å­ï¼Œå…·æœ‰æ—‹è½¬ä¸å˜æ€§å’Œç°åº¦ä¸å˜æ€§ç­‰æ˜¾è‘—çš„ä¼˜ç‚¹ã€‚å®ƒæ˜¯äººè„¸è¯†åˆ«ä¸­ä¸€ç§æå–ç‰¹å¾çš„é‡è¦æ–¹æ³•ï¼Œå…·æœ‰å¯¹å…‰ç…§ä¸æ•æ„Ÿçš„ç‰¹æ€§ï¼Œä½†æ˜¯å¯¹å§¿æ€å’Œè¡¨æƒ…çš„é²æ£’æ€§ä¸å¼ºã€‚</p><h2 id="çº¹ç†"><a href="#çº¹ç†" class="headerlink" title="çº¹ç†"></a>çº¹ç†</h2><p>çº¹ç†æ˜¯ç”±äºç‰©ä½“è¡¨é¢ç‰©ç†å±æ€§ä¸åŒæ‰€å¼•èµ·çš„èƒ½å¤Ÿè¡¨ç¤ºæŸä¸ªç‰¹å®šè¡¨é¢ç‰¹å¾çš„ç°åº¦æˆ–é¢œè‰²ä¿¡æ¯ã€‚çº¹ç†åæ˜ äº†å›¾åƒç°åº¦æ¨¡å¼çš„ç©ºé—´åˆ†å¸ƒï¼ŒåŒ…å«äº†å›¾åƒçš„è¡¨é¢ä¿¡æ¯åŠå…¶å‘¨å›´ç¯å¢ƒçš„å…³ç³»ã€‚</p><h2 id="åŸºæœ¬çš„LBPç®—å­"><a href="#åŸºæœ¬çš„LBPç®—å­" class="headerlink" title="åŸºæœ¬çš„LBPç®—å­"></a>åŸºæœ¬çš„LBPç®—å­</h2><p>å±€éƒ¨äºŒå€¼æ¨¡å¼æ˜¯ä¸€ç§ç°åº¦èŒƒå›´å†…çš„çº¹ç†æè¿°æ–¹å¼ã€‚æœ€åˆçš„LBPç®—å­å®šä¹‰åœ¨ä¸€ä¸ª3Ã—3çš„çª—å£ï¼Œä»¥çª—å£ä¸­å¿ƒåƒç´ ç‚¹ä¸ºé˜ˆå€¼ï¼Œå°†ç›¸é‚»çš„åƒç´ çš„ç°åº¦å€¼ä¸å…¶è¿›è¡Œæ¯”è¾ƒï¼Œè‹¥å‘¨å›´çš„åƒç´ å€¼å¤§äºä¸­å¿ƒç‚¹çš„å€¼ï¼Œåˆ™å°†è¯¥åƒç´ ä½ç½®æ ‡è®°ä¸º1,å¦åˆ™ä¸º0.è¿™æ ·ä¸€ä¸ª3Ã—3é‚»åŸŸå†…çš„8ä¸ªç‚¹å¯äº§ç”Ÿä¸€ä¸ª8-bitçš„æ— ç¬¦å·æ•°ï¼Œå†æŒ‰å…¶ä½ç½®èµ‹äºˆä¸åŒæƒé‡æ±‚å’Œå¾—ä¸€æ•´æ•°ï¼Œå³å¯å¾—åˆ°è¯¥çª—å£çš„ <strong>LBP</strong> å€¼ï¼Œå¹¶ç”¨è¿™ä¸ªæ•°åæ˜ è¯¥åŒºåŸŸçš„çº¹ç†ä¿¡æ¯ã€‚<br>å¯¹æ¯”åº¦åˆ†é‡Cæ˜¯é‚»åŸŸä¸­æ‰€æœ‰å¤§äºå’Œç­‰äºä¸­å¿ƒç‚¹åƒç´ çš„å‡å€¼ä¸æ‰€æœ‰å°äºä¸­å¿ƒç‚¹åƒç´ çš„å‡å€¼ä¹‹å·®ã€‚<br><img loading="lazy" src="https://i.loli.net/2019/07/31/5d415779ca87257597.jpg"></p><p>åŸºæœ¬çš„LBPç®—å­æœ€å¤§çš„ç¼ºé™·æ˜¯åªè¦†ç›–äº†ä¸€ä¸ªå›ºå®šåŠå¾„èŒƒå›´å†…çš„å°åŒºåŸŸï¼Œæ”¹è¿›çš„LBPç®—å­ï¼Œå°†3Ã—3é‚»åŸŸæ‰©å±•åˆ°ä»»æ„é‚»åŸŸï¼Œç”¨åœ†å½¢é‚»åŸŸä»£æ›¿äº†æ­£æ–¹å½¢é‚»åŸŸï¼Œè¯¥ç®—å­å…è®¸åœ¨åŠå¾„ä¸ºRçš„åœ†å½¢é‚»åŸŸå†…æœ‰ä»»æ„å¤šä¸ªåƒç´ ç‚¹ã€‚</p><ul><li>ä¸€ä¸ªå±€éƒ¨åŒºåŸŸçš„çº¹ç†åˆ†å¸ƒå¯å‡è®¾ä¸ºå±€éƒ¨åŒºåŸŸå†…åƒç´ ç°åº¦çš„è”åˆåˆ†å¸ƒå¯†åº¦<br>$$T = t(g_c,g_0, â€¦.,g_{p-1})$$<br>$g_c$è¡¨ç¤ºå±€éƒ¨åŒºåŸŸçš„ä¸­å¿ƒç‚¹çš„ç°åº¦å€¼,$g_p(p=0,1,â€¦,p)$å¯¹åº”ä¸­å¿ƒç‚¹å‘¨å›´ç­‰è·åˆ†å¸ƒçš„Pä¸ªç‚¹</li><li>é‡‡ç”¨ <strong>åŒçº¿æ€§æ’ç®—æ³•</strong> å¯¹æ²¡æœ‰å®Œå…¨è½åœ¨åƒç´ ä½ç½®çš„ç‚¹è®¡ç®—ç°åº¦å€¼ã€‚é‚»åŸŸå†…çš„$g_p$ç‚¹çš„åæ ‡å¯ä»¥è¡¨ç¤ºä¸º:<br>$$(x_p,y_p) = (x_c + Rcos(\frac{2\pi}{P}),y_c - Rsin(\frac{2\pi}{P}))$$<br>$(x_c,y_c)$è¡¨ç¤ºä¸­å¿ƒç‚¹çš„åæ ‡</li><li>å°†ä¸­å¿ƒç‚¹$g_c$çš„å€¼ä»é‚»åŸŸåƒç´ çš„ç°åº¦å€¼$g_p$ä¸­å‡å»ï¼Œåˆ™å±€éƒ¨åŒºåŸŸçš„çº¹ç†å¯ä»¥ç”¨ä¸­å¿ƒç‚¹å’Œä¸­å¿ƒç‚¹ä¸å‘¨è¾¹åƒç´ å€¼ä¹‹å·®çš„è”åˆåˆ†å¸ƒæ¥è¡¨ç¤º:<br>$$T = t(g_c,g_0-g_c,â€¦.,g_{p-1}-g_c)$$</li><li>å‡è®¾ä¸­å¿ƒåƒç´ ç‚¹$g_c$ä¸å‘¨è¾¹ç‚¹åƒç´ $g_p$çš„å·®å€¼$g_p-g_c(p=0,1,â€¦P)$ç‹¬ç«‹äºä¸­å¿ƒç‚¹$g_c$ï¼Œåˆ™<br>$$T\approx t(g_c)(g_0-g_c,â€¦,g_{p-1}-g_c)$$</li><li>å®é™…ä¸Šï¼Œ$t(g_c)$åªæ˜¯æè¿°äº†æ•´ä¸ªå›¾åƒçš„äº®åº¦åˆ†å¸ƒæƒ…å†µï¼Œè€Œå’Œå›¾åƒçš„å±€éƒ¨çº¹ç†æ— å…³ï¼Œå®ƒä¸èƒ½ä¸ºçº¹ç†åˆ†ææä¾›ä»»ä½•æœ‰ä»·å€¼çš„ä¿¡æ¯<br>$$T\approx t(g_0-g_c,â€¦,g_{p-1}-g_c)$$</li><li>å·®å€¼çš„è”åˆåˆ†å¸ƒå…·æœ‰ç°åº¦å¹³ç§»ä¸å˜æ€§ï¼Œå³é‚»åŸŸä¸­æ‰€æœ‰P+1ä¸ªåƒç´ åŒæ—¶åŠ ä¸Šæˆ–å‡å»æŸä¸ªå€¼ï¼Œå…¶è¡¨å¾çš„çº¹ç†ä¸å˜ã€‚</li><li>ä¸ºäº†è¾¾åˆ°å°ºåº¦ä¸å˜çš„ç›®çš„ï¼Œåªè€ƒè™‘å·®å€¼çš„ç¬¦å·<br>$$T\approx t(s(g_0-g_c),â€¦,s(g_p-g_c))$$</li></ul><p>$$s(x)=\begin{cases}<br>1 , \quad &amp;x &gt; 0  \\<br>0 , &amp;x \geqslant 0<br>\end{cases}<br>$$</p><p>ä¸Šå¼å¾—åˆ°äº†ä¸€ä¸ª8ä½çš„äºŒè¿›åˆ¶æ•°ï¼Œå†å¯¹åƒç´ æŒ‰ä¸åŒä½ç½®ç”¨$2^p$è¿›è¡ŒåŠ æƒæ±‚å’Œï¼Œè¿™æ ·å¾—åˆ°äº†ä¸€ä¸ªä¸é‚»åŸŸåƒç´ ç‚¹ç›¸å…³çš„å”¯ä¸€çš„ <strong>LBP</strong> å€¼ï¼Œè¿™ä¸ªå€¼ç§°ä¸º <strong>æ¨¡å¼</strong>ã€‚è¿™ä¸ªå€¼æè¿°çš„æ˜¯ä»¥$(x_c,y_c)$ä¸ºä¸­å¿ƒçš„å±€éƒ¨åŒºåŸŸçš„çº¹ç†ï¼Œå¯ä»¥è¡¨ç¤ºä¸º<br>$$LBP(x_c,y_c) = \sum_{p=0}^{P-1}s(g_p - g_c)2^P$$<br>ä¸Šå¼æ„å‘³ç€å·®å€¼çš„ç¬¦å·è½¬åŒ–æˆä¸€ä¸ªP-bitçš„äºŒè¿›åˆ¶æ•°ï¼Œè¿›è€Œè½¬åŒ–æˆä¸ºä¸€ä¸ªå–å€¼èŒƒå›´ä¸º0-$2^p$çš„ç¦»æ•£çš„LBPå€¼ï¼Œæˆ–è€…è¯´è½¬åŒ–ä¸ºä¸€ç§LBPæ¨¡å¼ã€‚</p><ul><li>å±€éƒ¨åŒºåŸŸçš„ç°åº¦åˆ†å¸ƒæˆ–çº¹ç†ï¼Œå¯ä»¥ç”¨è¿™ä¸ªLBPå€¼æˆ–LBPæ¨¡å¼è¿‘ä¼¼æè¿°ä¸º:<br>$$T\approx t(LBP(x_c,y_c))$$<br>LBPç®—å­å¯¹äºä»»ä½•å•è°ƒçš„ç°åº¦å˜åŒ–å…·æœ‰é²æ£’æ€§ï¼Œç”¨ç¬¦å·$LBP_P^R$è¡¨ç¤ºåœ¨åŠå¾„ä¸ºRçš„åœ†å½¢é‚»åŸŸå†…æœ‰Pä¸ªåƒç´ ç‚¹$g_p(p=0,1,â€¦,P)$çš„LBPç®—å­<br><img loading="lazy" src="https://i.loli.net/2019/07/31/5d415779b84ac47631.jpg"></li></ul><h2 id="LBPç­‰ä»·æ¨¡å¼"><a href="#LBPç­‰ä»·æ¨¡å¼" class="headerlink" title="LBPç­‰ä»·æ¨¡å¼"></a>LBPç­‰ä»·æ¨¡å¼</h2><h3 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å½“æŸä¸ªå±€éƒ¨äºŒè¿›åˆ¶æ¨¡å¼æ‰€å¯¹åº”çš„å¾ªç¯äºŒè¿›åˆ¶æ•°ä»ï¼åˆ°ï¼‘æˆ–ä»ï¼‘åˆ°ï¼æœ€å¤šæœ‰ä¸¤æ¬¡è·³å˜æ—¶ï¼Œè¯¥å±€éƒ¨äºŒè¿›åˆ¶æ¨¡å¼æ‰€å¯¹åº”çš„äºŒè¿›åˆ¶å°±ç§°ä¸ºä¸€ä¸ªç­‰ä»·æ¨¡å¼ç±»ã€‚æ¯”å¦‚00000000,11111111,10001111éƒ½æ˜¯ç­‰ä»·ç±»ã€‚</p><h3 id="æ£€éªŒæ–¹æ³•"><a href="#æ£€éªŒæ–¹æ³•" class="headerlink" title="æ£€éªŒæ–¹æ³•"></a>æ£€éªŒæ–¹æ³•</h3><p>æ£€éªŒæŸç§æ¨¡å¼æ˜¯å¦æ˜¯ç­‰ä»·æ¨¡å¼çš„ç®€å•åŠæ³•æ˜¯å°†å…¶å’Œå…¶ç§»åŠ¨ä¸€ä½åçš„äºŒè¿›åˆ¶æ¨¡å¼æŒ‰ä½ç›¸å‡çš„ç»å¯¹å€¼æ±‚å’Œ<br>$$U(G_p) = |s(g_{p-1}-g_c)-s(g_0-g_c)|+\sum_{p=1}^{P-1}|s(g_p-g_c)-s(g_{p-1}-g_c)$$<br>è‹¥æŸç§æ¨¡å¼è®¡ç®—å¾—åˆ°çš„ $U(G_p)$å°äºæˆ–ç­‰äºï¼’ï¼Œåˆ™å°†å…¶å½’äºç­‰ä»·æ¨¡å¼<br><img loading="lazy" src="https://i.loli.net/2019/07/31/5d415779c949196019.jpg"></p><h2 id="æ—‹è½¬ä¸å˜çš„LBPç®—å­"><a href="#æ—‹è½¬ä¸å˜çš„LBPç®—å­" class="headerlink" title="æ—‹è½¬ä¸å˜çš„LBPç®—å­"></a>æ—‹è½¬ä¸å˜çš„LBPç®—å­</h2><h3 id="å®šä¹‰-1"><a href="#å®šä¹‰-1" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>ä¸æ–­æ—‹è½¬åœ†å½¢é‚»åŸŸå¾—åˆ°ä¸€ç³»åˆ—çš„åˆå§‹å®šä¹‰çš„LBPå€¼ï¼Œå–å…¶æœ€å°å€¼ä½œä¸ºè¯¥é‚»åŸŸçš„LBPå€¼ï¼Œç”¨å…¬å¼è¡¨ç¤ºä¸º:<br>$$LBP_{P,R}^{ri} = min(ROR(LBP_{P,R}^{ri},i)|i=0,1,â€¦,P-1)$$<br>$LBP^{ri}$è¡¨ç¤ºæ—‹è½¬ä¸å˜çš„LBPç®—å­ï¼Œ$ROR(x,i)$å‡½æ•°ä¸ºæ—‹è½¬å‡½æ•°ï¼Œè¡¨ç¤ºå°†xå¾ªç¯å³ç§»i(i&lt;P)ä½ã€‚</p><h3 id="æ€§è´¨"><a href="#æ€§è´¨" class="headerlink" title="æ€§è´¨"></a>æ€§è´¨</h3><ul><li>å¯¹äºå›¾åƒæ—‹è½¬ï¼Œè¡¨ç°çš„æ›´ä¸ºé²æ£’ï¼Œå¹¶ä¸”LBPæ¨¡å¼çš„ç§ç±»è¿›ä¸€æ­¥å‡å°‘ï¼Œä½¿çº¹ç†è¯†åˆ«æ›´åŠ å®¹æ˜“ã€‚</li><li>ä¸¢å¤±äº†æ–¹å‘ä¿¡æ¯<br><img loading="lazy" src="https://i.loli.net/2019/07/31/5d415779b8fed91298.jpg"></li></ul><h2 id="æ—‹è½¬ä¸å˜çš„çš„ç­‰ä»·æ¨¡å¼"><a href="#æ—‹è½¬ä¸å˜çš„çš„ç­‰ä»·æ¨¡å¼" class="headerlink" title="æ—‹è½¬ä¸å˜çš„çš„ç­‰ä»·æ¨¡å¼"></a>æ—‹è½¬ä¸å˜çš„çš„ç­‰ä»·æ¨¡å¼</h2><h3 id="å®šä¹‰-2"><a href="#å®šä¹‰-2" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h3><p>å°†ç­‰ä»·æ¨¡å¼ç±»è¿›è¡Œæ—‹è½¬å¾—åˆ°æ—‹è½¬ä¸å˜çš„ç­‰ä»·æ¨¡å¼</p><p>$$LBP_{P,R}^{riu2} = \begin{cases}<br>\sum_{P=0}^{P-1}s(g_p-g_c), &amp; U(G_p) \leq 2 \\<br>P + 1, &amp; U(G_p) &gt;2<br>\end{cases}<br>$$</p><p>å…¶ä¸­$U(G_p)$è¡¨ç¤º0åˆ°1æˆ–1åˆ°0è·³å˜çš„æ¬¡æ•°ï¼Œ$LBP^{riu2}$è¢«ç§°ä¸ºæ—‹è½¬ä¸å˜çš„ç­‰ä»·æ¨¡å¼</p><h2 id="å‡ ç§LBPç®—å­çš„ç»´æ•°æ¯”è¾ƒ"><a href="#å‡ ç§LBPç®—å­çš„ç»´æ•°æ¯”è¾ƒ" class="headerlink" title="å‡ ç§LBPç®—å­çš„ç»´æ•°æ¯”è¾ƒ"></a>å‡ ç§LBPç®—å­çš„ç»´æ•°æ¯”è¾ƒ</h2><table><thead><tr><th align="center">LBP</th><th align="center">åŸå§‹æ¨¡å¼æ•°</th><th align="center">ç­‰ä»·æ¨¡å¼</th><th align="center">æ—‹è½¬ä¸å˜ç­‰ä»·æ¨¡å¼</th></tr></thead><tbody><tr><td align="center">$LBP_P^R$</td><td align="center">$2^P$</td><td align="center">$P(P-1) + 2$</td><td align="center">$P+1$</td></tr><tr><td align="center">$LBP_8^1$</td><td align="center">256</td><td align="center">58(+1)</td><td align="center">9</td></tr><tr><td align="center">$LBP_{16}^2$</td><td align="center">65536</td><td align="center">242(+1)</td><td align="center">17</td></tr><tr><td align="center">$LBP_{24}^3$</td><td align="center">16777216</td><td align="center">554(+1)</td><td align="center">25</td></tr></tbody></table><h1 id="LBPç‰¹å¾å®ç°"><a href="#LBPç‰¹å¾å®ç°" class="headerlink" title="LBPç‰¹å¾å®ç°"></a>LBPç‰¹å¾å®ç°</h1><h2 id="åŸå§‹LBPç‰¹å¾"><a href="#åŸå§‹LBPç‰¹å¾" class="headerlink" title="åŸå§‹LBPç‰¹å¾"></a>åŸå§‹LBPç‰¹å¾</h2><pre><code class="line-numbers language-cpp">//Original_LBPMat get_original_LBP_feature(Mat img)&#123;  Mat result;  result.create(img.rows - 2, img.cols -2, img.type());  result.setTo(0);  for (int i = 1; i &lt; img.rows - 1; i++)&#123;    for (int j = 1; j &lt; img.cols -1; j++)&#123;      uchar center = img.at&lt;uchar&gt;(i, j);      uchar lbpcode = 0;      lbpcode |= (img.at&lt;uchar&gt;(i - 1, j - 1) &gt;= center) &lt;&lt; 7;      lbpcode |= (img.at&lt;uchar&gt;(i - 1, j) &gt;= center) &lt;&lt; 6;      lbpcode |= (img.at&lt;uchar&gt;(i - 1, j + 1) &gt;= center) &lt;&lt; 5;      lbpcode |= (img.at&lt;uchar&gt;(i, j -1) &gt;= center) &lt;&lt; 4;      lbpcode |= (img.at&lt;uchar&gt;(i, j + 1) &gt;= center) &lt;&lt; 3;      lbpcode |= (img.at&lt;uchar&gt;(i + 1, j - 1) &gt;= center) &lt;&lt; 2;      lbpcode |= (img.at&lt;uchar&gt;(i + 1, j) &gt;= center) &lt;&lt; 1;      lbpcode |= (img.at&lt;uchar&gt;(i + 1, j + 1) &gt;= center) &lt;&lt; 0;      result.at&lt;uchar&gt;(i - 1, j - 1) = lbpcode;    &#125;  &#125;  return result;&#125;</code></pre><p><img loading="lazy" src="https://i.loli.net/2019/07/31/5d4161dac5f0b23887.png"></p><h2 id="åœ†å½¢LBPç‰¹å¾"><a href="#åœ†å½¢LBPç‰¹å¾" class="headerlink" title="åœ†å½¢LBPç‰¹å¾"></a>åœ†å½¢LBPç‰¹å¾</h2><pre><code class="line-numbers language-cpp">//Circular_LBP_featureMat get_circular_LBP_feature(Mat img, int radius, int neighbors)&#123;  Mat result;  result.create(img.rows - radius * 2, img.cols - radius * 2, img.type());  result.setTo(0);  //å¾ªç¯å¤„ç†æ¯ä¸ªåƒç´   for(int i=radius;i&lt;img.rows-radius;i++)  &#123;      for(int j=radius;j&lt;img.cols-radius;j++)      &#123;          //è·å¾—ä¸­å¿ƒåƒç´ ç‚¹çš„ç°åº¦å€¼          uchar center = img.at&lt;uchar&gt;(i,j);          uchar lbpCode = 0;          for(int k=0;k&lt;neighbors;k++)          &#123;              //æ ¹æ®å…¬å¼è®¡ç®—ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„åæ ‡ï¼Œè¿™ä¸ªåœ°æ–¹å¯ä»¥ä¼˜åŒ–ï¼Œä¸å¿…æ¯æ¬¡éƒ½è¿›è¡Œè®¡ç®—radius*cosï¼Œradius*sin              float x = i + static_cast&lt;float&gt;(radius * \                  cos(2.0 * CV_PI * k / neighbors));              float y = j - static_cast&lt;float&gt;(radius * \                  sin(2.0 * CV_PI * k / neighbors));                //æ ¹æ®å–æ•´ç»“æœè¿›è¡ŒåŒçº¿æ€§æ’å€¼ï¼Œå¾—åˆ°ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„ç°åº¦å€¼                //1.åˆ†åˆ«å¯¹xï¼Œyè¿›è¡Œä¸Šä¸‹å–æ•´                int x1 = static_cast&lt;int&gt;(floor(x));                int x2 = static_cast&lt;int&gt;(ceil(x));                int y1 = static_cast&lt;int&gt;(floor(y));                int y2 = static_cast&lt;int&gt;(ceil(y));                //å°†åæ ‡æ˜ å°„åˆ°0-1ä¹‹é—´                float tx = x - x1;                float ty = y - y1;                //æ ¹æ®0-1ä¹‹é—´çš„xï¼Œyçš„æƒé‡è®¡ç®—å…¬å¼è®¡ç®—æƒé‡                float w1 = (1-tx) * (1-ty);                float w2 =    tx  * (1-ty);                float w3 = (1-tx) *    ty;                float w4 =    tx  *    ty;                //3.æ ¹æ®åŒçº¿æ€§æ’å€¼å…¬å¼è®¡ç®—ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„ç°åº¦å€¼                float neighbor = img.at&lt;uchar&gt;(x1,y1) * w1 + img.at&lt;uchar&gt;(x1,y2) *w2 + img.at&lt;uchar&gt;(x2,y1) * w3 +img.at&lt;uchar&gt;(x2,y2) *w4;                //é€šè¿‡æ¯”è¾ƒè·å¾—LBPå€¼ï¼Œå¹¶æŒ‰é¡ºåºæ’åˆ—èµ·æ¥                lbpCode |= (neighbor&gt;center) &lt;&lt;(neighbors-k-1);            &#125;            result.at&lt;uchar&gt;(i-radius,j-radius) = lbpCode;        &#125;    &#125;  return result;&#125;</code></pre><p>ç»“æœ:<br><img loading="lazy" src="https://i.loli.net/2019/08/01/5d42b5d2e345026549.png"></p><p>ç¬¬ä¸€å¹…å›¾è®¾ç½®åŠå¾„ä¸º4,ç¬¬äºŒå¹…å›¾è®¾ç½®åŠå¾„ä¸º1,å¯ä»¥çœ‹åˆ°åŠå¾„è¶Šå°å¤„ç†çš„è¶Šç²¾ç»†ã€‚</p><h2 id="æ—‹è½¬ä¸å˜LBPç‰¹å¾"><a href="#æ—‹è½¬ä¸å˜LBPç‰¹å¾" class="headerlink" title="æ—‹è½¬ä¸å˜LBPç‰¹å¾"></a>æ—‹è½¬ä¸å˜LBPç‰¹å¾</h2><pre><code class="line-numbers language-cpp">//Rotation_Invariant_LBP_featureMat get_rotation_invariant_LBP_feature(Mat img, int radius, int neighbors)&#123;  Mat result;  result.create(img.rows - radius * 2, img.cols - radius * 2, img.type());  result.setTo(0);  for(int k=0;k&lt;neighbors;k++)    &#123;        //è®¡ç®—é‡‡æ ·ç‚¹å¯¹äºä¸­å¿ƒç‚¹åæ ‡çš„åç§»é‡rxï¼Œry        float rx = static_cast&lt;float&gt;(radius * cos(2.0 * CV_PI * k / neighbors));        float ry = -static_cast&lt;float&gt;(radius * sin(2.0 * CV_PI * k / neighbors));        //ä¸ºåŒçº¿æ€§æ’å€¼åšå‡†å¤‡        //å¯¹é‡‡æ ·ç‚¹åç§»é‡åˆ†åˆ«è¿›è¡Œä¸Šä¸‹å–æ•´        int x1 = static_cast&lt;int&gt;(floor(rx));        int x2 = static_cast&lt;int&gt;(ceil(rx));        int y1 = static_cast&lt;int&gt;(floor(ry));        int y2 = static_cast&lt;int&gt;(ceil(ry));        //å°†åæ ‡åç§»é‡æ˜ å°„åˆ°0-1ä¹‹é—´        float tx = rx - x1;        float ty = ry - y1;        //æ ¹æ®0-1ä¹‹é—´çš„xï¼Œyçš„æƒé‡è®¡ç®—å…¬å¼è®¡ç®—æƒé‡ï¼Œæƒé‡ä¸åæ ‡å…·ä½“ä½ç½®æ— å…³ï¼Œä¸åæ ‡é—´çš„å·®å€¼æœ‰å…³        float w1 = (1-tx) * (1-ty);        float w2 =    tx  * (1-ty);        float w3 = (1-tx) *    ty;        float w4 =    tx  *    ty;        //å¾ªç¯å¤„ç†æ¯ä¸ªåƒç´         for(int i=radius;i&lt;img.rows-radius;i++)        &#123;            for(int j=radius;j&lt;img.cols-radius;j++)            &#123;                //è·å¾—ä¸­å¿ƒåƒç´ ç‚¹çš„ç°åº¦å€¼                uchar center = img.at&lt;uchar&gt;(i,j);                //æ ¹æ®åŒçº¿æ€§æ’å€¼å…¬å¼è®¡ç®—ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„ç°åº¦å€¼                float neighbor = img.at&lt;uchar&gt;(i+x1,j+y1) * w1 + img.at&lt;uchar&gt;(i+x1,j+y2) *w2 + img.at&lt;uchar&gt;(i+x2,j+y1) * w3 +img.at&lt;uchar&gt;(i+x2,j+y2) *w4;                //LBPç‰¹å¾å›¾åƒçš„æ¯ä¸ªé‚»å±…çš„LBPå€¼ç´¯åŠ ï¼Œç´¯åŠ é€šè¿‡ä¸æ“ä½œå®Œæˆï¼Œå¯¹åº”çš„LBPå€¼é€šè¿‡ç§»ä½å–å¾—                result.at&lt;uchar&gt;(i-radius,j-radius) |= (neighbor&gt;center) &lt;&lt;(neighbors-k-1);            &#125;        &#125;    &#125;    //è¿›è¡Œæ—‹è½¬ä¸å˜å¤„ç†    for(int i=0;i&lt;result.rows;i++)    &#123;        for(int j=0;j&lt;result.cols;j++)        &#123;            uchar currentValue = result.at&lt;uchar&gt;(i,j);            uchar minValue = currentValue;            for(int k=1;k&lt;neighbors;k++)        //å¾ªç¯å·¦ç§»            &#123;                uchar temp = (currentValue&gt;&gt;(neighbors-k)) | (currentValue&lt;&lt;k);                if(temp &lt; minValue)                &#123;                    minValue = temp;                &#125;            &#125;            result.at&lt;uchar&gt;(i,j) = minValue;        &#125;    &#125;    return result;&#125;</code></pre><p>ç»“æœ:<br><img loading="lazy" src="https://i.loli.net/2019/08/01/5d42b5d30749958722.png"></p><p>ç¬¬ä¸€å¹…å›¾neighborså€¼è®¾ç½®ä¸º8,ç¬¬äºŒå¹…è®¾ç½®ä¸º6,å¯ä»¥çœ‹å‡ºneighborså€¼è¶Šå¤§ï¼Œå¾—åˆ°çš„LBPç‰¹å¾äº®åº¦è¶Šé«˜ã€‚</p><h2 id="å®Œæ•´ä»£ç å¦‚ä¸‹"><a href="#å®Œæ•´ä»£ç å¦‚ä¸‹" class="headerlink" title="å®Œæ•´ä»£ç å¦‚ä¸‹"></a>å®Œæ•´ä»£ç å¦‚ä¸‹</h2><pre><code class="line-numbers language-cpp">#include &lt;opencv2/highgui/highgui.hpp&gt;using namespace cv;//Original_LBPMat get_original_LBP_feature(Mat img)&#123;  Mat result;  result.create(img.rows - 2, img.cols -2, img.type());  result.setTo(0);  for (int i = 1; i &lt; img.rows - 1; i++)&#123;    for (int j = 1; j &lt; img.cols -1; j++)&#123;      uchar center = img.at&lt;uchar&gt;(i, j);      uchar lbpcode = 0;      lbpcode |= (img.at&lt;uchar&gt;(i - 1, j - 1) &gt;= center) &lt;&lt; 7;      lbpcode |= (img.at&lt;uchar&gt;(i - 1, j) &gt;= center) &lt;&lt; 6;      lbpcode |= (img.at&lt;uchar&gt;(i - 1, j + 1) &gt;= center) &lt;&lt; 5;      lbpcode |= (img.at&lt;uchar&gt;(i, j -1) &gt;= center) &lt;&lt; 4;      lbpcode |= (img.at&lt;uchar&gt;(i, j + 1) &gt;= center) &lt;&lt; 3;      lbpcode |= (img.at&lt;uchar&gt;(i + 1, j - 1) &gt;= center) &lt;&lt; 2;      lbpcode |= (img.at&lt;uchar&gt;(i + 1, j) &gt;= center) &lt;&lt; 1;      lbpcode |= (img.at&lt;uchar&gt;(i + 1, j + 1) &gt;= center) &lt;&lt; 0;      result.at&lt;uchar&gt;(i - 1, j - 1) = lbpcode;    &#125;  &#125;  return result;&#125;//Circular_LBP_featureMat get_circular_LBP_feature(Mat img, int radius, int neighbors)&#123;  Mat result;  result.create(img.rows - radius * 2, img.cols - radius * 2, img.type());  result.setTo(0);  //å¾ªç¯å¤„ç†æ¯ä¸ªåƒç´   for(int i=radius;i&lt;img.rows-radius;i++)  &#123;      for(int j=radius;j&lt;img.cols-radius;j++)      &#123;          //è·å¾—ä¸­å¿ƒåƒç´ ç‚¹çš„ç°åº¦å€¼          uchar center = img.at&lt;uchar&gt;(i,j);          uchar lbpCode = 0;          for(int k=0;k&lt;neighbors;k++)          &#123;              //æ ¹æ®å…¬å¼è®¡ç®—ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„åæ ‡ï¼Œè¿™ä¸ªåœ°æ–¹å¯ä»¥ä¼˜åŒ–ï¼Œä¸å¿…æ¯æ¬¡éƒ½è¿›è¡Œè®¡ç®—radius*cosï¼Œradius*sin              float x = i + static_cast&lt;float&gt;(radius * \                  cos(2.0 * CV_PI * k / neighbors));              float y = j - static_cast&lt;float&gt;(radius * \                  sin(2.0 * CV_PI * k / neighbors));                //æ ¹æ®å–æ•´ç»“æœè¿›è¡ŒåŒçº¿æ€§æ’å€¼ï¼Œå¾—åˆ°ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„ç°åº¦å€¼                //1.åˆ†åˆ«å¯¹xï¼Œyè¿›è¡Œä¸Šä¸‹å–æ•´                int x1 = static_cast&lt;int&gt;(floor(x));                int x2 = static_cast&lt;int&gt;(ceil(x));                int y1 = static_cast&lt;int&gt;(floor(y));                int y2 = static_cast&lt;int&gt;(ceil(y));                //å°†åæ ‡æ˜ å°„åˆ°0-1ä¹‹é—´                float tx = x - x1;                float ty = y - y1;                //æ ¹æ®0-1ä¹‹é—´çš„xï¼Œyçš„æƒé‡è®¡ç®—å…¬å¼è®¡ç®—æƒé‡                float w1 = (1-tx) * (1-ty);                float w2 =    tx  * (1-ty);                float w3 = (1-tx) *    ty;                float w4 =    tx  *    ty;                //3.æ ¹æ®åŒçº¿æ€§æ’å€¼å…¬å¼è®¡ç®—ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„ç°åº¦å€¼                float neighbor = img.at&lt;uchar&gt;(x1,y1) * w1 + img.at&lt;uchar&gt;(x1,y2) *w2 + img.at&lt;uchar&gt;(x2,y1) * w3 +img.at&lt;uchar&gt;(x2,y2) *w4;                //é€šè¿‡æ¯”è¾ƒè·å¾—LBPå€¼ï¼Œå¹¶æŒ‰é¡ºåºæ’åˆ—èµ·æ¥                lbpCode |= (neighbor&gt;center) &lt;&lt;(neighbors-k-1);            &#125;            result.at&lt;uchar&gt;(i-radius,j-radius) = lbpCode;        &#125;    &#125;  return result;&#125;//Rotation_Invariant_LBP_featureMat get_rotation_invariant_LBP_feature(Mat img, int radius, int neighbors)&#123;  Mat result;  result.create(img.rows - radius * 2, img.cols - radius * 2, img.type());  result.setTo(0);  for(int k=0;k&lt;neighbors;k++)    &#123;        //è®¡ç®—é‡‡æ ·ç‚¹å¯¹äºä¸­å¿ƒç‚¹åæ ‡çš„åç§»é‡rxï¼Œry        float rx = static_cast&lt;float&gt;(radius * cos(2.0 * CV_PI * k / neighbors));        float ry = -static_cast&lt;float&gt;(radius * sin(2.0 * CV_PI * k / neighbors));        //ä¸ºåŒçº¿æ€§æ’å€¼åšå‡†å¤‡        //å¯¹é‡‡æ ·ç‚¹åç§»é‡åˆ†åˆ«è¿›è¡Œä¸Šä¸‹å–æ•´        int x1 = static_cast&lt;int&gt;(floor(rx));        int x2 = static_cast&lt;int&gt;(ceil(rx));        int y1 = static_cast&lt;int&gt;(floor(ry));        int y2 = static_cast&lt;int&gt;(ceil(ry));        //å°†åæ ‡åç§»é‡æ˜ å°„åˆ°0-1ä¹‹é—´        float tx = rx - x1;        float ty = ry - y1;        //æ ¹æ®0-1ä¹‹é—´çš„xï¼Œyçš„æƒé‡è®¡ç®—å…¬å¼è®¡ç®—æƒé‡ï¼Œæƒé‡ä¸åæ ‡å…·ä½“ä½ç½®æ— å…³ï¼Œä¸åæ ‡é—´çš„å·®å€¼æœ‰å…³        float w1 = (1-tx) * (1-ty);        float w2 =    tx  * (1-ty);        float w3 = (1-tx) *    ty;        float w4 =    tx  *    ty;        //å¾ªç¯å¤„ç†æ¯ä¸ªåƒç´         for(int i=radius;i&lt;img.rows-radius;i++)        &#123;            for(int j=radius;j&lt;img.cols-radius;j++)            &#123;                //è·å¾—ä¸­å¿ƒåƒç´ ç‚¹çš„ç°åº¦å€¼                uchar center = img.at&lt;uchar&gt;(i,j);                //æ ¹æ®åŒçº¿æ€§æ’å€¼å…¬å¼è®¡ç®—ç¬¬kä¸ªé‡‡æ ·ç‚¹çš„ç°åº¦å€¼                float neighbor = img.at&lt;uchar&gt;(i+x1,j+y1) * w1 + img.at&lt;uchar&gt;(i+x1,j+y2) *w2 + img.at&lt;uchar&gt;(i+x2,j+y1) * w3 +img.at&lt;uchar&gt;(i+x2,j+y2) *w4;                //LBPç‰¹å¾å›¾åƒçš„æ¯ä¸ªé‚»å±…çš„LBPå€¼ç´¯åŠ ï¼Œç´¯åŠ é€šè¿‡ä¸æ“ä½œå®Œæˆï¼Œå¯¹åº”çš„LBPå€¼é€šè¿‡ç§»ä½å–å¾—                result.at&lt;uchar&gt;(i-radius,j-radius) |= (neighbor&gt;center) &lt;&lt;(neighbors-k-1);            &#125;        &#125;    &#125;    //è¿›è¡Œæ—‹è½¬ä¸å˜å¤„ç†    for(int i=0;i&lt;result.rows;i++)    &#123;        for(int j=0;j&lt;result.cols;j++)        &#123;            uchar currentValue = result.at&lt;uchar&gt;(i,j);            uchar minValue = currentValue;            for(int k=1;k&lt;neighbors;k++)        //å¾ªç¯å·¦ç§»            &#123;                uchar temp = (currentValue&gt;&gt;(neighbors-k)) | (currentValue&lt;&lt;k);                if(temp &lt; minValue)                &#123;                    minValue = temp;                &#125;            &#125;            result.at&lt;uchar&gt;(i,j) = minValue;        &#125;    &#125;    return result;&#125;int main(int argc, char* argv[])&#123;  Mat src = imread(argv[1], 0);  Mat dst = get_original_LBP_feature(src);  Mat odst1 = get_circular_LBP_feature(src, 1, 8);  //Mat odst4 = get_circular_LBP_feature(src, 4, 8);  Mat rif8 = get_rotation_invariant_LBP_feature(src, 1, 8);  Mat rif6 = get_rotation_invariant_LBP_feature(src, 1, 6);  imshow(&quot;åŸå§‹å›¾ç‰‡&quot;, src);  imshow(&quot;åŸå§‹LBP&quot;, dst);  imshow(&quot;åœ†å½¢LBP&quot;, odst1);  //imshow(&quot;åœ†å½¢LBP4&quot;, odst4);  imshow(&quot;æ—‹è½¬ä¸å˜LBP&quot;, rif8);  //imshow(&quot;æ—‹è½¬ä¸å˜LBP6&quot;, rif6);  waitKey(0);  return 0;&#125;</code></pre><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/03/face-detection/">Face Detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> å®ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> c++ </tag>
            
            <tag> LBP </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>High-quality-ellipse-detection</title>
      <link href="/2019/07/29/high-quality-ellipse-detection/"/>
      <url>/2019/07/29/high-quality-ellipse-detection/</url>
      
        <content type="html"><![CDATA[<h1 id="High-quality-ellipse-detection"><a href="#High-quality-ellipse-detection" class="headerlink" title="High-quality-ellipse-detection"></a>High-quality-ellipse-detection</h1><p>ä¸ªäººç¯å¢ƒ:Matlab 2019aã€VS2017ã€Opencv3.4.4ï¼Œ64ä½Windowsæ“ä½œç³»ç»Ÿ</p><h2 id="OpenCVç¯å¢ƒé…ç½®è¯·çœ‹è¿™ç¯‡"><a href="#OpenCVç¯å¢ƒé…ç½®è¯·çœ‹è¿™ç¯‡" class="headerlink" title="OpenCVç¯å¢ƒé…ç½®è¯·çœ‹è¿™ç¯‡"></a>OpenCVç¯å¢ƒé…ç½®è¯·çœ‹è¿™ç¯‡</h2><p><a href="https://godliuyang.wang/2019/07/25/opencv-ru-keng-zhi-nan-huan-jing-da-jian-pian/">OpenCVå…¥å‘æŒ‡å—:ç¯å¢ƒæ­å»ºç¯‡</a></p><h2 id="MatLabå’ŒC-æ··åˆç¼–ç¨‹ç¯å¢ƒé…ç½®"><a href="#MatLabå’ŒC-æ··åˆç¼–ç¨‹ç¯å¢ƒé…ç½®" class="headerlink" title="MatLabå’ŒC++æ··åˆç¼–ç¨‹ç¯å¢ƒé…ç½®"></a>MatLabå’ŒC++æ··åˆç¼–ç¨‹ç¯å¢ƒé…ç½®</h2><p>Matlabçš„å®‰è£…è¿™é‡Œä¸å†è¯´    </p><ol><li>åœ¨å‘½ä»¤è¡Œé‡Œè¾“å…¥ <code>mex -setup</code>ï¼Œé€‰æ‹©vså°±è¡Œäº†</li><li>æ‰§è¡Œ <code>mex -setup C++</code>å®Œæˆé…ç½®<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/1.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/2.png"></li></ol><h2 id="ä¸‹è½½Githubæ–‡ä»¶"><a href="#ä¸‹è½½Githubæ–‡ä»¶" class="headerlink" title="ä¸‹è½½Githubæ–‡ä»¶"></a>ä¸‹è½½Githubæ–‡ä»¶</h2><p>download Zipå³å¯</p><h2 id="å¯¼å…¥ä¾èµ–æ–‡ä»¶"><a href="#å¯¼å…¥ä¾èµ–æ–‡ä»¶" class="headerlink" title="å¯¼å…¥ä¾èµ–æ–‡ä»¶"></a>å¯¼å…¥ä¾èµ–æ–‡ä»¶</h2><p>å°† <strong>D:\OpenCV\opencv\build\x64\vc15\lib</strong>ä¸‹çš„ <strong>opencv_world344.lib</strong>æ–‡ä»¶å¤åˆ¶åˆ°ä½ çš„Matlabå®‰è£…è·¯å¾„ä¸‹çš„ <strong>microsoft</strong>æ–‡ä»¶å¤¹ä¸‹,æˆ‘çš„æ˜¯ <strong>D:\MATLAB\R2019a\extern\lib\win64\microsoft</strong></p><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/3.png"><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/4.png"></p><h2 id="åœ¨Matlabä¸­å¯¼å…¥æ–‡ä»¶"><a href="#åœ¨Matlabä¸­å¯¼å…¥æ–‡ä»¶" class="headerlink" title="åœ¨Matlabä¸­å¯¼å…¥æ–‡ä»¶"></a>åœ¨Matlabä¸­å¯¼å…¥æ–‡ä»¶</h2><h2 id="åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤"><a href="#åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤" class="headerlink" title="åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤"></a>åœ¨å‘½ä»¤è¡Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</h2><p>æ³¨æ„ä½œè€…çš„å‘½ä»¤ä¸º:</p><pre><code class="line-numbers language-matlab">mex generateEllipseCandidates.cpp -IF:\OpenCV\opencv2.4.9\build\include -IF:\OpenCV\opencv2.4.9\build\include\opencv -IF:\OpenCV\opencv2.4.9\build\include\opencv2 -LF:\OpenCV\opencv2.4.9\build\x64\vc11\lib -IF:\Matlab\settlein\extern\include -LF:\Matlab\settlein\extern\lib\win64\microsoft -lopencv_core249 -lopencv_highgui249 -lopencv_imgproc249 -llibmwlapack.lib</code></pre><p>æŠŠOpenCVå’ŒMatlabçš„ç›¸å…³æ–‡ä»¶çš„è·¯å¾„æ”¹æˆä½ çš„å®‰è£…è·¯å¾„<br>æˆ‘è¿™é‡Œç‰ˆæœ¬å·ä¸ºOpenCV3.4.4,å®‰è£…è·¯å¾„å¦‚ä¸‹,<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/5.png"><br>æ•…ä¿®æ”¹ä¸º<code>D:\OpenCV\opencv\build...</code>,<br>ç”±äºOpenCV3.4.4åªæœ‰ <strong>opencv_world344.lib</strong> è¿™ä¸€ä¸ªlibæ–‡ä»¶ï¼Œæ•…å°† <code>LF:\Matlab\settlein\extern\lib\win64\microsoft -lopencv_core249 -lopencv_highgui249 -lopencv_imgproc249 -llibmwlapack.lib</code>ã€€ä¿®æ”¹ä¸º <code>LD:\Matlab\R2019a\extern\lib\win64\microsoft -lopencv_world344 -llibmwlapack.lib</code></p><p>å®Œæ•´çš„å‘½ä»¤ä¸º:</p><pre><code class="line-numbers language-matlab">mex generateEllipseCandidates.cpp -ID:\OpenCV\opencv\build\include -ID:\OpenCV\opencv\build\include\opencv -ID:\OpenCV\opencv\build\include\opencv2 -LD:\OpenCV\opencv\build\x64\vc15\lib -ID:\Matlab\R2019a\include -LD:\Matlab\R2019a\extern\lib\win64\microsoft -lopencv_world344 -llibmwlapack.lib</code></pre><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/6.png"><br>ç¼–è¯‘æˆåŠŸä¹‹åç”Ÿæˆ<code>generateEllipseCandidates.mexw64</code>æ–‡ä»¶<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/7.png"><br>ä¹‹åå†è¿è¡Œ<code>LCS_ellipse.m</code><br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/8.png"></p><p>##ã€€æŠ¥é”™è§£å†³åŠæ³•</p><ol><li>å¦‚å›¾<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/9.png"><br>åœ¨.cppæ–‡ä»¶ä¸­æ·»åŠ </li></ol><pre><code class="line-numbers language-cpp">using namespace std</code></pre><ol start="2"><li>å¦‚å›¾</li></ol><p><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/High-quality-ellipse-detection/10.png"><br>ç¼ºå°‘libæ–‡ä»¶ï¼Œæ£€æŸ¥ä¸€ä¸‹æ˜¯ä¸æ˜¯é…ç½®å‡ºé”™äº†</p><p>å‚è€ƒæ–‡çŒ®:</p><ol><li><a href="https://github.com/AlanLuSun/High-quality-ellipse-detection">Arc-support Line Segments Revisited: An Efficient and High-quality Ellipse Detection</a></li></ol><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/03/face-detection/">Face Detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> å®ä¹  </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
            <tag> OpenCV </tag>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ellipse function</title>
      <link href="/2019/07/28/ellipse-function/"/>
      <url>/2019/07/28/ellipse-function/</url>
      
        <content type="html"><![CDATA[<h1 id="High-quality-ellipse-detection"><a href="#High-quality-ellipse-detection" class="headerlink" title="High-quality-ellipse-detection"></a>High-quality-ellipse-detection</h1><p>é«˜ç²¾åº¦æ¤­åœ†æ£€æµ‹<br>å‚è€ƒ<a href="https://github.com/AlanLuSun/High-quality-ellipse-detection">High-quality-ellipse-detection</a></p><p>å…³äºæ¤­åœ†æ£€æµ‹çš„éƒ¨åˆ†ï¼Œå®åœ¨æ˜¯çœ‹ä¸æ‡‚ï¼Œæˆ‘åªåšäº†å¾—åˆ°æ¤­åœ†å‚æ•°ç»˜åˆ¶æ¤­åœ†çš„éƒ¨åˆ†</p><h2 id="OpenCVæ¤­åœ†ç»˜åˆ¶"><a href="#OpenCVæ¤­åœ†ç»˜åˆ¶" class="headerlink" title="OpenCVæ¤­åœ†ç»˜åˆ¶"></a>OpenCVæ¤­åœ†ç»˜åˆ¶</h2><h3 id="ellipseå‡½æ•°"><a href="#ellipseå‡½æ•°" class="headerlink" title="ellipseå‡½æ•°"></a>ellipseå‡½æ•°</h3><p>è¯­æ³•</p><pre><code>void cvEllipse( CvArr* img, CvPoint center, CvSize axes, double angle,                double start_angle, double end_angle, CvScalar color,                int thickness=1, int line_type=8, int shift=0 );</code></pre><p>å‚æ•°:<br>img:å›¾åƒã€‚<br>center:æ¤­åœ†åœ†å¿ƒåæ ‡ã€‚<br>axes:è½´çš„é•¿åº¦ã€‚<br>angle:åè½¬çš„è§’åº¦ã€‚<br>start_angle:åœ†å¼§èµ·å§‹è§’çš„è§’åº¦ã€‚<br>end_angle:åœ†å¼§ç»ˆç»“è§’çš„è§’åº¦ã€‚<br>color:çº¿æ¡çš„é¢œè‰²ã€‚<br>thickness:çº¿æ¡çš„ç²—ç»†ç¨‹åº¦ã€‚<br>line_type:çº¿æ¡çš„ç±»å‹,è§CVLINEçš„æè¿°ã€‚<br>shift:åœ†å¿ƒåæ ‡ç‚¹å’Œæ•°è½´çš„ç²¾åº¦ã€‚    </p><p>C++ä»£ç å®ç°</p><pre><code class="line-numbers language-cpp">#include&lt;opencv2/opencv.hpp&gt;#include&lt;opencv2/core/core.hpp&gt; // æ ¸å¿ƒç»„ä»¶#include&lt;opencv2/highgui/highgui.hpp&gt;  // GUI#include&lt;opencv2/imgproc/imgproc.hpp&gt;  // å›¾åƒå¤„ç†using namespace cv;using namespace std;// å®šä¹‰å­˜å‚¨æ¤­åœ†å‚æ•°çš„æ•°æ®ç»“æ„struct Ellipse &#123;    int x0, y0, a, b;    double alpha;&#125;;int drawEllipse(Ellipse ellipses_para, Mat im);int drawEllipse(Ellipse ellipses_para, Mat im) &#123;// Draw Ellipse after detection//x0 - x coordinate of the center of the ellipse//y0 - y coordinate of the center of the ellipse//a - length of semimajor axis//b - length of semiminor axis//alpha - angle of orientation of semimajor axis    if (im.empty()) &#123;        printf(&quot;imread error!&quot;);        return -1;    &#125;    int x0, y0, a, b;    double alpha;    int thickness = 3;    int lineType = 8;    x0 = ellipses_para.x0;    y0 = ellipses_para.y0;    a = ellipses_para.a;    b = ellipses_para.b;    alpha = ellipses_para.alpha;    ellipse(im, Point(x0, y0), Size(a, b), alpha, 0, 360, Scalar(255, 255, 0), thickness, lineType);    imshow(&quot;åŸå›¾&quot;, im);    waitKey();&#125;int main() &#123;    Ellipse ellipses_para;    Mat im = imread(&quot;11.bmp&quot;);    /*test        ellipses_para.x0 = 100;    ellipses_para.y0 = 100;    ellipses_para.a = 90;    ellipses_para.b = 60;    ellipses_para.alpha = 80.0;*/    drawEllipse(ellipses_para, im);    return 0;&#125;</code></pre>]]></content>
      
      
      
        <tags>
            
            <tag> å®ä¹  </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åœ†å½¢æ£€æµ‹</title>
      <link href="/2019/07/26/yuan-xing-jian-ce/"/>
      <url>/2019/07/26/yuan-xing-jian-ce/</url>
      
        <content type="html"><![CDATA[<h1 id="åŸºäºéœå¤«å˜æ¢çš„åœ†å½¢æ£€æµ‹"><a href="#åŸºäºéœå¤«å˜æ¢çš„åœ†å½¢æ£€æµ‹" class="headerlink" title="åŸºäºéœå¤«å˜æ¢çš„åœ†å½¢æ£€æµ‹"></a>åŸºäºéœå¤«å˜æ¢çš„åœ†å½¢æ£€æµ‹</h1><h2 id="éœå¤«å˜æ¢çš„åŸç†"><a href="#éœå¤«å˜æ¢çš„åŸç†" class="headerlink" title="éœå¤«å˜æ¢çš„åŸç†"></a>éœå¤«å˜æ¢çš„åŸç†</h2><p>Hough å˜æ¢å°±æ˜¯åˆ©ç”¨å›¾åƒå…¨å±€ç‰¹å¾å°†è¾¹ç¼˜åƒç´ è¿æ¥èµ·æ¥ç»„æˆåŒºåŸŸå°é—­è¾¹ç•Œï¼Œå®ƒå°†å›¾åƒç©ºé—´è½¬æ¢åˆ°å‚æ•°ç©ºé—´ï¼Œåœ¨å‚æ•°ç©ºé—´å¯¹ç‚¹è¿›è¡Œæè¿°ï¼Œè¾¾åˆ°æ£€æµ‹å›¾åƒè¾¹ç¼˜çš„ç›®çš„ã€‚è¯¥æ–¹æ³•æŠŠæ‰€æœ‰å¯èƒ½è½åœ¨è¾¹ç¼˜ä¸Šçš„ç‚¹è¿›è¡Œç»Ÿè®¡è®¡ç®—ï¼Œæ ¹æ®å¯¹æ•°æ®çš„ç»Ÿè®¡ç»“æœç¡®å®šå±äºè¾¹ç¼˜çš„ç¨‹åº¦ã€‚Hough å˜æ¢çš„å®è´¨å°±æ˜¯å¯¹å›¾åƒè¿›è¡Œåæ ‡å˜æ¢ï¼ŒæŠŠå¹³é¢åæ ‡å˜æ¢ä¸ºå‚æ•°åæ ‡ï¼Œä½¿å˜æ¢çš„ç»“æœæ›´æ˜“è¯†åˆ«å’Œæ£€æµ‹ã€‚<br>å…·ä½“åŸç†: <a href="https://godliuyang.wang/2019/07/26/huo-fu-bian-huan/">éœå¤«å˜æ¢</a></p><hr><h3 id="å¯¹éœå¤«å˜æ¢åœ†å½¢æ£€æµ‹çš„åŸç†çš„ç†è§£"><a href="#å¯¹éœå¤«å˜æ¢åœ†å½¢æ£€æµ‹çš„åŸç†çš„ç†è§£" class="headerlink" title="å¯¹éœå¤«å˜æ¢åœ†å½¢æ£€æµ‹çš„åŸç†çš„ç†è§£:"></a>å¯¹éœå¤«å˜æ¢åœ†å½¢æ£€æµ‹çš„åŸç†çš„ç†è§£:</h3><p>å·²çŸ¥åœ†çš„ä¸€èˆ¬æ–¹ç¨‹ä¸º:<br>$$(x-a)^2 + (y-b)^2 = r^2 $$<br>å…¶ä¸­(a,b)ä»£è¡¨åœ†å¿ƒï¼Œræ˜¯åœ†çš„åŠå¾„<br>ä¾æ—§æ˜¯æŠŠå›¾åƒç©ºé—´è½¬æ¢æˆå‚æ•°ç©ºé—´ï¼Œè¿™é‡Œæ˜¯å°†X-Yå¹³é¢è½¬åŒ–æˆa-b-rå‚æ•°ç©ºé—´ï¼Œåˆ™åœ¨å›¾åƒç©ºé—´ä¸­çš„ä¸€ä¸ªè¿‡(x,y)ç‚¹çš„åœ†ï¼Œå¯¹åº”å‚æ•°ç©ºé—´ä¸­é«˜åº¦å˜åŒ–çš„ä¸‰ç»´é”¥é¢ã€‚<br><img loading="lazy" src="https://i.loli.net/2019/07/26/5d3ab8c50fc2a28962.jpg"><br>åŒç†ï¼Œè¿‡å›¾åƒç©ºé—´çš„ä»»æ„ä¸€ç‚¹çš„åœ†éƒ½å¯¹åº”äºå‚æ•°ç©ºé—´çš„ä¸€ä¸ªä¸‰ç»´é”¥é¢ï¼Œå› æ­¤ï¼Œè¿‡å›¾åƒç©ºé—´ä¸ŠåŒä¸€åœ†çš„ç‚¹ï¼Œå¯¹åº”çš„å‚æ•°ç©ºé—´ä¸­çš„ä¸‰ç»´é”¥é¢ï¼Œåœ¨rå¹³é¢å¿…ç„¶ç›¸äº¤äºä¸€ç‚¹(a,b,r)ï¼Œè¿™æ ·é€šè¿‡è¿™ä¸€ç‚¹å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªåœ†çš„å‚æ•°ã€‚<br><img loading="lazy" src="https://i.loli.net/2019/07/26/5d3ab8c4d635d79647.jpg"><br>è¿™é‡Œéœå¤«å˜æ¢çš„åœ†æ£€æµ‹å°±æ˜¯åœ¨è¿™ä¸‰ä¸ªå‚æ•°ç»„æˆçš„ä¸‰ç»´ç©ºé—´å†…è¿›è¡Œçš„<br>æ¢ä¸€ç§ç†è§£æ€è·¯:åœ¨ç¬›å¡å°”åæ ‡ä¸‹çš„åœ†çš„æ–¹ç¨‹å·²ç»™å‡ºï¼Œåœ¨æåæ ‡ç³»ä¸‹ï¼Œå‡è®¾åœ†å¿ƒä¸º$(x_0,y_0)$,åœ†ä¸Šçš„ç‚¹å¯ä»¥è¡¨ç¤ºä¸º:<br>$$x = x_0 + rcos\theta, y = y_0 + rsin\theta$$<br>å¯¹äºä¸€ä¸ªåœ†ï¼Œå‡å¦‚ä¸­å¿ƒåƒç´ ç‚¹$(x_0,y_0)$ï¼ŒåŠå¾„rå·²çŸ¥ï¼Œé‚£ä¹ˆæ—‹è½¬360Â°ï¼Œåœ†ä¸Šçš„æ‰€æœ‰ç‚¹å°±å¯ä»¥æ±‚å¾—ã€‚åŒæ ·ï¼Œå‡å¦‚åœ†ä¸Šçš„æ‰€æœ‰ç‚¹ï¼ŒåŠå¾„rå·²çŸ¥ï¼Œæ—‹è½¬360Â°ï¼Œåˆ™ä¼šå¾—åˆ°ä¸€ä¸ªç´¯åŠ çš„æå€¼ç‚¹ï¼Œé‚£ä¹ˆè¿™ä¸ªç‚¹å°±æ˜¯åœ†å¿ƒäº†ã€‚</p><hr><p>ç†è®ºä¸Šéœå¤«å˜æ¢å¯ä»¥æ£€æµ‹ä»»ä½•å½¢çŠ¶ï¼Œä½†å¤æ‚çš„å½¢çŠ¶éœ€è¦çš„å‚æ•°å°±å¤šï¼Œéœå¤«ç©ºé—´çš„ç»´æ•°å°±å¤šï¼Œå› æ­¤åœ¨ç¨‹åºå®ç°ä¸Šæ‰€éœ€çš„å†…å­˜ç©ºé—´ä»¥åŠè¿è¡Œæ•ˆç‡ä¸Šéƒ½ä¸åˆ©äºæŠŠæ ‡å‡†éœå¤«å˜æ¢åº”ç”¨äºå®é™…å¤æ‚å›¾å½¢çš„æ£€æµ‹ä¸­ã€‚æ‰€ä»¥ä¸€äº›æ”¹è¿›çš„éœå¤«å˜æ¢å°±ç›¸ç»§æå‡ºï¼Œå®ƒä»¬çš„åŸºæœ¬åŸç†å°±æ˜¯å°½å¯èƒ½å‡å°éœå¤«ç©ºé—´çš„ç»´æ•°ã€‚</p><p>åœ¨OpenCVä¸­ï¼ŒHoughCircleså‡½æ•°å®ç°äº†åœ†å½¢æ£€æµ‹ï¼Œå®ƒä½¿ç”¨çš„ç®—æ³•ä¹Ÿæ˜¯æ”¹è¿›çš„éœå¤«å˜æ¢â€”â€”2-1éœå¤«å˜æ¢ï¼ˆ21HTï¼‰ã€‚ä¹Ÿå°±æ˜¯æŠŠéœå¤«å˜æ¢åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼Œä»è€Œå‡å°äº†éœå¤«ç©ºé—´çš„ç»´æ•°ã€‚ç¬¬ä¸€é˜¶æ®µç”¨äºæ£€æµ‹åœ†å¿ƒï¼Œç¬¬äºŒé˜¶æ®µä»åœ†å¿ƒæ¨å¯¼å‡ºåœ†åŠå¾„ã€‚<br>æ£€æµ‹åœ†å¿ƒçš„åŸç†æ˜¯åœ†å¿ƒæ˜¯å®ƒæ‰€åœ¨åœ†å‘¨æ‰€æœ‰æ³•çº¿çš„äº¤æ±‡å¤„ï¼Œå› æ­¤åªè¦æ‰¾åˆ°è¿™ä¸ªäº¤ç‚¹ï¼Œå³å¯ç¡®å®šåœ†å¿ƒï¼Œè¯¥æ–¹æ³•æ‰€ç”¨çš„éœå¤«ç©ºé—´ä¸å›¾åƒç©ºé—´çš„æ€§è´¨ç›¸åŒï¼Œå› æ­¤å®ƒä»…ä»…æ˜¯äºŒç»´ç©ºé—´ã€‚æ£€æµ‹åœ†åŠå¾„çš„æ–¹æ³•æ˜¯ä»åœ†å¿ƒåˆ°åœ†å‘¨ä¸Šçš„ä»»æ„ä¸€ç‚¹çš„è·ç¦»ï¼ˆå³åŠå¾„ï¼‰æ˜¯ç›¸åŒï¼Œåªè¦ç¡®å®šä¸€ä¸ªé˜ˆå€¼ï¼Œåªè¦ç›¸åŒè·ç¦»çš„æ•°é‡å¤§äºè¯¥é˜ˆå€¼ï¼Œæˆ‘ä»¬å°±è®¤ä¸ºè¯¥è·ç¦»å°±æ˜¯è¯¥åœ†å¿ƒæ‰€å¯¹åº”çš„åœ†åŠå¾„ï¼Œè¯¥æ–¹æ³•åªéœ€è¦è®¡ç®—åŠå¾„ç›´æ–¹å›¾ï¼Œä¸ä½¿ç”¨éœå¤«ç©ºé—´ã€‚åœ†å’ŒåŠå¾„çŸ¥é“äº†ï¼Œåœ†è‡ªç„¶å°±èƒ½æ±‚å¾—ã€‚</p><p>21HTçš„å…·ä½“æ­¥éª¤:<br>ç¬¬ä¸€é˜¶æ®µï¼šæ£€æµ‹åœ†å¿ƒ</p><p>1.1ã€å¯¹è¾“å…¥å›¾åƒè¾¹ç¼˜æ£€æµ‹ï¼›</p><p>1.2ã€è®¡ç®—å›¾å½¢çš„æ¢¯åº¦ï¼Œå¹¶ç¡®å®šåœ†å‘¨çº¿ï¼Œå…¶ä¸­åœ†å‘¨çš„æ¢¯åº¦å°±æ˜¯å®ƒçš„æ³•çº¿ï¼›</p><p>1.3ã€åœ¨äºŒç»´éœå¤«ç©ºé—´å†…ï¼Œç»˜å‡ºæ‰€æœ‰å›¾å½¢çš„æ¢¯åº¦ç›´çº¿ï¼ŒæŸåæ ‡ç‚¹ä¸Šç´¯åŠ å’Œçš„å€¼è¶Šå¤§ï¼Œè¯´æ˜åœ¨è¯¥ç‚¹ä¸Šç›´çº¿ç›¸äº¤çš„æ¬¡æ•°è¶Šå¤šï¼Œä¹Ÿå°±æ˜¯è¶Šæœ‰å¯èƒ½æ˜¯åœ†å¿ƒï¼›</p><p>1.4ã€åœ¨éœå¤«ç©ºé—´çš„4é‚»åŸŸå†…è¿›è¡Œéæœ€å¤§å€¼æŠ‘åˆ¶ï¼›</p><p>1.5ã€è®¾å®šä¸€ä¸ªé˜ˆå€¼ï¼Œéœå¤«ç©ºé—´å†…ç´¯åŠ å’Œå¤§äºè¯¥é˜ˆå€¼çš„ç‚¹å°±å¯¹åº”äºåœ†å¿ƒã€‚</p><p>ç¬¬äºŒé˜¶æ®µï¼šæ£€æµ‹åœ†åŠå¾„</p><p>2.1ã€è®¡ç®—æŸä¸€ä¸ªåœ†å¿ƒåˆ°æ‰€æœ‰åœ†å‘¨çº¿çš„è·ç¦»ï¼Œè¿™äº›è·ç¦»ä¸­å°±æœ‰è¯¥åœ†å¿ƒæ‰€å¯¹åº”çš„åœ†çš„åŠå¾„çš„å€¼ï¼Œè¿™äº›åŠå¾„å€¼å½“ç„¶æ˜¯ç›¸ç­‰çš„ï¼Œå¹¶ä¸”è¿™äº›åœ†åŠå¾„çš„æ•°é‡è¦è¿œè¿œå¤§äºå…¶ä»–è·ç¦»å€¼ç›¸ç­‰çš„æ•°é‡ï¼›</p><p>2.2ã€è®¾å®šä¸¤ä¸ªé˜ˆå€¼ï¼Œå®šä¹‰ä¸ºæœ€å¤§åŠå¾„å’Œæœ€å°åŠå¾„ï¼Œä¿ç•™è·ç¦»åœ¨è¿™ä¸¤ä¸ªåŠå¾„ä¹‹é—´çš„å€¼ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬æ£€æµ‹çš„åœ†ä¸èƒ½å¤ªå¤§ï¼Œä¹Ÿä¸èƒ½å¤ªå°ï¼›</p><p>2.3ã€å¯¹ä¿ç•™ä¸‹æ¥çš„è·ç¦»è¿›è¡Œæ’åºï¼›</p><p>2.4ã€æ‰¾åˆ°è·ç¦»ç›¸åŒçš„é‚£äº›å€¼ï¼Œå¹¶è®¡ç®—ç›¸åŒå€¼çš„æ•°é‡ï¼›</p><p>2.5ã€è®¾å®šä¸€ä¸ªé˜ˆå€¼ï¼Œåªæœ‰ç›¸åŒå€¼çš„æ•°é‡å¤§äºè¯¥é˜ˆå€¼ï¼Œæ‰è®¤ä¸ºè¯¥å€¼æ˜¯è¯¥åœ†å¿ƒå¯¹åº”çš„åœ†åŠå¾„ï¼›</p><p>2.6ã€å¯¹æ¯ä¸€ä¸ªåœ†å¿ƒï¼Œå®Œæˆä¸Šé¢çš„2.1ï½2.5æ­¥éª¤ï¼Œå¾—åˆ°æ‰€æœ‰çš„åœ†åŠå¾„ã€‚</p><p>HoughCircleså‡½æ•°çš„åŸå‹ä¸ºï¼š<br><code>void HoughCircles (InputArray image,OutputArray circles, int method, double dp, double minDist,double param1=100, double param2=100, int minRadius=0,int maxRadius=0 )</code><br>imageä¸ºè¾“å…¥å›¾åƒï¼Œè¦æ±‚æ˜¯ç°åº¦å›¾åƒ<br>circlesä¸ºè¾“å‡ºåœ†å‘é‡ï¼Œæ¯ä¸ªå‘é‡åŒ…æ‹¬ä¸‰ä¸ªæµ®ç‚¹å‹çš„å…ƒç´ â€”â€”åœ†å¿ƒæ¨ªåæ ‡ï¼Œåœ†å¿ƒçºµåæ ‡å’Œåœ†åŠå¾„<br>methodä¸ºä½¿ç”¨éœå¤«å˜æ¢åœ†æ£€æµ‹çš„ç®—æ³•ï¼ŒOpencv2.4.9åªå®ç°äº†2-1éœå¤«å˜æ¢ï¼Œå®ƒçš„å‚æ•°æ˜¯CV_HOUGH_GRADIENT<br>dpä¸ºç¬¬ä¸€é˜¶æ®µæ‰€ä½¿ç”¨çš„éœå¤«ç©ºé—´çš„åˆ†è¾¨ç‡ï¼Œdp=1æ—¶è¡¨ç¤ºéœå¤«ç©ºé—´ä¸è¾“å…¥å›¾åƒç©ºé—´çš„å¤§å°ä¸€è‡´ï¼Œdp=2æ—¶éœå¤«ç©ºé—´æ˜¯è¾“å…¥å›¾åƒç©ºé—´çš„ä¸€åŠï¼Œä»¥æ­¤ç±»æ¨<br>minDistä¸ºåœ†å¿ƒä¹‹é—´çš„æœ€å°è·ç¦»ï¼Œå¦‚æœæ£€æµ‹åˆ°çš„ä¸¤ä¸ªåœ†å¿ƒä¹‹é—´è·ç¦»å°äºè¯¥å€¼ï¼Œåˆ™è®¤ä¸ºå®ƒä»¬æ˜¯åŒä¸€ä¸ªåœ†å¿ƒ<br>param1ä¸ºè¾¹ç¼˜æ£€æµ‹æ—¶ä½¿ç”¨Cannyç®—å­çš„é«˜é˜ˆå€¼<br>param2ä¸ºæ­¥éª¤1.5å’Œæ­¥éª¤2.5ä¸­æ‰€å…±æœ‰çš„é˜ˆå€¼<br>minRadiuså’ŒmaxRadiusä¸ºæ‰€æ£€æµ‹åˆ°çš„åœ†åŠå¾„çš„æœ€å°å€¼å’Œæœ€å¤§å€¼</p><h3 id="éœå¤«å˜æ¢æ¤­åœ†æ£€æµ‹çš„å®ç°"><a href="#éœå¤«å˜æ¢æ¤­åœ†æ£€æµ‹çš„å®ç°" class="headerlink" title="éœå¤«å˜æ¢æ¤­åœ†æ£€æµ‹çš„å®ç°"></a>éœå¤«å˜æ¢æ¤­åœ†æ£€æµ‹çš„å®ç°</h3><p>è¿è¡Œç¯å¢ƒ: vs2017 + Opencv3.4<br>ç”±äºHoughCircleså‡½æ•°æ˜¯è°ƒç”¨Cannyå‡½æ•°è¿›è¡Œè¾¹ç¼˜æ£€æµ‹ï¼ŒOpenCVçš„Cannyå‡½æ•°ä¸åŒ…æ‹¬å¹³æ»‘æ»¤æ³¢ï¼Œæ‰€ä»¥å…ˆå¯¹åŸå›¾è¿›è¡Œæ»¤æ³¢å¤„ç†ï¼Œåœ¨è¿™é‡Œä½¿ç”¨çš„æ˜¯é«˜æ–¯æ¨¡ç³Š</p><pre><code class="line-numbers language-cpp">#include &quot;opencv2/core/core.hpp&quot;#include &quot;opencv2/highgui/highgui.hpp&quot;#include &quot;opencv2/imgproc/imgproc.hpp&quot;#include &lt;iostream&gt;using namespace cv;using namespace std;int main( int argc, char** argv )&#123;     Mat src, gray;    src=imread(&quot;coins.jpg&quot;);    if( !src.data )          return -1;      cvtColor( src, gray, CV_BGR2GRAY );    //é«˜æ–¯æ¨¡ç³Šå¹³æ»‘    GaussianBlur( gray, gray, Size(9, 9), 2, 2 );    vector&lt;Vec3f&gt; circles;    //éœå¤«å˜æ¢    HoughCircles( gray, circles, CV_HOUGH_GRADIENT, 1, gray.rows/20, 100, 60, 0, 0 );    //åœ¨åŸå›¾ä¸­ç”»å‡ºåœ†å¿ƒå’Œåœ†    for( size_t i = 0; i &lt; circles.size(); i++ )    &#123;        //æå–å‡ºåœ†å¿ƒåæ ‡        Point center(cvRound(circles[i][0]), cvRound(circles[i][1]));        //æå–å‡ºåœ†åŠå¾„        int radius = cvRound(circles[i][2]);        //åœ†å¿ƒ        circle( src, center, 3, Scalar(0,255,0), -1, 8, 0 );        //åœ†        circle( src, center, radius, Scalar(0,0,255), 3, 8, 0 );   &#125;    imshow( &quot;éœå¤«å˜æ¢æ£€æµ‹åœ†å›¾&quot;, src );    waitKey(0);    return 0;&#125;</code></pre><p>ç»“æœ:<br><img loading="lazy" src="https://i.loli.net/2019/07/26/5d3abf54a4c3b88169.jpg"></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/03/face-detection/">Face Detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Digital Image Processing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> OpenCV </tag>
            
            <tag> c++ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>éœå¤«å˜æ¢</title>
      <link href="/2019/07/26/huo-fu-bian-huan/"/>
      <url>/2019/07/26/huo-fu-bian-huan/</url>
      
        <content type="html"><![CDATA[<h1 id="éœå¤«å˜æ¢"><a href="#éœå¤«å˜æ¢" class="headerlink" title="éœå¤«å˜æ¢"></a>éœå¤«å˜æ¢</h1><h2 id="ä»‹ç»ä¸åº”ç”¨åœºæ™¯"><a href="#ä»‹ç»ä¸åº”ç”¨åœºæ™¯" class="headerlink" title="ä»‹ç»ä¸åº”ç”¨åœºæ™¯"></a>ä»‹ç»ä¸åº”ç”¨åœºæ™¯</h2><p><a href="https://zh.wikipedia.org/wiki/%E9%9C%8D%E5%A4%AB%E5%8F%98%E6%8D%A2">éœå¤«å˜æ¢</a>(Hough Transform)æ˜¯å›¾åƒå¤„ç†ä¸­çš„ä¸€ç§ç‰¹å¾æå–æŠ€æœ¯ï¼Œè¯¥è¿‡ç¨‹åœ¨ä¸€ä¸ªå‚æ•°ç©ºé—´ä¸­é€šè¿‡è®¡ç®—ç´¯è®¡ç»“æœçš„å±€éƒ¨æœ€å¤§å€¼å¾—åˆ°ä¸€ä¸ªç¬¦åˆè¯¥ç‰¹å®šå½¢çŠ¶çš„é›†åˆä½œä¸ºéœå¤«å˜æ¢ç»“æœã€‚ç»å…¸éœå¤«å˜æ¢ç”¨æ¥æ£€æµ‹å›¾åƒä¸­çš„ç›´çº¿ï¼Œåæ¥éœå¤«å˜æ¢æ‰©å±•åˆ°ä»»æ„å½¢çŠ¶ç‰©ä½“çš„è¯†åˆ«ï¼Œå¤šä¸ºåœ†å’Œæ¤­åœ†ã€‚éœå¤«å˜æ¢è¿ç”¨ä¸¤ä¸ªåæ ‡ç©ºé—´ä¹‹é—´çš„å˜æ¢å°†åœ¨ä¸€ä¸ªç©ºé—´ä¸­å…·æœ‰ç›¸åŒå½¢çŠ¶çš„æ›²çº¿æˆ–ç›´çº¿æ˜ å°„åˆ°å¦ä¸€ä¸ªåæ ‡ç©ºé—´çš„ä¸€ä¸ªç‚¹ä¸Šå½¢æˆå³°å€¼ï¼Œä»è€ŒæŠŠæ£€æµ‹ä»»æ„å½¢çŠ¶çš„é—®é¢˜è½¬åŒ–ä¸ºç»Ÿè®¡å³°å€¼é—®é¢˜ã€‚</p><h2 id="åŸºæœ¬åŸç†"><a href="#åŸºæœ¬åŸç†" class="headerlink" title="åŸºæœ¬åŸç†"></a>åŸºæœ¬åŸç†</h2><p>è€ƒè™‘ç‚¹$(x_i,y_i)$åŠé€šè¿‡è¿™ä¸ªç‚¹çš„çº¿,æœ‰æ— ç©·å¤šçš„çº¿é€šè¿‡ç‚¹$(x_i,y_i)$ï¼Œé’ˆå¯¹aå’Œbçš„ä¸€äº›å€¼ï¼Œæ»¡è¶³æ–œæˆªå¼$y_i = ax_i + b$çš„æ‰€æœ‰çº¿éƒ½é€šè¿‡è¯¥ç‚¹ã€‚è¯¥å…¬å¼ä¹Ÿå¯ä»¥å†™ä¸º$b = -ax_i + y_i$ï¼Œè€ƒè™‘abå¹³é¢(å³<strong>å‚æ•°ç©ºé—´</strong>)å¯¹å›ºå®šç‚¹$(x_i,y_i)$å¾—åˆ°ä¸€æ¡çº¿çš„æ–¹ç¨‹ã€‚å¦å¤–ï¼Œç¬¬äºŒä¸ªç‚¹$(x_j,y_j)$ä¹Ÿæœ‰ä¸€æ¡åœ¨å‚æ•°ç©ºé—´ä¸­ä¸ä¹‹ç›¸å…³çš„çº¿ï¼Œè¿™æ¡çº¿å’Œä¸$(x_i,y_i)$<strong>ç›¸å…³</strong>çš„çº¿äº¤äºç‚¹$(aâ€™,bâ€™)$ï¼Œå…¶ä¸­$aâ€™$æ˜¯æ–œç‡ï¼Œ$bâ€™$æ˜¯åœ¨<strong>xyå¹³é¢</strong>ä¸ŠåŒ…å«ç‚¹$(x_i,y_i)$å’Œ$(x_j,y_j)$çš„çº¿çš„æˆªè·ã€‚åœ¨<strong>å‚æ•°ç©ºé—´</strong>ä¸­ï¼Œè¿™æ¡çº¿åŒ…å«çš„æ‰€æœ‰ç‚¹éƒ½æœ‰ç›¸äº¤äº$(aâ€™,bâ€™)$ç‚¹çš„ç›´çº¿ã€‚<br>ç®€å•ç†è§£ï¼Œç›´çº¿ç”±ä¸¤ä¸ªç‚¹$A(x_1,y_1)$å’Œ$B(x_2,y_2)$å®šä¹‰ï¼Œåœ¨å‚æ•°ç©ºé—´ä¸­ï¼Œä¸¤æ¡ç›´çº¿çš„å”¯ä¸€å…¬å…±ç‚¹æ˜¯åœ¨åŸå›¾åƒç©ºé—´ä¸­è¡¨ç¤ºè¿æ¥ç‚¹Aå’ŒBçš„å”¯ä¸€å­˜åœ¨çš„ç›´çº¿<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d38129f0e9f156720.jpg"><br>å› æ­¤ï¼Œç»™å®šå¾ˆå¤šç‚¹ï¼Œåˆ¤æ–­è¿™äº›ç‚¹æ˜¯å¦å…±çº¿çš„é—®é¢˜ï¼Œç»ç”±éœå¤«å˜æ¢ä¹‹åï¼Œå˜æˆåˆ¤æ–­ä¸€å †æ›²çº¿(æ¯ä¸€ä¸ªç‚¹åœ¨$(r, \theta)$å¹³é¢ä¸Šä»£è¡¨ä¸€æ¡æ›²çº¿)æ˜¯å¦ åœ¨ $(r,\theta)$å¹³é¢ä¸Šç›¸äº¤äºåŒä¸€ç‚¹çš„é—®é¢˜<br>å¦å¤–ç”¨æ³•çº¿è¡¨ç¤ºæ³•:<br>$$xcos\theta + ysin\theta = \rho$$<br>æ°´å¹³çº¿çš„$\theta$=0,$\rho$ç­‰äºæ­£çš„xçš„æˆªè·ï¼Œå‚ç›´çº¿çš„$\theta=90$åº¦ï¼Œ$\rho$ç­‰äºæ­£çš„yçš„æˆªè·<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d382004e2bab23873.jpg"></p><p>åœ¨åæ ‡(i, j)çš„å•å…ƒä½ç½®ï¼Œç´¯åŠ å™¨çš„å€¼æ˜¯ A(i, j)ï¼Œå¯¹åº”äºå‚æ•°ç©ºé—´åæ ‡$(\rho_i,\theta_j)$çš„æ­£æ–¹å½¢ã€‚æœ€åˆï¼Œ è¿™äº›å•å…ƒä½ç½®ä¸ºé›¶ã€‚ç„¶åï¼Œå¯¹äºæ¯ä¸ªå›¾åƒå¹³é¢ä¸Šçš„éèƒŒæ™¯ç‚¹$(x_k,y_k)$(å°±æ˜¯ xy å¹³é¢)ï¼Œæˆ‘ä»¬ä»¤ Î¸ ç­‰ äºåœ¨ Î¸ è½´ä¸Šå…è®¸çš„ç»†åˆ†å€¼ï¼Œå¹¶é€šè¿‡å…¬å¼$\rho = x_kcos\theta+y_ksin\theta$è§£å‡ºç›¸åº”çš„ Ï å€¼ã€‚ç„¶åï¼Œå¾—åˆ°çš„ Ï å€¼å›› èˆäº”å…¥ä¸ºæœ€æ¥è¿‘çš„ Ï è½´ä¸Šå…è®¸çš„å•å…ƒå€¼ã€‚ç›¸åº”çš„ç´¯åŠ å™¨å•å…ƒå¢åŠ ä¸€ä¸ªå¢é‡ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹çš„æœ€åï¼Œ ç´¯åŠ å•å…ƒ A(i, j)ä¸­çš„å€¼ Q å°±æ„å‘³ç€ xy å¹³é¢ä¸Šä½äºçº¿$xcos\theta_j+ysin\theta_j = \rho_i$ä¸Šçš„ç‚¹æœ‰ Q ä¸ªã€‚åœ¨$\rho\theta$å¹³é¢ä¸Šï¼Œç»†åˆ†çš„æ•°ç›®å†³å®šäº†è¿™äº›ç‚¹çš„å…±çº¿çš„ç²¾ç¡®åº¦ã€‚ç´¯åŠ å™¨æ•°ç»„åœ¨å·¥å…·ç®±ä¸­å«åšéœå¤«å˜æ¢çŸ©é˜µï¼Œç®€ç§°éœå¤«å˜æ¢ã€‚</p><h2 id="MATLABå·¥å…·ç®±å‡½æ•°"><a href="#MATLABå·¥å…·ç®±å‡½æ•°" class="headerlink" title="MATLABå·¥å…·ç®±å‡½æ•°"></a>MATLABå·¥å…·ç®±å‡½æ•°</h2><h3 id="houghå‡½æ•°"><a href="#houghå‡½æ•°" class="headerlink" title="houghå‡½æ•°"></a>houghå‡½æ•°</h3><p>é»˜è®¤è¯­æ³•</p><pre><code class="line-numbers language-matlab">[H, theta, rho] = hough(f)</code></pre><p>Hæ˜¯éœå¤«å˜æ¢çŸ©é˜µï¼Œthetaå’Œrhoæ˜¯$\theta$å’Œ$\rho$çš„å€¼<br>ä¸‹é¢è¿™ä¸ªä¾‹å­å¯ä»¥åŠ æ·±å¯¹éœå¤«å˜æ¢çš„ç†è§£</p><pre><code class="line-numbers language-matlab">f = zeros(101,101);f(1,1) = 1;f(101,1) = 1;f(1,101) = 1;f(101, 101) = 1;f(51, 51) = 1;% H = hough(f);[H, theta, rho] = hough(f);imshow(H, [],&#39;XData&#39;, theta,&#39;YData&#39;, rho, &#39;InitialMagnification&#39;, &#39;fit&#39;)axis on, axis normalxlabel(&#39;\theta&#39;),ylabel(&#39;\rho&#39;)</code></pre><p>ç»“æœ:<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d381e6cd3ce994397.jpg"><br>è§‚å¯Ÿå›¾å¯ä»¥çœ‹æ‰“åˆ°ä¸‰æ¡æ›²çº¿åœ¨+45åº¦å’Œ-45åº¦å¤„çš„äº¤ç‚¹æŒ‡å‡º:fä¸­æœ‰ä¸¤ç»„ä¸‰ä¸ªå…±çº¿çš„ç‚¹ã€‚ä¸¤æ¡æ›²çº¿åœ¨$(\rho,\theta)$ = (0,-90)ã€(-100,-90)ã€(0,0)ã€(100,0)å¤„çš„äº¤ç‚¹æŒ‡å‡º:æœ‰4ç»„ä½äº<strong>å‚ç›´çº¿</strong>å’Œ<strong>æ°´å¹³çº¿</strong>ä¸Šçš„å…¬å…±ç‚¹</p><h3 id="houghpeakså‡½æ•°"><a href="#houghpeakså‡½æ•°" class="headerlink" title="houghpeakså‡½æ•°"></a>houghpeakså‡½æ•°</h3><p>å¯»æ‰¾æŒ‡å®šçš„å³°å€¼æ•°<br>é»˜è®¤è¯­æ³•</p><pre><code class="line-numbers language-matlab">peaks = houghpeaks(H, NumPeaks)</code></pre><p>Hæ˜¯éœå¤«å˜æ¢çŸ©é˜µ</p><h3 id="houghlineså‡½æ•°"><a href="#houghlineså‡½æ•°" class="headerlink" title="houghlineså‡½æ•°"></a>houghlineså‡½æ•°</h3><p>å†³å®šçº¿çš„èµ·ç‚¹å’Œç»ˆç‚¹<br>é»˜è®¤è¯­æ³•</p><pre><code class="line-numbers language-matlab">lines = houghlines(f, theta, rho, peaks)</code></pre><p>è¾“å‡ºlinesæ˜¯ç»“æ„æ•°ç»„ï¼Œé•¿åº¦ç­‰äºæ‰¾åˆ°çš„çº¿æ®µã€‚ç»“æ„ä¸­çš„æ¯ä¸ªå…ƒç´ å¯ä»¥çœ‹æˆä¸€æ¡çº¿ï¼Œå¹¶å«æœ‰ä¸‹åˆ—å­—æ®µ:    </p><ol><li>point1:ä¸¤å…ƒç´ å‘é‡[r1,c1]ï¼ŒæŒ‡å®šäº†çº¿æ®µç»ˆç‚¹çš„è¡Œåˆ—åæ ‡ã€‚</li><li>point2:ä¸¤å…ƒç´ å‘é‡[r2,c2]ï¼ŒæŒ‡å®šäº†çº¿æ®µå…¶ä»–ç»ˆç‚¹çš„è¡Œåˆ—åæ ‡ã€‚</li><li>theta:ä¸çº¿ç›¸å…³çš„éœå¤«å˜æ¢çš„ä»¥åº¦è®¡é‡çš„è§’åº¦ã€‚</li><li>rho:ä¸çº¿ç›¸å…³çš„éœå¤«å˜æ¢çš„$\rho$è½´ä½ç½®ã€‚</li></ol><h3 id="MATLABä½¿ç”¨éœå¤«å˜æ¢æ£€æµ‹å’Œè¿æ¥çº¿"><a href="#MATLABä½¿ç”¨éœå¤«å˜æ¢æ£€æµ‹å’Œè¿æ¥çº¿" class="headerlink" title="MATLABä½¿ç”¨éœå¤«å˜æ¢æ£€æµ‹å’Œè¿æ¥çº¿"></a>MATLABä½¿ç”¨éœå¤«å˜æ¢æ£€æµ‹å’Œè¿æ¥çº¿</h3><pre><code class="line-numbers language-matlab">f = imread(&#39;timg1.jpg&#39;);f = rgb2gray(f);BW = edge(f,&#39;canny&#39;);[H ,theta, rho] = hough(BW, &#39;ThetaResolution&#39;, 0.2);imshow(H, [],&#39;XData&#39;, theta,&#39;YData&#39;, rho, &#39;InitialMagnification&#39;, &#39;fit&#39;)axis on, axis normalxlabel(&#39;\theta&#39;),ylabel(&#39;\rho&#39;)peaks = houghpeaks(H, 5);hold onplot(theta(peaks( :, 2)), rho(peaks(:, 1)),...    &#39;linestyle&#39;, &#39;none&#39;, &#39;marker&#39;, &#39;s&#39;, &#39;color&#39;, &#39;w&#39;);lines = houghlines(f, theta, rho, peaks);figure, imshow(f), hold onfor k = 1:length(lines)    xy = [lines(k).point1 ; lines(k).point2];    plot(xy(:,1), xy(:,2), &#39;LineWidth&#39;, 4, &#39;color&#39;, &#39;red&#39;);end</code></pre><p>ç»“æœ:<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d381d8d80bff63571.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d381de2778c421022.jpg"></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li><li><a href="https://godliuyang.wang/2019/07/29/high-quality-ellipse-detection/">High-quality-ellipse-detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> ç®—æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>OpenCVå…¥å‘æŒ‡å—:ç¯å¢ƒæ­å»ºç¯‡</title>
      <link href="/2019/07/25/opencv-ru-keng-zhi-nan-huan-jing-da-jian-pian/"/>
      <url>/2019/07/25/opencv-ru-keng-zhi-nan-huan-jing-da-jian-pian/</url>
      
        <content type="html"><![CDATA[<h1 id="OpenCV"><a href="#OpenCV" class="headerlink" title="OpenCV"></a>OpenCV</h1><h2 id="ä»€ä¹ˆæ˜¯OpenCV"><a href="#ä»€ä¹ˆæ˜¯OpenCV" class="headerlink" title="ä»€ä¹ˆæ˜¯OpenCV"></a>ä»€ä¹ˆæ˜¯OpenCV</h2><p><a href="https://opencv.org/about/">OpenCv</a>æ˜¯ä¸€ä¸ªåŸºäºBSDè®¸å¯ï¼ˆå¼€æºï¼‰å‘è¡Œçš„è·¨å¹³å°è®¡ç®—æœºè§†è§‰åº“ï¼Œå¯ä»¥è¿è¡Œåœ¨Linuxã€Windowsã€Androidå’ŒMac OSæ“ä½œç³»ç»Ÿä¸Šã€‚å®ƒè½»é‡çº§è€Œä¸”é«˜æ•ˆâ€”â€”ç”±ä¸€ç³»åˆ— C å‡½æ•°å’Œå°‘é‡ C++ ç±»æ„æˆï¼ŒåŒæ—¶æä¾›äº†Pythonã€Rubyã€MATLABç­‰è¯­è¨€çš„æ¥å£ï¼Œå®ç°äº†å›¾åƒå¤„ç†å’Œè®¡ç®—æœºè§†è§‰æ–¹é¢çš„å¾ˆå¤šé€šç”¨ç®—æ³•ã€‚<br>OpenCVç”¨C++è¯­è¨€ç¼–å†™ï¼Œå®ƒçš„ä¸»è¦æ¥å£ä¹Ÿæ˜¯C++è¯­è¨€ï¼Œä½†æ˜¯ä¾ç„¶ä¿ç•™äº†å¤§é‡çš„Cè¯­è¨€æ¥å£ã€‚è¯¥åº“ä¹Ÿæœ‰å¤§é‡çš„Pythonã€Java and MATLAB/OCTAVEï¼ˆç‰ˆæœ¬2.5ï¼‰çš„æ¥å£ã€‚è¿™äº›è¯­è¨€çš„APIæ¥å£å‡½æ•°å¯ä»¥é€šè¿‡åœ¨çº¿æ–‡æ¡£è·å¾—ã€‚å¦‚ä»Šä¹Ÿæä¾›å¯¹äºC#ã€Chã€Ruby,GOçš„æ”¯æŒã€‚</p><h2 id="OpenCVå¯ä»¥æ¥åšä»€ä¹ˆ"><a href="#OpenCVå¯ä»¥æ¥åšä»€ä¹ˆ" class="headerlink" title="OpenCVå¯ä»¥æ¥åšä»€ä¹ˆ"></a>OpenCVå¯ä»¥æ¥åšä»€ä¹ˆ</h2><p>ä½¿ç”¨OpenCVï¼Œä½ å‡ ä¹å¯ä»¥åšä»»ä½•ä½ èƒ½å¤Ÿæƒ³åˆ°çš„è®¡ç®—æœºè§†è§‰ä»»åŠ¡ã€‚    </p><ol><li><p>å†…ç½®æ•°æ®ç»“æ„å’Œè¾“å…¥/è¾“å‡º(In-build data structures and input/output)</p></li><li><p>å›¾åƒå¤„ç†æ“ä½œ(Image processing operations)</p></li><li><p>æ„å»ºå›¾å½¢ç”¨æˆ·ç•Œé¢(Build GUI)</p></li><li><p>è§†é¢‘åˆ†æ(Video analysis)</p></li><li><p>3Dé‡å»º(3D reconstruction)</p></li><li><p>ç‰¹å¾æå–(Feature extraction)</p></li><li><p>ç›®æ ‡æ£€æµ‹(Object detection)</p></li><li><p>æœºå™¨å­¦ä¹ (Machine learning)</p></li><li><p>è®¡ç®—æ‘„å½±(Computational photography)</p></li><li><p>å½¢çŠ¶åˆ†æ(Shape analysis)</p></li><li><p>å…‰æµç®—æ³•(Optical flow algorithms)</p></li><li><p>äººè„¸å’Œç›®æ ‡è¯†åˆ«(Face and object recognition)</p></li><li><p>è¡¨é¢åŒ¹é…(Surface matching)</p></li><li><p>æ–‡æœ¬æ£€æµ‹å’Œè¯†åˆ«(Text detection and recognition)</p></li></ol><hr><h1 id="Microsoft-Visual-Studio"><a href="#Microsoft-Visual-Studio" class="headerlink" title="Microsoft Visual Studio"></a>Microsoft Visual Studio</h1><p>å®‡å®™æœ€å¼ºIDE(é€ƒ),ä¸å¤šè¯´äº†</p><hr><h1 id="OpenCV-VSå­¦ä¹ -è£…Ã—-ç¯å¢ƒæ­å»º"><a href="#OpenCV-VSå­¦ä¹ -è£…Ã—-ç¯å¢ƒæ­å»º" class="headerlink" title="OpenCV + VSå­¦ä¹ (è£…Ã—)ç¯å¢ƒæ­å»º"></a>OpenCV + VSå­¦ä¹ (è£…Ã—)ç¯å¢ƒæ­å»º</h1><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚å½“ä½ å‡†å¤‡å¥½å…¥å‘OpenCVæ—¶ï¼Œä½ é¦–å…ˆè¦æŠŠå­¦ä¹ ç¯å¢ƒæ­å»ºèµ·æ¥ï¼Œå…‰æ˜¯è¿™ä¸€å…³ä¸çŸ¥é“åŠé€€äº†å¤šå°‘äººï¼Œæˆ‘åœ¨æ­å»ºçš„è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯è¸©äº†å¾ˆå¤šå‘ï¼Œä¹Ÿé‡åˆ°äº†å„ç§å„æ ·åˆé’»çš„é—®é¢˜ï¼Œç°åœ¨æ€»ç»“ä¸€ä¸‹ï¼Œç»™è‡ªå·±è¸©è¿‡çš„é›·åšä¸€ä¸‹è®°å½•ï¼Œä¹Ÿå¸Œæœ›èƒ½å¤Ÿå¸®åˆ°å³å°†å…¥å‘çš„ä½ ä»¬ã€‚</p><h2 id="ç‰ˆæœ¬é€‰æ‹©"><a href="#ç‰ˆæœ¬é€‰æ‹©" class="headerlink" title="ç‰ˆæœ¬é€‰æ‹©"></a>ç‰ˆæœ¬é€‰æ‹©</h2><p>ä¸ºä»€ä¹ˆæŠŠè¿™ä¸ªæ”¾åˆ°ç¬¬ä¸€ä¸ªå‘¢ï¼Ÿå› ä¸ºè¿™æ˜¯æˆ‘é‡åˆ°å¹¶çº ç»“äº†ä¸€å¤©çš„é—®é¢˜ï¼æˆ‘åœ¨ç½‘ä¸ŠæŸ¥æ‰¾æ•™ç¨‹çš„æ—¶å€™å¾ˆå¤šäººéƒ½æ²¡æœ‰æ ‡æ³¨è¿™ä¸ªé—®é¢˜ï¼Œå½“ç„¶ä¹Ÿæ˜¯è‡ªå·±è ¢ï¼Œåœ¨æ‰€æœ‰çš„é…ç½®éƒ½é…ç½®å®Œæˆä¹‹åï¼Œè¿˜æ˜¯ä¸èƒ½æ­£å¸¸è·‘ç¨‹åºï¼Œåˆé‡æ–°å®‰è£…é‡æ–°é…ç½®ï¼Œåå¤å¥½å‡ æ¬¡ï¼Œéƒ½å¿«æ€€ç–‘äººç”Ÿäº†ï¼Œæœ€åæ‰å‘ç°æ˜¯ç‰ˆæœ¬å·ä¸å¯¹ã€‚åºŸè¯ä¸å¤šè¯´ï¼Œä¸‹é¢æ˜¯OpenCVç‰ˆæœ¬å’ŒVSç‰ˆæœ¬çš„å¯¹åº”è¡¨ï¼Œé€‰æ‹©çš„æ—¶å€™ä¸€å®šè¦æ“¦äº®çœ¼ç›ã€‚æˆ‘é€‰æ‹©çš„ç¯å¢ƒæ˜¯VS2017+OpenCV3.4.4    </p><table><thead><tr><th align="center">Visual Studio ç‰ˆæœ¬</th><th align="center">VC ç‰ˆæœ¬</th></tr></thead><tbody><tr><td align="center">VS 6</td><td align="center">vc6</td></tr><tr><td align="center">VS 2003</td><td align="center">vc7</td></tr><tr><td align="center">VS 2005</td><td align="center">vc8</td></tr><tr><td align="center">VS 2008</td><td align="center">vc9</td></tr><tr><td align="center">VS 2010</td><td align="center">vc10</td></tr><tr><td align="center">VS 2013</td><td align="center">vc12</td></tr><tr><td align="center">VS 2015</td><td align="center">vc14</td></tr><tr><td align="center">VS 2017</td><td align="center">vc15</td></tr></tbody></table><p>OpenCVå¯¹VCç‰ˆæœ¬çš„æ”¯æŒæƒ…å†µ(ä¸å…¨)</p><table><thead><tr><th align="center">OpenCV 2.4.10</th><th align="center">vc10ã€vc11ã€vc12</th></tr></thead><tbody><tr><td align="center">OpenCV 2.4.13</td><td align="center">vc11ã€vc12</td></tr><tr><td align="center">OpenCV 3.4.0</td><td align="center">vc14ã€vc15</td></tr><tr><td align="center">OpenCv 3.4.1</td><td align="center">vc14ã€vc15</td></tr></tbody></table><h2 id="VS2017å®‰è£…"><a href="#VS2017å®‰è£…" class="headerlink" title="VS2017å®‰è£…"></a>VS2017å®‰è£…</h2><p>æˆ‘çš„VSå®‰è£…çš„æ—¶é—´å¤ªä¹…äº†ï¼Œç½‘ä¸Šæ•™ç¨‹ä¸€å¤§å †ï¼Œç»™ä½ ä»¬æŒ‘ä¸€ç¯‡å§ï¼Œè¿™é‡Œå°±ä¸å†å¤šè¯´äº†</p><h2 id="OpenCV3-4-4ä¸‹è½½ä¸å®‰è£…"><a href="#OpenCV3-4-4ä¸‹è½½ä¸å®‰è£…" class="headerlink" title="OpenCV3.4.4ä¸‹è½½ä¸å®‰è£…"></a>OpenCV3.4.4ä¸‹è½½ä¸å®‰è£…</h2><h3 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h3><ol><li>å®˜ç½‘ä¸‹è½½<br>OpenCVå®˜ç½‘ç»™æˆ‘ä»¬æä¾›äº†ä¸‹è½½ï¼Œä¸è¿‡ä¸‹è½½é€Ÿåº¦å˜›ï½è‡ªæ±‚å¤šç¦<br><a href="https://opencv.org/releases/">OpenCVä¸‹è½½</a>,é‡Œé¢æœ‰å„ä¸ªç‰ˆæœ¬å¯ä»¥é€‰æ‹©</li><li>OpenCVä¸‹è½½é©¿ç«™<br><a href="https://blog.csdn.net/oMoDao1/article/details/80276834">OpenCVå„ç‰ˆæœ¬æ±‡æ€»ä¸‹è½½</a><br>æ„Ÿè°¢è¿™ä½å¤§å“¥çš„æ€»ç»“</li></ol><h3 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h3><p>æ‰¾ä¸€ä¸ªä½ èƒ½è®°ä½åå­—çš„è·¯å¾„å®‰è£…è¿›å»å°±OKäº†ï¼Œä¸€å®šè¦è®°ä½è¿™ä¸ªè·¯å¾„ï¼Œéå¸¸é‡è¦<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c0e0f7a6db16095.png"></p><h2 id="ç³»ç»Ÿç¯å¢ƒå˜é‡é…ç½®"><a href="#ç³»ç»Ÿç¯å¢ƒå˜é‡é…ç½®" class="headerlink" title="ç³»ç»Ÿç¯å¢ƒå˜é‡é…ç½®"></a>ç³»ç»Ÿç¯å¢ƒå˜é‡é…ç½®</h2><ol><li>æ‰¾åˆ°æ­¤ç”µè„‘</li><li>ä¾æ¬¡æ‰¾åˆ° å±æ€§-&gt;é«˜çº§-&gt;ç¯å¢ƒå˜é‡,æ‰¾åˆ°ç³»ç»Ÿå˜é‡é‡Œçš„Pathï¼ŒåŒå‡»è¿›å»ç¼–è¾‘ï¼Œå¦‚å›¾æ‰€ç¤ºï¼Œæ·»åŠ çš„è·¯å¾„ <strong>â€œD:\OpenCV\opencv\bulid\x64\vc15\binâ€</strong>,æŠŠâ€D:\OpenCV&quot;æ›¿æ¢æˆä½ çš„å®‰è£…è·¯å¾„å³å¯</li></ol><p><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c0e0f9cd5286868.png"><br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c0e0fa09f948672.png"><br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c0e0fa634780591.png"><br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c0e0fa37ce25025.png"></p><p>åˆ°è¿™å°±å®Œæˆäº†ç³»ç»Ÿç¯å¢ƒçš„é…ç½®äº†</p><h2 id="ä¸€äº›æ–‡ä»¶çš„é…ç½®"><a href="#ä¸€äº›æ–‡ä»¶çš„é…ç½®" class="headerlink" title="ä¸€äº›æ–‡ä»¶çš„é…ç½®"></a>ä¸€äº›æ–‡ä»¶çš„é…ç½®</h2><p>è¿™ä¸€æ­¥çš„ç›®çš„æ˜¯ä¸ºäº†è§£å†³ä»¥åå¯èƒ½ä¼šå‡ºç°çš„å…³äºç¼ºå°‘.dllçš„é—®é¢˜</p><p>å°† <strong>â€œD:\OpenCV\opencv\bulid\x64\vc15\binâ€</strong> é‡Œé¢çš„ä¸‰ä¸ª <strong>.dll</strong> æ–‡ä»¶å¤åˆ¶åˆ° <strong>C:\Windowsâ€œ</strong> ç›®å½•ä¸‹çš„ <strong>System32</strong>å’Œ <strong>SysWOW64</strong>ç›®å½•ä¸‹</p><p><img loading="lazy" src="https://i.loli.net/2019/07/28/5d3d5857adbe920715.png"><br><img loading="lazy" src="https://i.loli.net/2019/07/28/5d3d5857bd82f79652.png"></p><h2 id="VS2017é…ç½®"><a href="#VS2017é…ç½®" class="headerlink" title="VS2017é…ç½®"></a>VS2017é…ç½®</h2><ol><li>æ–°å»ºä¸€ä¸ªç©ºé¡¹ç›®</li><li>è¿›å…¥å±æ€§ç®¡ç†å™¨  è§†å›¾-&gt;å…¶ä»–çª—å£-&gt;å±æ€§ç®¡ç†å™¨<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f6359d16629.png"></li><li>é€‰æ‹©Debug | x64 çš„ Microsoft.Cpp.x64.user<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156ecb8ad31557.png" alt="8.png"></li><li>é€‰æ‹©VC++ç›®å½•ï¼Œå¯¹åŒ…å«ç›®å½•å’Œåº“ç›®å½•è¿›è¡Œé…ç½®<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f2e22b74192.png"><ul><li>åœ¨åŒ…å«ç›®å½•é‡Œæ·»åŠ  <strong>D:\OpenCV\opencv\bulid\include</strong>,<strong>D:\OpenCV\opencv\bulid\include\opencv</strong>,<strong>D:\OpenCV\opencv\bulid\include\opencv2</strong><br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f2132f35424.png"></li><li>åœ¨åº“ç›®å½•é‡Œæ·»åŠ  <strong>D:\OpenCV\opencv\bulid\x64\vc15\lib</strong><br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f492f430904.png"></li></ul></li><li>é€‰æ‹© é“¾æ¥å™¨-&gt;è¾“å…¥-&gt;é™„åŠ ä¾èµ–é¡¹,<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f13aac74119.png" alt="12.png"><br>åœ¨é‡Œé¢æ·»åŠ  <strong>opencv_world344d.lib</strong>ï¼Œè¿™ä¸ªlibæ–‡ä»¶æ ¹æ®ä½ çš„OpenCVç‰ˆæœ¬å·çµæ´»å˜åŠ¨<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f0828190561.png"></li><li>ç‚¹å‡»åº”ç”¨ï¼Œç¡®å®šå³å¯<br>åˆ°è¿™é‡Œï¼ŒOpenCVçš„æ‰€æœ‰é…ç½®å·¥ä½œå·²ç»å®Œæˆäº†ï¼Œè¦æ³¨æ„çš„æ˜¯è§£å†³æ–¹æ¡ˆé‚£ä¸€æ è¦æ¢æˆx64(å› ä¸ºæˆ‘ä»¬ä¸€ç›´åœ¨é…ç½®çš„å°±æ˜¯x64)<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156ee8b6668598.png"><h2 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h2>è¿™æ˜¯ä¸€æ®µè¯»å–å¹¶æ˜¾ç¤ºæœ¬åœ°å›¾ç‰‡çš„ä»£ç ï¼Œæµ‹è¯•ä¸€ä¸‹ä½ çš„OpenCVç¯å¢ƒæ˜¯å¦é…ç½®å¥½</li></ol><pre><code class="line-numbers language-cpp">#include &lt;iostream&gt;#include &lt;opencv2/core/core.hpp&gt;#include &lt;opencv2/highgui/highgui.hpp&gt;using namespace cv;int main()&#123;    Mat img = imread(&quot;1.bmp&quot;);    namedWindow(&quot;å›¾ç‰‡&quot;);    imshow(&quot;å›¾ç‰‡&quot;, img);    waitKey(6000);    return 0;&#125;</code></pre><p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c15857414f57549.png"></p><h2 id="éœ€è¦æ³¨æ„çš„é—®é¢˜"><a href="#éœ€è¦æ³¨æ„çš„é—®é¢˜" class="headerlink" title="éœ€è¦æ³¨æ„çš„é—®é¢˜"></a>éœ€è¦æ³¨æ„çš„é—®é¢˜</h2><ol><li>å¯¼å…¥åŒ…çš„æ—¶å€™ä¸æŠ¥é”™ï¼Œä½†è¿è¡Œç¨‹åºæ—¶å‡ºç°ä¸€ä¸‹é”™è¯¯<br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f55e6b74341.png" alt="15.png"><br><img loading="lazy" src="https://i.loli.net/2019/07/27/5d3c156f39a4e29681.png" alt="16.png"><br>å‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œç›®å‰å·²çŸ¥çš„æœ‰ä¸¤ä¸ªåŸå›     <ul><li>imreadå‡½æ•°è¯»ä¸åˆ°å›¾ç‰‡ï¼Œå³ä½ çš„å›¾ç‰‡è·¯å¾„å†™çš„æœ‰é—®é¢˜<br>è¿™é‡Œç»™å‡ºä¸¤ç§åŸºæœ¬çš„è·¯å¾„ä¹¦å†™å½¢å¼    <ol><li>ç»å¯¹è·¯å¾„<br>Mat img = imread(â€œD:\Pictures\1.bmpâ€);<br>ä¸€å®šè¦æ³¨æ„è¿™é‡Œæ˜¯åŒæ–œæ </li><li>å›¾ç‰‡è·¯å¾„<br>Mat img = imread(â€œ1.bmpâ€);<br>ä½¿ç”¨è¿™ä¸ªçš„å‰ææ˜¯å›¾ç‰‡çš„ä½ç½®åœ¨ä½ çš„å·¥ç¨‹ç›®å½•ä¸‹</li></ol></li><li>é“¾æ¥å™¨çš„é™„åŠ ä¾èµ–é¡¹é…ç½®çš„æœ‰é—®é¢˜<br>åœ¨Debugæ¨¡å¼ä¸‹ï¼Œé™„åŠ ä¾èµ–é¡¹æ·»åŠ çš„æ˜¯ <strong>opencv_world344d.lib</strong><br>åœ¨Releaseæ¨¡å¼ä¸‹ï¼Œé™„åŠ ä¾èµ–é¡¹æ·»åŠ çš„æ˜¯ <strong>opencv_world344.lib</strong><br>æœ‰äº›æ•™ç¨‹æ˜¯ä¸¤ä¸ªéƒ½æ·»åŠ ï¼Œè¿™æ˜¯ä¸å¯¹çš„ï¼Œä¸€å®šè¦æ³¨æ„ã€‚</li></ul></li></ol><hr><h1 id="MacOS-å®‰è£…opencv-python"><a href="#MacOS-å®‰è£…opencv-python" class="headerlink" title="MacOS å®‰è£…opencv-python"></a>MacOS å®‰è£…opencv-python</h1><h3 id="1-é¦–å…ˆå®‰è£…xcode"><a href="#1-é¦–å…ˆå®‰è£…xcode" class="headerlink" title="1. é¦–å…ˆå®‰è£…xcode"></a>1. é¦–å…ˆå®‰è£…xcode</h3><pre><code class="line-numbers language-bash">xcode-select --install </code></pre><h3 id="2-å®‰è£…opencv-python"><a href="#2-å®‰è£…opencv-python" class="headerlink" title="2. å®‰è£…opencv-python"></a>2. å®‰è£…opencv-python</h3><pre><code class="line-numbers language-bash">pip install opencv-python</code></pre><p>è¿™é»˜è®¤å°†å®‰è£…<code>opencv-python 4.2</code>, ä½†åœ¨ <strong>catalina</strong> è²Œä¼¼ä¸å¯ç”¨</p><p>æ‰€ä»¥æˆ‘é€‰æ‹©äº†å®‰è£…ä½ç‰ˆæœ¬çš„opencv-python</p><pre><code class="line-numbers language-bash">pip install opencv-python==4.1.2.30</code></pre><p>æˆ–è€…é€‰æ‹©å®‰è£…</p><pre><code class="line-numbers language-bash">pip install opencv-python-headless</code></pre><p>è¿™ä¸ªåŸå› æœªçŸ¥</p><p>å¥½äº†ï¼Œæ•™ç¨‹åˆ°æ­¤ç»“æŸï¼Œ<br>æ¥ä¸‹æ¥ä½ å°±å¯ä»¥æ”¾å¿ƒåœ°å»ç©è€äº†ï¼ŒEnjoy Your OpenCV!</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/10/face-recognition-with-opencv/">Face Recognition</a></li><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/03/face-detection/">Face Detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> OpenCV </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å›¾åƒåˆ†å‰²</title>
      <link href="/2019/07/24/tu-xiang-fen-ge/"/>
      <url>/2019/07/24/tu-xiang-fen-ge/</url>
      
        <content type="html"><![CDATA[<h1 id="å›¾åƒåˆ†å‰²"><a href="#å›¾åƒåˆ†å‰²" class="headerlink" title="å›¾åƒåˆ†å‰²"></a>å›¾åƒåˆ†å‰²</h1><hr><blockquote><p>æ•´ä½“ç­‰äºéƒ¨åˆ†ä¹‹å’Œ<br>                â€”â€“æ¬§å‡ é‡Œå¾·</p></blockquote><hr><p>å›¾åƒåˆ†å‰²æŠŠå›¾åƒç»†åˆ†ä¸ºå®ƒçš„ç»„æˆè¦ç´ æˆ–ç‰©ä½“ï¼Œç»†åˆ†çš„æ°´å¹³å–å†³äºè¦è§£å†³çš„é—®é¢˜ã€‚<br>å•è‰²åˆ†å‰²çš„åˆ†å‰²ç®—æ³•é€šå¸¸æ˜¯åŸºäºå›¾åƒäº®åº¦å€¼çš„ä¸¤ä¸ªåŸºæœ¬ç‰¹å¾:ä¸è¿ç»­æ€§å’Œç›¸ä¼¼æ€§ã€‚ç¬¬ä¸€ç±»ï¼Œæ–¹æ³•æ˜¯åŸºäºäº®åº¦çš„çªå˜æ¥åˆ†å‰²ä¸€å¹…å›¾åƒï¼Œæ¯”å¦‚è¾¹ç¼˜;ç¬¬äºŒç±»ï¼Œä¸»è¦æ–¹æ³•æ˜¯æ ¹æ®äº‹å…ˆå®šä¹‰å¥½çš„å‡†åˆ™æŠŠå›¾åƒåˆ†å‰²æˆç›¸ä¼¼çš„åŒºåŸŸ</p><h2 id="ç‚¹ã€çº¿å’ŒåŸºæœ¬è¾¹ç¼˜æ£€æµ‹"><a href="#ç‚¹ã€çº¿å’ŒåŸºæœ¬è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="ç‚¹ã€çº¿å’ŒåŸºæœ¬è¾¹ç¼˜æ£€æµ‹"></a>ç‚¹ã€çº¿å’ŒåŸºæœ¬è¾¹ç¼˜æ£€æµ‹</h2><h3 id="èƒŒæ™¯çŸ¥è¯†"><a href="#èƒŒæ™¯çŸ¥è¯†" class="headerlink" title="èƒŒæ™¯çŸ¥è¯†"></a>èƒŒæ™¯çŸ¥è¯†</h3><ol><li>è¾¹ç¼˜åƒç´ æ˜¯å›¾åƒä¸­ç°åº¦çªå˜çš„åƒç´ ï¼Œè¾¹ç¼˜æ˜¯è¿æ¥çš„è¾¹ç¼˜åƒç´ çš„é›†åˆ</li><li>ä¸€æ¡çº¿å¯ä»¥è§†ä¸ºä¸€æ¡è¾¹ç¼˜çº¿æ®µï¼Œè¯¥çº¿æ®µä¸¤ä¾§çš„èƒŒæ™¯ç°åº¦è¦ä¹ˆè¿œäº®äºè¯¥çº¿åƒç´ çš„ç°åº¦ï¼Œè¦ä¹ˆè¿œæš—äºè¯¥çº¿åƒç´ çš„ç°åº¦ã€‚å­¤ç«‹ç‚¹å¯è§†ä¸ºä¸€æ¡çº¿ï¼Œåªæ˜¯é•¿åº¦å’Œå®½åº¦éƒ½æ˜¯ä¸€ä¸ªåƒç´ </li><li>å±€éƒ¨å˜åŒ–æ£€æµ‹å¯ä»¥ç”¨å¾®åˆ†(ä¸€é˜¶å¾®åˆ†å’ŒäºŒé˜¶å¾®åˆ†)    <ul><li>å¯¹äºä¸€é˜¶å¯¼æ•°çš„ä»»ä½•è¿‘ä¼¼ï¼Œçº¦å®š:<ul><li>åœ¨æ’å®šç°åº¦åŒºåŸŸå¿…é¡»ä¸º0</li><li>åœ¨ç°åº¦å°é˜¶å’Œæˆ–æ–œå¡å¼€å§‹å¤„å¿…é¡»ä¸ä¸º0</li><li>åœ¨æ²¿ç°åº¦æ–œå¡ç‚¹å¤„ä¹Ÿå¿…é¡»ä¸ä¸º0</li></ul></li><li>ç±»ä¼¼çš„å¯¹äºäºŒé˜¶å¯¼æ•°çš„è¿‘ä¼¼<ul><li>åœ¨æ’å®šç°åº¦åŒºåŸŸå¿…é¡»ä¸º0</li><li>åœ¨ç°åº¦å°é˜¶æˆ–æ–œå¡å¼€å§‹é™¤å’Œç»“æŸå¤„å¿…é¡»ä¸ä¸º0</li><li>æ²¿ç°åº¦æ–œå¡å¿…é¡»ä¸º0</li></ul></li><li>ä¸€ç»´å‡½æ•°å±•å¼€ä¸ºå…³äºxçš„æ³°å‹’çº§æ•°,ç»“æœå·®åˆ†<br>$$ \frac{\partial f}{\partial x}=fâ€™(x)=f(x+1)-f(x)$$<br>äºŒé˜¶å¯¼æ•°<br>$$ \frac{\partial ^2 f}{\partial ^2 x}=fâ€™â€™(x)=f(x+1)+f(x-1)-2f(x)$$<ul><li>å¯ä»¥å¾—å‡ºç»“è®º:<ul><li>ä¸€é˜¶å¯¼æ•°é€šå¸¸åœ¨å›¾åƒä¸­äº§ç”Ÿè¾ƒç²—çš„è¾¹ç¼˜</li><li>äºŒé˜¶å¯¼æ•°å¯¹ç²¾ç»†ç»†èŠ‚ï¼Œå¦‚ç»†çº¿ã€å­¤ç«‹ç‚¹å’Œå™ªå£°æœ‰è¾ƒå¼ºçš„å“åº”</li><li>äºŒé˜¶å¯¼æ•°åœ¨ç°åº¦æ–œå¡å’Œç°åº¦å°é˜¶è¿‡æ¸¡å¤„ä¼šäº§ç”ŸåŒè¾¹ç¼˜å“åº”</li><li>äºŒé˜¶å¯¼æ•°çš„ç¬¦å·å¯ç”¨äºç¡®å®šè¾¹ç¼˜çš„è¿‡ç¨‹æ˜¯ä»äº®åˆ°æš—è¿˜æ˜¯ä»æš—åˆ°äº®</li></ul></li><li>è®¡ç®—å›¾åƒä¸­æ¯ä¸ªåƒç´ ä½ç½®çš„ä¸€é˜¶å¯¼æ•°å’ŒäºŒé˜¶å¯¼æ•°çš„å¯é€‰æ‹©æ–¹æ³•æ˜¯ç©ºé—´æ»¤æ³¢å™¨ã€‚æ¨¡æ¿åœ¨è¯¥åŒºåŸŸä¸­å¿ƒç‚¹å¤„çš„å“åº”ä¸º<br>$$R = w_1z_1 + w_2z_2 + â€¦ + w_9z_9 = \sum_{k=1}^{9}w_kz_k$$</li></ul></li></ul></li></ol><table><thead><tr><th align="center">$w_1$</th><th align="center">$w_2$</th><th align="center">$w_3$</th></tr></thead><tbody><tr><td align="center">$w_4$</td><td align="center">$w_5$</td><td align="center">$w_6$</td></tr><tr><td align="center">$w_7$</td><td align="center">$w_8$</td><td align="center">$w_9$</td></tr></tbody></table><p>è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„3Ã—3ç©ºé—´æ»¤æ³¢å™¨æ©æ¨¡</p><h3 id="å­¤ç«‹ç‚¹æ£€æµ‹"><a href="#å­¤ç«‹ç‚¹æ£€æµ‹" class="headerlink" title="å­¤ç«‹ç‚¹æ£€æµ‹"></a>å­¤ç«‹ç‚¹æ£€æµ‹</h3><ul><li>ç‚¹çš„æ£€æµ‹åº”ä»¥äºŒé˜¶å¯¼æ•°ä¸ºåŸºç¡€ï¼Œè¿™æ„å‘³ç€ä½¿ç”¨laplace<br>$$\triangledown ^2f(x,y) = \frac{\partial ^2 f}{\partial x^2} + \frac{\partial ^2 f}{\partial y^2}$$<br>åå¾®åˆ†ä¹‹åå¯æ±‚å¾—laplaceä¸º<br>$$\triangledown ^2f(x,y) = f(x+1,y)+f(x-1,y)+f(x,y+1)+f(x,y-1)-4f(x,y)$$<br>ç‚¹æ£€æµ‹laplaceæ¨¡æ¿</li></ul><table><thead><tr><th align="center">1</th><th align="center">1</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">-8</td><td align="center">1</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><p>å¦‚æœåœ¨æŸç‚¹å¤„çš„è¯¥æ¨¡æ¿çš„å“åº”çš„ç»å¯¹å€¼è¶…è¿‡äº†ä¸€ä¸ªæŒ‡å®šçš„é˜ˆå€¼ï¼Œé‚£ä¹ˆå°±è¯´åœ¨æ¨¡æ¿ä¸­å¿ƒä½ç½®(x,y)å¤„çš„è¯¥ç‚¹å·²ç»è¢«æ£€æµ‹åˆ°ã€‚åœ¨è¾“å‡ºå›¾åƒä¸­ï¼Œè¿™æ ·çš„ç‚¹è¢«æ ‡æ³¨ä¸º1,æ‰€æœ‰å…¶ä»–ç‚¹è¢«æ ‡æ³¨ä¸º0<br>$$g(x,y)=\begin{cases}<br>1,\quad |R(x,y)| \geqq T\<br>0, \quad å…¶ä»–<br>\end{cases}<br>$$</p><ul><li>MATLABå®ç°</li></ul><pre><code class="line-numbers language-matlab">f = imread(&#39;moon.jpg&#39;);f = rgb2gray(f);w = [-1 -1 -1; -1 8 -1; -1 -1 -1];g = abs(imfilter(f, w));T = max(g(:));g = g &gt;= T;figure(1);subplot(1,2,1)imshow(f)subplot(1,2,2)imshow(g)</code></pre><p>ç»“æœï¼š<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37b3a82234833730.jpg"></p><h3 id="çº¿æ£€æµ‹"><a href="#çº¿æ£€æµ‹" class="headerlink" title="çº¿æ£€æµ‹"></a>çº¿æ£€æµ‹</h3><p>å¯ä»¥é¢„æœŸï¼ŒäºŒé˜¶å¯¼æ•°å°†å¯¼è‡´æ›´å¼ºçš„å“åº”ï¼Œå¹¶äº§ç”Ÿæ¯”ä¸€é˜¶å¯¼æ•°æ›´ç»†çš„çº¿</p><p>çº¿æ£€æµ‹æ¨¡æ¿</p><ul><li>æ°´å¹³</li></ul><table><thead><tr><th align="center">-1</th><th align="center">-1</th><th align="center">-1</th></tr></thead><tbody><tr><td align="center">2</td><td align="center">2</td><td align="center">2</td></tr><tr><td align="center">-1</td><td align="center">-1</td><td align="center">-1</td></tr></tbody></table><ul><li>+45åº¦</li></ul><table><thead><tr><th align="center">2 -</th><th align="center">-1</th><th align="center">-1</th></tr></thead><tbody><tr><td align="center">-1</td><td align="center">2</td><td align="center">-1</td></tr><tr><td align="center">-1</td><td align="center">-1</td><td align="center">2</td></tr></tbody></table><ul><li>å‚ç›´</li></ul><table><thead><tr><th align="center">-1</th><th align="center">2</th><th align="center">-1</th></tr></thead><tbody><tr><td align="center">-1</td><td align="center">2</td><td align="center">-1</td></tr><tr><td align="center">-1</td><td align="center">2</td><td align="center">-1</td></tr></tbody></table><ul><li>-45åº¦</li></ul><table><thead><tr><th align="center">-1</th><th align="center">-1</th><th align="center">2</th></tr></thead><tbody><tr><td align="center">-1</td><td align="center">2</td><td align="center">-1</td></tr><tr><td align="center">2</td><td align="center">-1</td><td align="center">-1</td></tr></tbody></table><p>å¯¹äºæ’å®šçš„èƒŒæ™¯ï¼Œå½“çº¿é€šè¿‡æ¨¡æ¿çš„ä¸­é—´ä¸€è¡Œæ—¶å¯èƒ½äº§ç”Ÿæ›´å¤§çš„å“åº”ã€‚<br>æ¯ä¸ªæ¨¡æ¿çš„ç³»æ•°ä¹‹å’Œä¸º0,è¿™è¡¨ç¤ºåœ¨æ’å®šäº®åº¦åŒºåŸŸå†…ï¼Œæ¨¡æ¿çš„å“åº”ä¸º0.</p><ul><li>MATLABå®ç°æ£€æµ‹æŒ‡å®šæ–¹å‘ä¸Šçš„çº¿</li></ul><pre><code class="line-numbers language-matlab">clcclearf = imread(&#39;11111.jpg&#39;);f = rgb2gray(f);figure(1);subplot(2,3,1)imshow(f);w = [-1, 2, -1; -1 2 -1; -1 2 -1];% g = imfilter(tofloat(f),w);g = imfilter(f,w);subplot(2,3,2)imshow(g, [ ]);gtop = g(1:120, 1:120);% gtop = pixeldup(gtop, 4);subplot(2,3,3)imshow(gtop, [ ]);gbot = g(end - 119:end, end - 119:end);% gbot = pixeldup(gbot, 4);subplot(2,3,4)imshow(gbot, [ ]);g = abs(g);subplot(2,3,5)imshow(g, [])T = max(g(:));g = g &gt;= T;subplot(2,3,6);imshow(g)</code></pre><p>ç»“æœ:<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37b3a815b7125153.jpg"><br>å¯èƒ½ä¼šç”¨åˆ°çš„Må‡½æ•°pixeldup</p><pre><code class="line-numbers language-matlab">function B=pixeldup(A,m,n)%pixeldupç”¨æ¥é‡å¤åƒç´ çš„ï¼Œåœ¨æ°´å¹³æ–¹å‘å¤åˆ¶må€ï¼Œåœ¨å‚ç›´æ–¹å‘å¤åˆ¶nå€ï¼Œmï¼Œnå¿…é¡»ä¸ºæ•´æ•°ï¼Œnæ²¡æœ‰èµ‹å€¼é»˜è®¤ä¸ºm%æ£€æŸ¥è¾“å…¥å‚æ•°ä¸ªæ•°if nargin&lt;2    error(&#39;At least two inputs are required.&#39;);    endif nargin==2    n=m;    endu=1:size(A,1);%äº§ç”Ÿä¸€ä¸ªå‘é‡ï¼Œå…¶å‘é‡ä¸­å…ƒç´ çš„ä¸ªæ•°ä¸ºAçš„è¡Œæ•°%å¤åˆ¶å‘é‡ä¸­æ¯ä¸ªå…ƒç´ mæ¬¡m=round(m);%é˜²æ­¢mä¸ºéæ•´æ•°u=u(ones(1,m),:);u=u(:);%åœ¨å‚ç›´æ–¹å‘é‡å¤æ“ä½œv=1:size(A,2);n=round(n);v=v(ones(1,n),:);v=v(:);B=A(u,v);</code></pre><p><strong>æ…ç”¨tofloatå‡½æ•°</strong></p><h3 id="åŸºæœ¬è¾¹ç¼˜æ£€æµ‹"><a href="#åŸºæœ¬è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="åŸºæœ¬è¾¹ç¼˜æ£€æµ‹"></a>åŸºæœ¬è¾¹ç¼˜æ£€æµ‹</h3><h4 id="è¾¹ç¼˜æ¨¡å‹"><a href="#è¾¹ç¼˜æ¨¡å‹" class="headerlink" title="è¾¹ç¼˜æ¨¡å‹"></a>è¾¹ç¼˜æ¨¡å‹</h4><ul><li>å°é˜¶æ¨¡å‹<br>åœ¨ä¸€ä¸ªåƒç´ çš„è·ç¦»ä¸Šå‘ç”Ÿä¸¤æ¬¡ç°åº¦çº§é—´ç†æƒ³çš„è¿‡æ¸¡</li><li>æ–œå¡æ¨¡å‹<br>æ•°å­—å›¾åƒå­˜åœ¨è¢«æ¨¡ç³Šæˆ–æœ‰å™ªå£°çš„è¾¹ç¼˜ï¼Œè¿™æ—¶çš„è¾¹ç¼˜è¢«å»ºæ¨¡æˆä¸€ä¸ªæ›´æ¥è¿‘ç°åº¦æ–œå¡çš„å‰–é¢ï¼Œæ–œå¡çš„æ–œåº¦ä¸è¾¹ç¼˜çš„æ¨¡ç³Šç¨‹åº¦æˆåæ¯”</li><li>å±‹é¡¶æ¨¡å‹<br>é€šè¿‡ä¸€ä¸ªåŒºåŸŸçš„çº¿çš„æ¨¡å‹ï¼Œå±‹é¡¶è¾¹ç¼˜çš„åŸºåº•(å®½åº¦)ç”±è¯¥çº¿çš„å®½åº¦å’Œå°–é”åº¦å†³å®š<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d382004cd3e437707.jpg"></li></ul><p>ç»“åˆå‰é¢æåˆ°çš„ä¸€é˜¶å¯¼æ•°å’ŒäºŒé˜¶å¯¼æ•°çš„æ€§è´¨ï¼Œå¯ä»¥å¾—å‡ºç»“è®º:</p><ol><li>ä¸€é˜¶å¯¼æ•°çš„å¹…å€¼å¯ç”¨äºæ£€æµ‹å›¾åƒä¸­çš„æŸä¸ªç‚¹å¤„æ˜¯å¦å­˜åœ¨ä¸€ä¸ªè¾¹ç¼˜</li><li>äºŒé˜¶å¯¼æ•°çš„ç¬¦å·å¯ç”¨äºç¡®å®šä¸€ä¸ªè¾¹ç¼˜åƒç´ ä½äºè¯¥è¾¹ç¼˜çš„æš—çš„ä¸€ä¾§è¿˜æ˜¯äº®çš„ä¸€ä¾§</li><li>å¯¹å›¾åƒçš„æ¯ä¸ªè¾¹ç¼˜ï¼ŒäºŒé˜¶å¯¼æ•°ç”Ÿæˆä¸¤ä¸ªå€¼</li><li>äºŒé˜¶å¯¼æ•°çš„é›¶äº¤å‰ç‚¹å¯ç”¨äºå®šä½ç²—è¾¹ç¼˜çš„ä¸­å¿ƒ</li></ol><ul><li>æ‰§è¡Œè¾¹ç¼˜æ£€æµ‹çš„ä¸‰ä¸ªæ­¥éª¤:    <ol><li>ä¸ºé™å™ªå¯¹å›¾åƒè¿›è¡Œå¹³æ»‘å¤„ç†</li><li>è¾¹ç¼˜ç‚¹çš„æ£€æµ‹</li><li>è¾¹ç¼˜å®šä½</li></ol></li></ul><h4 id="æ¢¯åº¦"><a href="#æ¢¯åº¦" class="headerlink" title="æ¢¯åº¦"></a>æ¢¯åº¦</h4><h5 id="æ¢¯åº¦æ¦‚å¿µ"><a href="#æ¢¯åº¦æ¦‚å¿µ" class="headerlink" title="æ¢¯åº¦æ¦‚å¿µ"></a>æ¢¯åº¦æ¦‚å¿µ</h5><p>æ¢¯åº¦æ˜¯ä¸€ä¸ªå¯ä»¥ç¡®å®šå›¾åƒfçš„(x,y)ä½ç½®å¤„çš„è¾¹ç¼˜æ–¹å‘å’Œå¼ºåº¦çš„å·¥å…·ï¼Œç”¨ $\triangledown f$æ¥è¡¨ç¤ºï¼Œç”¨ <strong>å‘é‡</strong>æ¥å®šä¹‰</p><p>$$\triangledown f = \begin{bmatrix} g_x \ g_y \ \end{bmatrix} = \begin{bmatrix} \frac{\partial f}{\partial x} \ \frac{\partial f}{\partial x} \end{bmatrix}$$</p><h5 id="æ¢¯åº¦æ€§è´¨"><a href="#æ¢¯åº¦æ€§è´¨" class="headerlink" title="æ¢¯åº¦æ€§è´¨"></a>æ¢¯åº¦æ€§è´¨</h5><ol><li><p>æ¢¯åº¦å‘é‡å¤§å°ã€‚<br>$\triangledown f$çš„å¤§å°ä¸ºM(x,y)<br>$$\triangledown f = mag(\triangledown f)=[g_x^2+g_y^2]^{<br>1/2}= [(\partial f/\partial x)^2+(\partial f/\partial y)^2]^{1/2}$$<br>è¿™æ˜¯æ¢¯åº¦å‘é‡æ–¹å‘å˜åŒ–ç‡çš„å€¼ã€‚å…¶ä¸­$g_x$,$g_y$å’ŒM(x,y)éƒ½æ˜¯å’ŒåŸå›¾åƒå¤§å°ç›¸åŒçš„å›¾åƒã€‚ç§°M(x,y)ä¸ºæ¢¯åº¦å›¾åƒã€‚</p></li><li><p>æ¢¯åº¦å‘é‡çš„æ–¹å‘<br>$$\alpha (x,y) = tan^{-1}(\frac{g_x}{g_y})$$<br>åŒç†ï¼Œã€€$\alpha(x,y)$ä¹Ÿæ˜¯ç”±$g_x$å’Œ$g_y$é˜µåˆ—åˆ›å»ºçš„å°ºå¯¸ç›¸åŒçš„å›¾åƒã€‚<br>ä»»æ„ç‚¹(x,y)å¤„çš„ä¸€ä¸ªè¾¹ç¼˜çš„æ–¹å‘ä¸è¯¥ç‚¹å¤„æ¢¯åº¦å‘é‡çš„æ–¹å‘$\alpha(x,y)$æ­£äº¤ã€‚<br>æ¢¯åº¦å‘é‡æœ‰æ—¶ä¹Ÿç§°ä¸ºè¾¹ç¼˜æ³•çº¿</p></li><li><p>æ¢¯åº¦æŒ‡å‡ºfåœ¨(x,y)å¤„çš„æœ€å¤§å˜åŒ–ç‡çš„æ–¹å‘</p></li></ol><h5 id="æ¢¯åº¦ç®—å­"><a href="#æ¢¯åº¦ç®—å­" class="headerlink" title="æ¢¯åº¦ç®—å­"></a>æ¢¯åº¦ç®—å­</h5><h6 id="ä¸€ç»´æ¨¡æ¿"><a href="#ä¸€ç»´æ¨¡æ¿" class="headerlink" title="ä¸€ç»´æ¨¡æ¿"></a>ä¸€ç»´æ¨¡æ¿</h6><p>$$g_x = \frac{\partial f(x,y)}{\partial x} = f(x+1,y) - f(x,y)$$<br>å’Œ<br>$$g_y = \frac{\partial f(x,y)}{\partial y} = f(x,y+1)-f(x,y)$$</p><h6 id="äºŒç»´æ¨¡æ¿"><a href="#äºŒç»´æ¨¡æ¿" class="headerlink" title="äºŒç»´æ¨¡æ¿"></a>äºŒç»´æ¨¡æ¿</h6><p>ç½—ä¼¯ç‰¹äº¤å‰æ¢¯åº¦ç®—å­(Roberts),RObertsç®—å­ä»¥æ±‚å¯¹è§’åƒç´ ä¹‹å·®ä¸ºåŸºç¡€:<br>$$g_x = \frac{\partial f}{\partial x} = (z_9 - z_5)$$<br>å’Œ<br>$$g_y = \frac{\partial f}{\partial y} = (z_8 - z_6)$$</p><h6 id="3Ã—3æ¨¡æ¿"><a href="#3Ã—3æ¨¡æ¿" class="headerlink" title="3Ã—3æ¨¡æ¿"></a>3Ã—3æ¨¡æ¿</h6><ol><li><p>Prewittç®—å­<br>$$g_x = (z_7 + z_8 + z_9)-(z_1 + z_2 + z_3)$$<br>å’Œ<br>$$g_y = (z_3 + z_6 + z_9) - (z_1 + z_4 + z_7)$$</p></li><li><p>Sobelç®—å­</p></li></ol><p>$$g_x = (z_7 + 2z_8 + z_9)-(z_1 +2 z_2 + z_3)$$<br>å’Œ<br>$$g_y = (z_3 + 2z_6 + z_9) - (z_1 +2 z_4 + z_7)$$</p><p>åœ¨ä¸­å¿ƒä½ç½®å¤„ä½¿ç”¨2å¯ä»¥å¹³æ»‘å›¾åƒ</p><p>æ³¨æ„:æ‰€æœ‰æ¨¡æ¿ä¸­çš„ç³»æ•°ä¹‹å’Œä¸º0ï¼Œè¿™æ„å‘³ç€æ’å®šç°åº¦çš„å“åº”ä¸º0.</p><h4 id="ä½¿ç”¨å‡½æ•°edgeçš„è¾¹ç¼˜æ£€æµ‹"><a href="#ä½¿ç”¨å‡½æ•°edgeçš„è¾¹ç¼˜æ£€æµ‹" class="headerlink" title="ä½¿ç”¨å‡½æ•°edgeçš„è¾¹ç¼˜æ£€æµ‹"></a>ä½¿ç”¨å‡½æ•°edgeçš„è¾¹ç¼˜æ£€æµ‹</h4><ul><li>è¯­æ³•</li></ul><pre><code class="line-numbers language-matlab">[g,t] = edge(f, &#39;method&#39;, parameters);</code></pre><p>fæ˜¯è¾“å…¥å›¾åƒï¼Œmethodæ˜¯è¾¹ç¼˜æ£€æµ‹æ–¹æ³•ï¼Œparametersæ˜¯é™„åŠ å‚æ•°</p><h4 id="è¾¹ç¼˜æ£€æµ‹ç®—å­"><a href="#è¾¹ç¼˜æ£€æµ‹ç®—å­" class="headerlink" title="è¾¹ç¼˜æ£€æµ‹ç®—å­"></a>è¾¹ç¼˜æ£€æµ‹ç®—å­</h4><p>å›¾åƒé‚»åŸŸå¦‚ä¸‹å›¾æ‰€ç¤º:</p><table><thead><tr><th align="center">$z_1$</th><th align="center">$z_2$</th><th align="center">$z_3$</th></tr></thead><tbody><tr><td align="center">$z_4$</td><td align="center">$z_5$</td><td align="center">$z_6$</td></tr><tr><td align="center">$z_7$</td><td align="center">$z_8$</td><td align="center">$z_9$</td></tr></tbody></table><h5 id="Sobelè¾¹ç¼˜æ£€æµ‹ç®—å­"><a href="#Sobelè¾¹ç¼˜æ£€æµ‹ç®—å­" class="headerlink" title="Sobelè¾¹ç¼˜æ£€æµ‹ç®—å­"></a>Sobelè¾¹ç¼˜æ£€æµ‹ç®—å­</h5><ul><li>Sobelè¾¹ç¼˜æ£€æµ‹ç®—å­æ¨¡æ¿</li></ul><table><thead><tr><th align="center">-1</th><th align="center">-2</th><th align="center">-1</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">2</td><td align="center">1</td></tr></tbody></table><p>$$g_x=(z_7+2z_8+z_9)-(z_1+2z_2+z_3)$$</p><table><thead><tr><th align="center">-1</th><th align="center">0</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">-2</td><td align="center">0</td><td align="center">2</td></tr><tr><td align="center">-1</td><td align="center">0</td><td align="center">1</td></tr></tbody></table><p>$$g_y = (z_3+2z_6+z_9)-(z_1+2z_4+z_7)$$<br>æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—çš„ä¸­å¿ƒåƒç´ ç”¨2æ¥åŠ æƒä»¥æä¾›å¹³æ»‘</p><ul><li>MATLABè¯­æ³•</li></ul><pre><code class="line-numbers language-matlab">[g, t] = edge(f, &#39;sobel&#39;, T, dir);</code></pre><p>fæ˜¯è¾“å…¥çš„å›¾åƒï¼ŒTæ˜¯æŒ‡å®šçš„é˜€å€¼ï¼Œdiræ˜¯æŒ‡å®šçš„æ£€æµ‹è¾¹ç¼˜çš„é¦–é€‰æ–¹å‘:â€™horizontalâ€™,â€™verticalâ€™,â€™bothâ€™(é»˜è®¤å€¼)<br>tæ˜¯å¯é€‰çš„ï¼ŒTæœªæŒ‡å®šï¼Œåˆ™tè‡ªåŠ¨è®¾ç½®</p><h5 id="Prewittè¾¹ç¼˜æ£€æµ‹ç®—å­"><a href="#Prewittè¾¹ç¼˜æ£€æµ‹ç®—å­" class="headerlink" title="Prewittè¾¹ç¼˜æ£€æµ‹ç®—å­"></a>Prewittè¾¹ç¼˜æ£€æµ‹ç®—å­</h5><ul><li>Prewittè¾¹ç¼˜æ£€æµ‹ç®—å­æ¨¡æ¿</li></ul><table><thead><tr><th align="center">-1</th><th align="center">-1</th><th align="center">-1</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">0</td><td align="center">0</td></tr><tr><td align="center">1</td><td align="center">1</td><td align="center">1</td></tr></tbody></table><p>$$g_x = (z_7 + z_8 + z_9)-(z_1 + z_2 + z_3)$$</p><table><thead><tr><th align="center">-1</th><th align="center">0</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">-1</td><td align="center">0</td><td align="center">1</td></tr><tr><td align="center">-1</td><td align="center">0</td><td align="center">1</td></tr></tbody></table><p>$$g_y = (z_3 + z_6 + z_9) - (z_1 + z_4 + z_7)$$</p><ul><li>MATLABè¯­æ³•</li></ul><pre><code class="line-numbers language-matlab">[g, t] = edge(f, &#39;prewitt&#39;, T ,dir);</code></pre><p>è®¡ç®—ç®€å•ï¼Œä½†å®¹æ˜“äº§ç”Ÿå™ªå£°</p><h5 id="Robertsè¾¹ç¼˜æ£€æµ‹ç®—å­"><a href="#Robertsè¾¹ç¼˜æ£€æµ‹ç®—å­" class="headerlink" title="Robertsè¾¹ç¼˜æ£€æµ‹ç®—å­"></a>Robertsè¾¹ç¼˜æ£€æµ‹ç®—å­</h5><ul><li>Robertsè¾¹ç¼˜æ£€æµ‹ç®—å­æ¨¡æ¿</li></ul><table><thead><tr><th align="center">-1</th><th align="center">0</th></tr></thead><tbody><tr><td align="center">0</td><td align="center">1</td></tr></tbody></table><p>$$g_x = z_9 - z_5$$</p><table><thead><tr><th align="center">0</th><th align="center">1</th></tr></thead><tbody><tr><td align="center">1</td><td align="center">0</td></tr></tbody></table><p>$$g_y = z_8 - z_6$$</p><ul><li>MATLABè¯­æ³•</li></ul><pre><code class="line-numbers language-matlab">[g, t] = edge(f, &#39;roberts&#39;, T , dir);</code></pre><h5 id="LoGæ£€æµ‹ç®—å­"><a href="#LoGæ£€æµ‹ç®—å­" class="headerlink" title="LoGæ£€æµ‹ç®—å­"></a>LoGæ£€æµ‹ç®—å­</h5><ul><li>LoG</li></ul><p>è€ƒè™‘é«˜æ–¯å‡½æ•°<br>$$G(x,y) = e^{-\frac{x^2 + y^2}{2\sigma ^2}}$$<br>$\sigma$æ˜¯æ ‡å‡†å·®ã€‚è¿™æ˜¯å¹³æ»‘å‡½æ•°ï¼Œå¦‚æœå’Œå›¾åƒå·ç§¯ï¼Œä¼šä½¿å›¾åƒå˜æ¨¡ç³Šï¼Œæ¨¡ç³Šç¨‹åº¦ç”±$\sigma$å†³å®š<br>è¿™ä¸ªå‡½æ•°çš„Laplaceç®—æ³•æ˜¯:<br>$$\triangledown^2G(x,y) = \frac{\partial ^2 G(x,y)}{\partial x^2}+\frac{\partial ^2 G(x,y)}{\partial y^2} = [\frac{x^2 + y^2-2\sigma ^2}{\sigma ^4}]^{e^{-\frac{x^2 + y^2}{2\sigma ^2}}}$$</p><p>ç”¨$\triangledown ^2G(x,y)$å·ç§¯(æ»¤æ³¢)è¿™å¹…å›¾åƒä¸å…ˆç”¨å¹³æ»‘å‡½æ•°å¯¹å›¾åƒå·ç§¯ï¼Œå†å¯¹ç»“æœè¿›è¡ŒLaplaceå˜æ¢çš„ç»“æœæ˜¯ä¸€æ ·çš„<br>ç”¨$\triangledown ^2G(x,y)$å·ç§¯å›¾åƒï¼Œå¯ä»¥å¾—åˆ°ä¸¤ä¸ªæ•ˆæœ:å¹³æ»‘å›¾åƒ(å› è€Œå‡å°‘äº†å™ªå£°);è®¡ç®—Laplaceï¼Œä»è€Œäº§ç”ŸåŒè¾¹ç¼˜å›¾åƒï¼Œç„¶ååœ¨åŒè¾¹ç¼˜ä¹‹é—´å®šä½ç”±å‘ç°çš„é›¶äº¤å‰ç»„æˆçš„è¾¹ç¼˜</p><ul><li>MATLABè¯­æ³•</li></ul><pre><code class="line-numbers language-matlab">[g, t] = edge(f, &#39;log&#39;, T , sigma);</code></pre><p>sigmaé»˜è®¤å€¼æ˜¯2</p><h5 id="é›¶äº¤å‰æ£€æµ‹ç®—å­"><a href="#é›¶äº¤å‰æ£€æµ‹ç®—å­" class="headerlink" title="é›¶äº¤å‰æ£€æµ‹ç®—å­"></a>é›¶äº¤å‰æ£€æµ‹ç®—å­</h5><ul><li>åŸºäºLoGï¼Œå·ç§¯ä½¿ç”¨ç‰¹æ®Šçš„æ»¤æ³¢å‡½æ•°Hæ¥å®Œæˆ</li><li>MATLABè¯­æ³•</li></ul><pre><code class="line-numbers language-matlab">[g, t] = edge(f, &#39;zerocross&#39;, T , H);</code></pre><h5 id="Cannyæ£€æµ‹ç®—å­"><a href="#Cannyæ£€æµ‹ç®—å­" class="headerlink" title="Cannyæ£€æµ‹ç®—å­"></a>Cannyæ£€æµ‹ç®—å­</h5><ul><li>edgeå‡½æ•°ä¸­æœ€å¼ºçš„è¾¹ç¼˜æ£€æµ‹ç®—å­</li><li>MATLABè¯­æ³•</li></ul><pre><code class="line-numbers language-matlab">[g, t] = edge(f, &#39;canny&#39;, T , sigma);</code></pre><h4 id="MATLABå®ç°"><a href="#MATLABå®ç°" class="headerlink" title="MATLABå®ç°"></a>MATLABå®ç°</h4><ul><li>å‡ ç§è¾¹ç¼˜æ£€æµ‹ç®—æ³•çš„æ¯”è¾ƒ(Sobel,LoG,Canny)</li></ul><pre><code class="line-numbers language-matlab">f = imread(&#39;timg1.jpg&#39;); imshow(f),title(&#39;currect image&#39;);f = rgb2gray(f);%Default Output[gSobel_default,ts] = edge(f, &#39;sobel&#39;);[gLoG_default, tlog] = edge(f, &#39;log&#39;);[gCanny_default, tc] = edge(f,&#39;canny&#39;);%Best OutputgSobel_best = edge(f,&#39;sobel&#39;,0.165);gLoG_best = edge(f,&#39;log&#39;,0.008, 2.25);gCanny_best = edge(f,&#39;canny&#39;,[0.05, 0.4], 1.5);figure,imshow(f),title(&#39;Gary images&#39;);figure,imshow(gSobel_default),title(&#39;gSobel default&#39;);figure,imshow(gSobel_best),title(&#39;gSobel best&#39;);figure,imshow(gLoG_default),title(&#39;gLoG default&#39;);figure,imshow(gLoG_best),title(&#39;gLoG best&#39;);figure,imshow(gCanny_default),title(&#39;gCanny default&#39;);figure,imshow(gCanny_best),title(&#39;gCanny best&#39;);</code></pre><p>å…¶ä¸­æœ€ä½³è¾“å‡ºçš„é˜€å€¼æ˜¯æ ¹æ®å¾—åˆ°çš„ts,tlog,tcçš„å€¼æ¥ç¡®å®šçš„<br>ç»“æœ:<br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b4bec1777947.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b5886d994031.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b3ad9b270352.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b573bae72055.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b61724d14715.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b51df2874618.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b65663011930.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/24/5d37d6b3e566366232.jpg"><br>ç»¼åˆç»“æœæ¥çœ‹ï¼ŒCannyè¾¹ç¼˜æ£€æµ‹ç®—å­å¯ä»¥å¾—åˆ°æœ€å¥½çš„ç»“æœ</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li><li><a href="https://godliuyang.wang/2019/07/29/high-quality-ellipse-detection/">High-quality-ellipse-detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Digital Image Processing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexoå¤§å‘</title>
      <link href="/2019/07/22/hexo-da-keng/"/>
      <url>/2019/07/22/hexo-da-keng/</url>
      
        <content type="html"><![CDATA[<h2 id="å‘ä¸€ã€Template-render-error-æ¨¡æ¿æ¸²æŸ“é”™è¯¯"><a href="#å‘ä¸€ã€Template-render-error-æ¨¡æ¿æ¸²æŸ“é”™è¯¯" class="headerlink" title="å‘ä¸€ã€Template render error æ¨¡æ¿æ¸²æŸ“é”™è¯¯"></a>å‘ä¸€ã€Template render error æ¨¡æ¿æ¸²æŸ“é”™è¯¯</h2><p>å†™äº†ä¸€ä¸‹åˆåšæ–‡ï¼Œé«˜é«˜å…´å…´åœ°hexo gå´å‘ç°æŠ¥é”™äº†ï¼<br><code>INFO  Start processing FATAL Something&#39;s wrong. Maybe you can find the solution here: https://hexo.io/docs/troubleshooting.html Nunjucks Error:  [Line 2, Column 6] unexpected token: &#125;&#125;  at formatNunjucksError (/home/kevin/blog/node_modules/hexo/lib/extend/tag.js:102:13)     at Promise.fromCallback.catch.err (/home/kevin/blog/node_modules/hexo/lib/extend/tag.js:124:34)     at tryCatcher (/home/kevin/blog/node_modules/bluebird/js/release/util.js:16:23)     at Promise._settlePromiseFromHandler (/home/kevin/blog/node_modules/bluebird/js/release/promise.js:517:31)     at Promise._settlePromise (/home/kevin/blog/node_modules/bluebird/js/release/promise.js:574:18)     at Promise._settlePromise0 (/home/kevin/blog/node_modules/bluebird/js/release/promise.js:619:10)     at Promise._settlePromises (/home/kevin/blog/node_modules/bluebird/js/release/promise.js:695:18)     at _drainQueueStep (/home/kevin/blog/node_modules/bluebird/js/release/async.js:138:12)     at _drainQueue (/home/kevin/blog/node_modules/bluebird/js/release/async.js:131:9)     at Async._drainQueues (/home/kevin/blog/node_modules/bluebird/js/release/async.js:147:5)     at Immediate.Async.drainQueues [as _onImmediate] (/home/kevin/blog/node_modules/bluebird/js/release/async.js:17:14)     at processImmediate (internal/timers.js:443:21)</code></p><p>åŸå› æ˜¯nunjucksæ¨¡æ¿æ ‡ç­¾å¯¼è‡´MDæ–‡ä»¶è§£ææŠ¥é”™çš„é—®é¢˜ï¼Œæˆ‘è¯•éªŒäº†ä¸€ä¸‹ï¼Œåœ¨mdæ–‡æ¡£ä¸­å‡ºç°<code>åŒå¤§æ‹¬å·</code>,<code>å·¦å¤§æ‹¬å·+#</code>,<code>å·¦å¤§æ‹¬å·+%</code>ç­‰éƒ½ä¼šæŠ¥é”™(åŸè°…æˆ‘è¿™ä¹ˆæ‰“ï¼Œå› ä¸ºæˆ‘æ‰“å‡ºæ¥ç¬¦å·çš„è¯è¿™ç¯‡åšå®¢å°±å‘ä¸å‡ºæ¥äº†)ï¼Œä¸‹é¢æ˜¯ä¸€ä½å¤§ç¥çš„<a href="http://xcoding.tech/2018/08/08/hexo/%E5%A6%82%E4%BD%95%E4%BB%8E%E6%A0%B9%E6%9C%AC%E8%A7%A3%E5%86%B3hexo%E4%B8%8D%E5%85%BC%E5%AE%B9%7B%7B%7D%7D%E6%A0%87%E7%AD%BE%E9%97%AE%E9%A2%98/">è§£å†³åŠæ³•</a>ï¼Œä»–æä¾›äº†å‡ ç§è§£å†³åŠæ³•ï¼Œè®²çš„å¾ˆè¯¦ç»†ï¼Œå¯ä»¥å‚è€ƒä¸€ä¸‹</p><p>æˆ‘è§‰å¾—æœ‰ç‚¹éº»çƒ¦å°±æ²¡é‡‡ç”¨(è¯´å¤šäº†å°±æ˜¯èœï½),ä¸‹é¢æ˜¯æˆ‘çš„åŠæ³•:</p><ol><li>æ—¢ç„¶å‡ºç°ä¸Šé¢çš„å†…å®¹å°±ä¼šæŠ¥é”™ï¼Œé‚£å°±å°½é‡é¿å…å‡ºç°å‘—â€¦(è¯´çš„éƒ½æ˜¯åºŸè¯)</li><li>ä½¿ç”¨<code>\lbrace</code>ä»£æ›¿<code>\&#123;</code>,ä½¿ç”¨<code>\rbrace</code>ä»£æ›¿<code>\&#125;</code><br>æ¨èå¤§ç¥çš„è§£å†³åŠæ³•ï¼Œä¸€åŠ³æ°¸é€¸ï¼Œä»¥åå°±ä¸ç”¨ç®¡äº†</li></ol><h2 id="å‘äºŒã€Markdownçš„ç©ºè¡Œ"><a href="#å‘äºŒã€Markdownçš„ç©ºè¡Œ" class="headerlink" title="å‘äºŒã€Markdownçš„ç©ºè¡Œ"></a>å‘äºŒã€Markdownçš„ç©ºè¡Œ</h2><p>åœ¨å†™è¡¨æ ¼çš„æ—¶å€™è¦æŠŠè¡¨æ ¼ä½“å‰åå„ç©ºä¸€è¡Œï¼Œä¸ç„¶ä½ å†™çš„è¡¨æ ¼æ˜¯è¿™æ ·å¼å„¿çš„ï¼Œå´©æºƒå•Šï¼<br><img loading="lazy" src="https://cdn.jsdelivr.net/gh/liuyaanng/Blog_source@master/blog_images/hexo%E5%A4%A7%E5%9D%91/1.png"></p><p>æœ‰å¯èƒ½æ˜¯hexoè§£æçš„é—®é¢˜ï¼Œæˆ‘åœ¨ä½¿ç”¨markdown-previewçš„æ—¶å€™çœ‹çš„æ˜¯æ­£å¸¸çš„</p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2020/09/18/mo-gai-hexo-bo-ke/">é­”æ”¹hexoåšå®¢</a></li><li><a href="https://godliuyang.wang/2020/09/15/cdn-for-blog/">CDN_for_blog</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> æ•™ç¨‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å½¢æ€å­¦å›¾åƒå¤„ç†</title>
      <link href="/2019/07/22/xing-tai-xue-tu-xiang-chu-li/"/>
      <url>/2019/07/22/xing-tai-xue-tu-xiang-chu-li/</url>
      
        <content type="html"><![CDATA[<h1 id="å½¢æ€å­¦å›¾åƒå¤„ç†"><a href="#å½¢æ€å­¦å›¾åƒå¤„ç†" class="headerlink" title="å½¢æ€å­¦å›¾åƒå¤„ç†"></a>å½¢æ€å­¦å›¾åƒå¤„ç†</h1><p>ä»è¿™é‡Œå¼€å§‹è¿‡æ¸¡ï¼Œä»è¾“å…¥è¾“å‡ºéƒ½æ˜¯å›¾åƒï¼Œè¿‡æ¸¡åˆ°å›¾åƒåˆ†ææ–¹æ³•ï¼Œè¾“å‡ºä»¥æŸç§æ–¹æ³•æ¥æè¿°å›¾åƒçš„å†…å®¹ã€‚</p><h2 id="é›†åˆç†è®ºåŸºç¡€"><a href="#é›†åˆç†è®ºåŸºç¡€" class="headerlink" title="é›†åˆç†è®ºåŸºç¡€"></a>é›†åˆç†è®ºåŸºç¡€</h2><p>ä»¤Zä¸ºæ•´æ•°é›†åˆï¼Œç”¨äºäº§ç”Ÿçš„æ•°å­—å›¾åƒçš„æŠ½æ ·å¤„ç†å¯ä»¥çœ‹åšæ˜¯æŠŠxyå¹³é¢åˆ†å‰²æˆç½‘æ ¼çŠ¶ï¼Œå…¶ä¸­æ¯ä¸ªç½‘æ ¼çš„<strong>ä¸­å¿ƒåæ ‡</strong>æ˜¯æ¥è‡ªç¬›å¡å°”ç§¯$Z^2$ä¸­çš„ä¸€å¯¹å…ƒç´ ã€‚åœ¨é›†åˆç†è®ºä¸­ï¼Œå¦‚æœ(x,y)æ˜¯æ¥è‡ª$Z^2$çš„æ•´æ•°,fæ˜¯åˆ†é…ç»™æ¯ä¸ªä¸åŒåæ ‡çš„å¯¹(x,y)çš„äº®åº¦å€¼çš„æ˜ å°„ï¼Œé‚£ä¹ˆå‡½æ•°f(x,y)è¢«æˆä¸ºæ•°å­—å›¾åƒã€‚å¦‚æœäº®åº¦å€¼ä¹Ÿä¸ºæ•´æ•°ï¼Œé‚£ä¹ˆè¿™å¹…å›¾åƒå°±å˜æˆäº†äºŒç»´å›¾åƒã€‚<br>é›†åˆçš„åŸºæœ¬æ“ä½œ:$\in$,$\notin$,$\cup$,$\cap$,+,-.é™¤äº†è¿™äº›åŸºæœ¬æ“ä½œï¼Œå½¢æ€å­¦æ“ä½œè¿˜éœ€è¦ä¸¤ä¸ªç®—å­ï¼Œä»–ä»¬ç‰¹åˆ«é’ˆå¯¹å…ƒç´ å‡ä¸ºåƒç´ åæ ‡çš„é›†åˆ</p><ol><li>é›†åˆçš„åå°„$\hat{B}$<br>$$ \hat{B} = {w|w=-b,b\in B}$$</li><li>ç‚¹z=($z_1$,$z_2$)é›†åˆçš„å¹³ç§»${(A)}_z$<br>$$ (A)_z = {c|c=a+z,a\in A}$$<h3 id="äºŒå€¼å›¾åƒã€é›†åˆåŠé€»è¾‘ç®—å­"><a href="#äºŒå€¼å›¾åƒã€é›†åˆåŠé€»è¾‘ç®—å­" class="headerlink" title="äºŒå€¼å›¾åƒã€é›†åˆåŠé€»è¾‘ç®—å­"></a>äºŒå€¼å›¾åƒã€é›†åˆåŠé€»è¾‘ç®—å­</h3>å½¢æ€å­¦ç†è®ºæŠŠäºŒå€¼å›¾åƒçœ‹æˆæ˜¯å‰æ™¯(1å€¼)åƒç´ çš„é›†åˆ,é›†åˆçš„å…ƒç´ å±äº$Z^2$å¦‚æœAå’ŒBéƒ½æ˜¯äºŒå€¼å›¾åƒï¼Œé‚£ä¹ˆ$C=A\cup B$ä¹Ÿæ˜¯äºŒå€¼å›¾åƒ<br>$$C(x,y)=\begin{cases}<br>1,\quad A(x,y)æˆ–B(x,y)ä¸º1,æˆ–è€…ä¸¤è€…å‡ä¸º1\<br>0 \quad å…¶ä»–<br>\end{cases}<br>$$<h3 id="åœ¨MATLABä¸­ä½¿ç”¨é€»è¾‘è¡¨è¾¾å¼åœ¨äºŒå€¼å›¾åƒä¸Šè¿›è¡Œé€»è¾‘è¿ç®—"><a href="#åœ¨MATLABä¸­ä½¿ç”¨é€»è¾‘è¡¨è¾¾å¼åœ¨äºŒå€¼å›¾åƒä¸Šè¿›è¡Œé€»è¾‘è¿ç®—" class="headerlink" title="åœ¨MATLABä¸­ä½¿ç”¨é€»è¾‘è¡¨è¾¾å¼åœ¨äºŒå€¼å›¾åƒä¸Šè¿›è¡Œé€»è¾‘è¿ç®—"></a>åœ¨MATLABä¸­ä½¿ç”¨é€»è¾‘è¡¨è¾¾å¼åœ¨äºŒå€¼å›¾åƒä¸Šè¿›è¡Œé€»è¾‘è¿ç®—</h3></li></ol><table><thead><tr><th>é›†åˆè¿ç®—</th><th align="center">äºŒå€¼å›¾åƒçš„MATLAbè¯­å¥</th><th>åç§°</th></tr></thead><tbody><tr><td>$A\cap B$</td><td align="center">A &amp; B</td><td>ä¸</td></tr><tr><td>$A\cup B$</td><td align="center">A $\rvert$ B</td><td>æˆ–</td></tr><tr><td>$A^c$</td><td align="center">~B</td><td>é</td></tr><tr><td>$A-B$</td><td align="center">A &amp;~ B</td><td>å·®</td></tr></tbody></table><h2 id="è…èš€å’Œè†¨èƒ€"><a href="#è…èš€å’Œè†¨èƒ€" class="headerlink" title="è…èš€å’Œè†¨èƒ€"></a>è…èš€å’Œè†¨èƒ€</h2><h3 id="è†¨èƒ€"><a href="#è†¨èƒ€" class="headerlink" title="è†¨èƒ€"></a>è†¨èƒ€</h3><p>è†¨èƒ€æ˜¯ä½¿å›¾åƒä¸­çš„ç›®æ ‡â€ç”Ÿé•¿â€æˆ–â€å˜ç²—â€çš„æ“ä½œã€‚ç¨‹åº¦ç”±ä¸€ç§è¢«ç§°ä¸º<strong>ç»“æ„å…ƒ</strong>çš„å½¢çŠ¶æ¥æ§åˆ¶<br>Aè¢«Bè†¨èƒ€ï¼Œè¡¨ç¤ºä¸º$A \oplus B$,ä½œä¸ºé›†åˆæ“ä½œ<br>$$ A\oplus B={ z|\hat{B}_z\cap A\not= \emptyset}$$<br>çº¦å®š: $A \oplus B$ çš„ç¬¬ä¸€ä¸ªæ“ä½œæ•°æ˜¯å›¾åƒï¼Œç¬¬äºŒä¸ªæ“ä½œæ•°æ˜¯ç»“æ„å…ƒï¼Œç»“æ„å…ƒé€šå¸¸æ¯”å›¾åƒå°çš„å¤šã€‚<br><img loading="lazy" src="https://i.loli.net/2019/07/22/5d35670a79cd611294.jpg"></p><ul><li>å·¥å…·ç®±å‡½æ•°imdilate(A, B)æ¥æ‰§è¡Œè†¨èƒ€</li></ul><pre><code class="line-numbers language-matlab">f = imread(&#39;1111.jpg&#39;);B = [0 1 0; 1 1 1; 0 1 0];%è‡ªå®šä¹‰ç»“æ„å…ƒD = imdilate(f, B);subplot(1,2,1),imshow(f);title(&#39;åŸå›¾&#39;)subplot(1,2,2),imshow(D);title(&#39;è†¨èƒ€åçš„å›¾&#39;)</code></pre><p><img loading="lazy" src="https://i.loli.net/2019/07/22/5d3564132fa1741100.jpg"></p><h3 id="è…èš€"><a href="#è…èš€" class="headerlink" title="è…èš€"></a>è…èš€</h3><p>è…èš€â€æ”¶ç¼©â€æˆ–â€ç»†åŒ–â€äºŒå€¼å›¾åƒä¸­çš„ç‰©ä½“ã€‚åƒè†¨èƒ€ä¸€æ ·ï¼Œæ”¶ç¼©çš„æ–¹æ³•å’Œç¨‹åº¦ç”±ç»“æ„å…ƒæ§åˆ¶ã€‚<br>Aè¢«Bè…èš€è¡¨ç¤ºä¸º$A\ominus B$,å®šä¹‰ä¸º:<br>$$ A\ominus B = {z| (B)_z\subseteq A} = {z| (B)_z\cap A^c = \emptyset}$$<br><img loading="lazy" src="https://i.loli.net/2019/07/23/5d36cefa2813d95731.jpg"></p><p>å·¥å…·ç®±å‡½æ•°imerode(A,B)æ¥æ‰§è…èš€</p><pre><code class="line-numbers language-matlab">f = imread(&#39;tig.jpg&#39;);B = [0 1 0; 1 1 1; 0 1 0];%è‡ªå®šä¹‰ç»“æ„å…ƒR = imerode(f, B);subplot(1,2,1),imshow(f);title(&#39;åŸå›¾&#39;)subplot(1,2,2),imshow(R);title(&#39;è…èš€åçš„å›¾&#39;)</code></pre><p><img loading="lazy" src="https://i.loli.net/2019/07/22/5d356b5f7eed962952.jpg"></p><h3 id="ç»“æ„å…ƒ"><a href="#ç»“æ„å…ƒ" class="headerlink" title="ç»“æ„å…ƒ"></a>ç»“æ„å…ƒ</h3><p>strelå‡½æ•°ï¼Œç”¨æ¥æ„é€ å„ç§å¤§å°å’Œå½¢çŠ¶çš„ç»“æ„å…ƒ</p><pre><code class="line-numbers language-matlab">se = strel(shape, parameters);</code></pre><p>shapeæ˜¯å¸Œæœ›å½¢çŠ¶çš„å­—ç¬¦ä¸²ï¼Œparametersæ˜¯æè¿°å½¢çŠ¶ä¿¡æ¯çš„å‚æ•°åˆ—è¡¨<br><img loading="lazy" src="https://i.loli.net/2019/07/22/5d35670a85b4f22579.jpg"><br><img loading="lazy" src="https://i.loli.net/2019/07/22/5d35670a63e2817742.jpg"><br>æ³¨æ„ç”Ÿæˆçš„seå«æœ‰ä¸¤é¡¹</p><ol><li>se.Neighborhood:[ Ã—  logical ]</li><li>se.Demensionality: 2</li></ol><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li><li><a href="https://godliuyang.wang/2019/07/29/high-quality-ellipse-detection/">High-quality-ellipse-detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Digital Image Processing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢‘åŸŸæ»¤æ³¢å™¨åŠå…¶åº”ç”¨</title>
      <link href="/2019/07/20/pin-yu-lu-bo-qi-ji-qi-ying-yong/"/>
      <url>/2019/07/20/pin-yu-lu-bo-qi-ji-qi-ying-yong/</url>
      
        <content type="html"><![CDATA[<h1 id="é¢‘åŸŸæ»¤æ³¢å™¨"><a href="#é¢‘åŸŸæ»¤æ³¢å™¨" class="headerlink" title="é¢‘åŸŸæ»¤æ³¢å™¨"></a>é¢‘åŸŸæ»¤æ³¢å™¨</h1><h2 id="ä½é€šæ»¤æ³¢å™¨"><a href="#ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="ä½é€šæ»¤æ³¢å™¨"></a>ä½é€šæ»¤æ³¢å™¨</h2><h3 id="ç†æƒ³ä½é€šæ»¤æ³¢å™¨"><a href="#ç†æƒ³ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="ç†æƒ³ä½é€šæ»¤æ³¢å™¨"></a>ç†æƒ³ä½é€šæ»¤æ³¢å™¨</h3><p>åœ¨ä»¥åŸç‚¹ä¸ºåœ†å¿ƒï¼Œä»¥$D_0$ä¸ºåŠå¾„çš„åœ†å†…æ— è¡°å‡é€šè¿‡æ‰€æœ‰é¢‘ç‡ï¼Œè€Œåœ¨åœ†å¤–åˆ‡æ–­æ‰€æœ‰é¢‘ç‡çš„äºŒç»´ä½é€šæ»¤æ³¢å™¨ï¼Œç§°ä¸ºç†æƒ³ä½é€šæ»¤æ³¢å™¨(ILPF)ï¼Œå®šä¹‰ä¸º<br>$$y=\begin{cases}<br>1,\quad D(x,y)\leq 0\<br>0, \quad D(x,y) &gt; 0<br>\end{cases}$$<br>$D_0$æ˜¯ä¸€ä¸ªå¸¸æ•°ï¼ŒD(u,v)æ˜¯é¢‘ç‡åŸŸä¸­å¿ƒç‚¹(u,v)ä¸é¢‘ç‡çŸ©å½¢ä¸­å¿ƒçš„è·ç¦»ï¼Œå³<br>$$ D(u,v)=\lbrack{(u-\frac{P}{2})^2+(v-\frac{Q}{2})^2}\rbrack^\frac{1}{2} $$<br>è¿‡æ¸¡ç‚¹ç§°ä¸º<strong>æˆªæ­¢é¢‘ç‡</strong><br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341bf1f0cb755202.jpg"></p><h3 id="å¸ƒç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨"><a href="#å¸ƒç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="å¸ƒç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨"></a>å¸ƒç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨</h3><p>æˆªæ­¢é¢‘ç‡ä½äºè·åŸç‚¹$D_0$å¤„çš„né˜¶å¸ƒç‰¹æ²ƒæ–¯ä½é€šæ»¤æ³¢å™¨(BLPF)çš„ä¼ é€’å‡½æ•°çš„å®šä¹‰ä¸º:<br>$$H(u,v)=\frac{1}{1+{[D(u,v)/D_0]}^{2n}}$$<br>æˆªæ­¢é¢‘ç‡ç‚¹æ˜¯å½“D(u,v) = $D_0$æ—¶çš„ç‚¹<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341bf1f101518273.jpg"></p><h3 id="é«˜æ–¯ä½é€šæ»¤æ³¢å™¨"><a href="#é«˜æ–¯ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="é«˜æ–¯ä½é€šæ»¤æ³¢å™¨"></a>é«˜æ–¯ä½é€šæ»¤æ³¢å™¨</h3><p>äºŒç»´å½¢å¼:<br>$$H(u,v) = e^{-D^2(u,v)/2{D_0}^2} $$<br>$D_0$ æ˜¯æˆªæ­¢é¢‘ç‡<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341bf1f163e99741.jpg"></p><h3 id="ä½¿ç”¨ä½é€šæ»¤æ³¢å™¨å¹³æ»‘å›¾åƒ"><a href="#ä½¿ç”¨ä½é€šæ»¤æ³¢å™¨å¹³æ»‘å›¾åƒ" class="headerlink" title="ä½¿ç”¨ä½é€šæ»¤æ³¢å™¨å¹³æ»‘å›¾åƒ"></a>ä½¿ç”¨ä½é€šæ»¤æ³¢å™¨å¹³æ»‘å›¾åƒ</h3><h4 id="1-é«˜æ–¯ä½é€šæ»¤æ³¢å™¨"><a href="#1-é«˜æ–¯ä½é€šæ»¤æ³¢å™¨" class="headerlink" title="1. é«˜æ–¯ä½é€šæ»¤æ³¢å™¨"></a>1. é«˜æ–¯ä½é€šæ»¤æ³¢å™¨</h4><pre><code class="line-numbers language-matlab">f = imread(&#39;1.jpg&#39;);f = rgb2gray(f);[f, revertclass] = tofloat(f);PQ = paddedsize(size(f));[U, V] = dftuv(PQ(1), PQ(2));D = hypot(U, V);D0 = 0.05*PQ(2);F = fft2(f, PQ(1), PQ(2));H = exp(-(D .^ 2)/(2 * (D0^2))); %é«˜æ–¯ä½é€šæ»¤æ³¢å™¨g = dftfilt(f, H);g = revertclass(g);figure, imshow(fftshift(H));figure, imshow(log(1 + abs(fftshift(F))), [])figure, imshow(g);</code></pre><p>æ»¤æ³¢ç»“æœï¼š<br><img loading="lazy" src="https://i.loli.net/2019/07/20/5d32d02f5468855048.jpg"></p><p>é™¤äº†ä¹‹å‰è¯´çš„å‡ ä¸ªMå‡½æ•°å¤–ï¼Œè¿˜éœ€è¦ç”¨åˆ°<code>dftfilt()</code>å‡½æ•°</p><pre><code class="line-numbers language-matlab">function g=dftfilt(f,H)%DFTFILT Performs frequency domain filtering.%   G=DFTFILT(F,H) filters F in the frequency domain using the%   filter transfer function H. The output, G, is the filtered%   image, which has the same size as F. DFTFILT automatically pads%   F to be the same size as H. Function PADDEDSIZE can be used%   to determine an appropriate size for H.%%   DFTFILT assumes that F is real and that H is a real, uncentered,%   circularly-symmetric filter function.%Obtain the FFT of the padded input.F=fft2(f,size(H,1),size(H,2));%Perform filtering.g=real(ifft2(H.*F));%Crop to original size.g=g(1:size(f,1),1:size(f,2));</code></pre><h4 id="2-Butterworthæ»¤æ³¢"><a href="#2-Butterworthæ»¤æ³¢" class="headerlink" title="2. Butterworthæ»¤æ³¢"></a>2. Butterworthæ»¤æ³¢</h4><p>è¯¥å‡½æ•°è¾“å…¥ä¸ºç°åº¦å›¾åƒï¼Œè‡ªç”±è®¾ç½®æˆªæ­¢é¢‘ç‡$D_0$å’ŒBLPFçš„é˜¶æ•°nï¼Œè¾“å‡ºä¸ºæ»¤æ³¢åçš„å›¾åƒ(å·²å½’ä¸€åŒ–åˆ°[0,255])</p><pre><code class="line-numbers language-matlab">function [image_out] = Bfilter(image_in, D0, N)% Butterworthæ»¤æ³¢å™¨ï¼Œåœ¨é¢‘ç‡åŸŸè¿›è¡Œæ»¤æ³¢% è¾“å…¥ä¸ºéœ€è¦è¿›è¡Œæ»¤æ³¢çš„ç°åº¦å›¾åƒï¼ŒButterworthæ»¤æ³¢å™¨çš„æˆªæ­¢é¢‘ç‡D0ï¼Œé˜¶æ•°N% è¾“å‡ºä¸ºæ»¤æ³¢ä¹‹åçš„ç°åº¦å›¾åƒ[m, n] = size(image_in);P = 2 * m;Q = 2 * n;fp = zeros(P, Q);%å¯¹å›¾åƒå¡«å……0,å¹¶ä¸”ä¹˜ä»¥(-1)^(x+y) ä»¥ç§»åˆ°å˜æ¢ä¸­å¿ƒfor i = 1 : m    for j = 1 : n        fp(i, j) = double(image_in(i, j)) * (-1)^(i+j);    endend% å¯¹å¡«å……åçš„å›¾åƒè¿›è¡Œå‚…é‡Œå¶å˜æ¢F1 = fft2(fp);% ç”ŸæˆButterworthæ»¤æ³¢å‡½æ•°ï¼Œä¸­å¿ƒåœ¨(m+1,n+1)Bw = zeros(P, Q);a = D0^(2 * N);for u = 1 : P    for v = 1 : Q        temp = (u-(m+1.0))^2 + (v-(n+1.0))^2;        Bw(u, v) = 1 / (1 + (temp^N) / a);    endend%è¿›è¡Œæ»¤æ³¢G = F1 .* Bw;% åå‚…é‡Œå¶å˜æ¢gp = ifft2(G);% å¤„ç†å¾—åˆ°çš„å›¾åƒimage_out = zeros(m, n, &#39;uint8&#39;);gp = real(gp);g = zeros(m, n);for i = 1 : m    for j = 1 : n        g(i, j) = gp(i, j) * (-1)^(i+j);    endendmmax = max(g(:));mmin = min(g(:));range = mmax-mmin;for i = 1 : m    for j = 1 : n        image_out(i,j) = uint8(255 * (g(i, j)-mmin) / range);    endendend</code></pre><p>æµ‹è¯•BLPFçš„é˜¶æ•°ä¸º2,æˆªæ­¢é¢‘ç‡åˆ†åˆ«ä¸º10,40,80,150,450</p><pre><code class="line-numbers language-matlab">clear all;close all;clc;image1 = imread(&#39;2.jpg&#39;);image2 = Bfilter(image1, 10, 2);image3 = Bfilter(image1, 40, 2);image4 = Bfilter(image1, 80, 2);image5 = Bfilter(image1, 150, 2);image6 = Bfilter(image1, 450, 2);% æ˜¾ç¤ºå›¾åƒsubplot(2,3,1), imshow(image1), title(&#39;åŸå›¾åƒ&#39;);subplot(2,3,2), imshow(image2), title(&#39;D0 = 10, n = 2&#39;);subplot(2,3,3), imshow(image3), title(&#39;D0 = 40, n = 2&#39;);subplot(2,3,4), imshow(image4), title(&#39;D0 = 80, n = 2&#39;);subplot(2,3,5), imshow(image5), title(&#39;D0 = 150, n = 2&#39;);subplot(2,3,6), imshow(image6), title(&#39;D0 = 450, n = 2&#39;);</code></pre><p>æ»¤æ³¢ç»“æœå¦‚ä¸‹:<br><img loading="lazy" src="https://i.loli.net/2019/07/20/5d32d02f43bc610556.jpg"><br>åˆ†æç»“æœ:    </p><ol><li>æ¨¡ç³Šçš„å¹³æ»‘è¿‡æ¸¡æ˜¯æˆªæ­¢é¢‘ç‡å¢å¤§çš„å‡½æ•°</li><li>æ»¤æ³¢åè¾“å‡ºä¸‰å‰¯è¿ç»­çš„è‰²å›¾ï¼ŒåŸå› æ˜¯rgbå›¾åƒçš„åˆ†ä¸‰æ¬¡å‘ˆç°<br>ä¸€å‰¯å½©å›¾æ˜¯ç”±ä¸‰è‰²ç»„æˆ,çº¢ç»¿è“ä¸‰è‰²ï¼Œå›¾åƒè¯»å–åˆ°matlabåï¼Œæœ‰ä¸‰ä¸ªå‚æ•°m Ã— n Ã— 3, ä»£è¡¨çš„æ˜¯ä¸‰è‰²å åŠ ï¼Œå¤„ç†ä¹‹åçš„å›¾å°†ä¸‰è‰²å±•å¼€åˆ†åˆ«å‘ˆç°äº†ï¼Œæ‰€ä»¥æ‰ä¼šå‡ºç°ä¸‰å‰¯è¿ç»­çš„è‰²å›¾<br><img loading="lazy" src="https://i.loli.net/2019/07/20/5d32d80a09a9124012.jpg"></li></ol><p>æ¢æˆå½©è‰²å›¾å¯ä»¥æ˜æ˜¾çœ‹åˆ°<br><img loading="lazy" src="https://i.loli.net/2019/07/20/5d32d80a3073491464.jpg"></p><h2 id="é«˜é€šæ»¤æ³¢å™¨"><a href="#é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="é«˜é€šæ»¤æ³¢å™¨"></a>é«˜é€šæ»¤æ³¢å™¨</h2><p>å›¾åƒçš„é”åŒ–å¯ä»¥åœ¨é¢‘ç‡ä¸é€šè¿‡é«˜é€šæ»¤æ³¢å™¨æ¥å®ç°<br>ä¸€ä¸ªé«˜é€šæ»¤æ³¢å™¨å¯ä»¥ç”±ä¸€ä¸ªä½é€šæ»¤æ³¢å™¨æ¥å®ç°:<br>$$H_{HP}(u,v)=1-H_{LP}(u,v)$$<br>è¢«ä½é€šæ»¤æ³¢å™¨è¡°å‡çš„é¢‘ç‡å¯ä»¥é€šè¿‡é«˜é€šæ»¤æ³¢å™¨</p><h3 id="ç†æƒ³é«˜é€šæ»¤æ³¢å™¨"><a href="#ç†æƒ³é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="ç†æƒ³é«˜é€šæ»¤æ³¢å™¨"></a>ç†æƒ³é«˜é€šæ»¤æ³¢å™¨</h3><p>äºŒç»´ç†æƒ³é«˜é€šæ»¤æ³¢å™¨å¯ä»¥å®šä¹‰ä¸º<br>$$ H(u,v)=\begin{cases}<br>1,\quad D(u,v)\leq D_0\<br>0,\quad D(u,v)&gt;D_0<br>\end{cases}<br>$$<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341bf1c410443073.jpg"></p><h3 id="å¸ƒç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨"><a href="#å¸ƒç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="å¸ƒç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨"></a>å¸ƒç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨</h3><p>æˆªæ­¢é¢‘ç‡ä¸º$D_0$çš„né˜¶å¸ƒç‰¹æ²ƒæ–¯é«˜é€šæ»¤æ³¢å™¨(BHPF)çš„å®šä¹‰ä¸º:<br>$$ H(u,v)=\frac{1}{1+[D_0/D(u,v)]^{2n}}$$<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341bf1c376281237.jpg"></p><h3 id="é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨"><a href="#é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨" class="headerlink" title="é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨"></a>é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨</h3><p>æˆªæ­¢é¢‘ç‡å¤„åœ¨è·é¢‘ç‡çŸ©å½¢ä¸­å¿ƒè·ç¦»ä¸º$D_0$çš„é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨(GHPF)çš„ä¼ é€’å‡½æ•°å¦‚ä¸‹:<br>$$H(u,v)=1-e^{-D^2(u,v)/2D_0^2}$$<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341bf1c3f7954220.jpg"></p><h3 id="ä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨é”åŒ–å›¾åƒ"><a href="#ä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨é”åŒ–å›¾åƒ" class="headerlink" title="ä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨é”åŒ–å›¾åƒ"></a>ä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨é”åŒ–å›¾åƒ</h3><p>ä½¿ç”¨é«˜é€šæ»¤æ³¢å™¨æ¥é”åŒ–å›¾åƒï¼Œä¸å¹³æ»‘å›¾åƒç±»ä¼¼ï¼Œåªæ˜¯å°†ä½é€šæ»¤æ³¢å™¨æ¢æˆäº†é«˜é€šæ»¤æ³¢å™¨ï¼Œå…·ä½“æ­¥éª¤ä¸å†èµ˜è¿°</p><pre><code class="line-numbers language-matlab">f = imread(&#39;1.jpg&#39;);f = rgb2gray(f);[f, revertclass] = tofloat(f);PQ = paddedsize(size(f));[U, V] = dftuv(PQ(1), PQ(2));D = hypot(U, V);D0 = 0.05*PQ(1);F = fft2(f, PQ(1), PQ(2));H = hpfilter(&#39;gaussian&#39;,PQ(1), PQ(2), D0);g = dftfilt(f, H);g = revertclass(g);figure(1)subplot(2,2,1);imshow(f,[]);title(&#39;åŸå›¾åƒ&#39;)subplot(2,2,2);imshow(fftshift(H));title(&#39;é«˜æ–¯é«˜é€šæ»¤æ³¢å™¨&#39;);subplot(2,2,3);imshow(log(1 + abs(fftshift(F))), [])title(&#39;æ»¤æ³¢åå›¾åƒè°±&#39;);subplot(2,2,4);imshow(g);title(&#39;æ»¤æ³¢åå›¾åƒ&#39;);</code></pre><p>åŒæ ·è¿™é‡Œéœ€è¦çš„æ˜¯é«˜é€šæ»¤æ³¢å‡½æ•°hpfilter()</p><pre><code class="line-numbers language-matlab">function [H] = hpfilter(type,M,N,D0,n)%HPFILTER Computes freq. domain highpass filters%        THIS IS NOT A STANDARD MATLAB FUNCTION%        H = hpfilter (type,M,N,D0,n) creates the%        transfer function of a highpass filter, H, of%        the specified type and size MxN. Possible%        values for type, D0, and n are:%%        &#39;ideal&#39;                Ideal highpass filter with%                        cutoff frequency D0. If%                        supplied, n is ignored.%        &#39;btw&#39;                Butterworth highpass filter%                        of order n, and cutoff D0.%        &#39;gaussn&#39;            Gaussian highpass filter with%                        cutoff (standard deviation)D0.%                        If supplied, n is ignored.%        M and N should be even numbers for DFT%        filtering.%%        Class support: double, uint8, uint16%        The output is of class double%       The transfer function Hhp of a highpass filter%       is 1 - Hlp, where Hlp is the transfer function of%       the corresponding lowpass filter.  Thus, we can%       use function lpfilter to generate highpass filters%       If filter is btw, make sure that n is provided%       Otherwise, pass n=1 as an arbitrary value to%       prevent error messageif nargin == 4    n = 1; %default value of nendHlp = lpfilter(type,M,N,D0,n);H = 1 - Hlp;%       End of function</code></pre><p>é”åŒ–ç»“æœ:</p><ol><li>IHPF<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341eae3a6b123891.jpg"></li><li>BHPF<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341bf1f13e453488.jpg"></li><li>GHPF<br><img loading="lazy" src="https://i.loli.net/2019/07/21/5d341eae4fa8d96779.jpg"></li></ol><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li><li><a href="https://godliuyang.wang/2019/07/29/high-quality-ellipse-detection/">High-quality-ellipse-detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Digital Image Processing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>é¢‘åŸŸæ»¤æ³¢</title>
      <link href="/2019/07/19/pin-yu-lu-bo/"/>
      <url>/2019/07/19/pin-yu-lu-bo/</url>
      
        <content type="html"><![CDATA[<h1 id="é¢‘åŸŸæ»¤æ³¢"><a href="#é¢‘åŸŸæ»¤æ³¢" class="headerlink" title="é¢‘åŸŸæ»¤æ³¢"></a>é¢‘åŸŸæ»¤æ³¢</h1><ol><li>å¯¹å›¾åƒå¹³æ»‘çš„ä½é€šæ»¤æ³¢</li><li>å¯¹å›¾åƒé”åŒ–çš„é«˜é€šæ»¤æ³¢</li><li>å»é™¤å‘¨æœŸçš„é€‰æ‹©æ€§æ»¤æ³¢</li></ol><h2 id="äºŒç»´å‚…é‡Œå¶å˜æ¢"><a href="#äºŒç»´å‚…é‡Œå¶å˜æ¢" class="headerlink" title="äºŒç»´å‚…é‡Œå¶å˜æ¢"></a>äºŒç»´å‚…é‡Œå¶å˜æ¢</h2><ul><li><p>äºŒç»´å‚…é‡Œå¶å˜æ¢:<br>$$ F(u,v)=\int_{-\infty}^{\infty} \int_{-\infty}^{\infty} f(x,y)e^{-j2\pi(ux + vy)},\mathrm{d}x \mathrm{d}y $$</p></li><li><p>äºŒç»´å‚…é‡Œå¶é€†å˜æ¢ï¼š<br>$$ f(x,y) = \int_{-\infty}^{\infty} \int_{-\infty}^{\infty} F(u,v)e^{j2\pi(ux + vy)},dxdy $$</p></li></ul><h2 id="äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢"><a href="#äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢" class="headerlink" title="äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢"></a>äºŒç»´ç¦»æ•£å‚…é‡Œå¶å˜æ¢</h2><p>f(x,y)ä»£è¡¨ä¸€å¹…å¤§å°ä¸ºMÃ—Nçš„å›¾åƒï¼Œå…¶ä¸­x=0,1,â€¦â€¦,M-1,y=0,1,â€¦..,N-1,DFTå¦‚ä¸‹</p><p>$$ F(u,v)=\int_{x=0}^{M-1} \int_{y=0}^{N-1} f(x,y)e^{-j2\pi(\frac{ux}{M}+\frac{vy}{N})},\mathrm{d}x \mathrm{d}y $$</p><p>IDFTï¼š</p><p>$$ f(x,y)=\frac{1}{MN}\int_{x=0}^{M-1} \int_{y=0}^{N-1} F(u,v)e^{j2\pi(\frac{ux}{M}+\frac{vy}{N})},\mathrm{d}x \mathrm{d}y $$</p><p>è¿™é‡Œçš„F(u,v)è¢«ç§°ä¸ºå±•å¼€çš„å‚…é‡Œå¶çº§æ•°</p><p>é¢‘åŸŸåŸç‚¹å‡ºçš„å˜æ¢çš„å€¼F(0,0)ç§°ä¸ºå‚…é‡Œå¶å˜æ¢çš„ç›´æµ(dc)åˆ†é‡ï¼ŒF(0,0)ç­‰äºf(0,0)å¹³å‡å€¼çš„MNå€ã€‚è¦æ³¨æ„çš„æ˜¯åœ¨MATLABä¸­ç´¢å¼•æ˜¯ä»1å¼€å§‹çš„è€Œä¸æ˜¯ä»0å¼€å§‹çš„</p><h2 id="MATLABå®ç°å¯¹å›¾åƒçš„Fourierå˜æ¢å’Œé€†å˜æ¢"><a href="#MATLABå®ç°å¯¹å›¾åƒçš„Fourierå˜æ¢å’Œé€†å˜æ¢" class="headerlink" title="MATLABå®ç°å¯¹å›¾åƒçš„Fourierå˜æ¢å’Œé€†å˜æ¢"></a>MATLABå®ç°å¯¹å›¾åƒçš„Fourierå˜æ¢å’Œé€†å˜æ¢</h2><ul><li>Fourierå˜æ¢ï¼Œfä¸ºåŸå›¾åƒ</li></ul><pre><code class="line-numbers language-matlab">&gt;&gt; F = fft2(f);</code></pre><ul><li>Fourierè°±</li></ul><pre><code class="line-numbers language-matlab">&gt;&gt; S = abs(F);</code></pre><p>è¯¥å‡½æ•°è®¡ç®—çš„æ˜¯æ•°ç»„ä¸­æ¯ä¸ªå…ƒç´ çš„å¹…å€¼( $ \sqrt{r^2+i^2} $ )<br>å¯ä»¥åœ¨è¿™é‡Œè§‚å¯Ÿåˆ°4ä¸ªè§’çš„äº®ç‚¹ï¼Œè¿™å°±æ˜¯å‘¨æœŸç‰¹æ€§çš„ç»“æœï¼Œä¸ä¾¿è§‚å¯Ÿ</p><ul><li>å°†äº¤æ¢çš„åŸç‚¹ç§»åŠ¨åˆ°é¢‘åŸŸçŸ©å½¢çš„ä¸­å¿ƒ</li></ul><pre><code class="line-numbers language-matlab">&gt;&gt; Fc = fftshift(F)</code></pre><p>é¢‘è°±èŒƒå›´å¤§ï¼Œä¸ä¾¿è§‚å¯Ÿ</p><ul><li>å–æ¨¡ï¼Œç¼©æ”¾</li></ul><pre><code class="line-numbers language-matlab">S2 = log(1 + abs(Fc));</code></pre><ul><li>Fourieré€†å˜æ¢</li></ul><pre><code class="line-numbers language-matlab">&gt;&gt; f = ifft2(F);</code></pre><p>ä¸‹é¢æ˜¯å®Œæ•´ä»£ç </p><pre><code class="line-numbers language-matlab">img=imread(&#39;moon.jpg&#39;);subplot(2,2,1);    imshow(img);    title(&#39;åŸå›¾&#39;);f=rgb2gray(img);    %å¯¹äºRGBå›¾åƒå¿…é¡»åšçš„ä¸€æ­¥ï¼Œä¹Ÿå¯ä»¥ç”¨im2doubleå‡½æ•°F=fft2(f);          %Fourierå˜æ¢F1=log(abs(F)+1);   %å–æ¨¡,ç¼©æ”¾subplot(2,2,2);    imshow(F1,[]);    title(&#39;å‚…é‡Œå¶å˜æ¢é¢‘è°±å›¾&#39;);Fs=fftshift(F);      %å°†é¢‘è°±å›¾ä¸­é›¶é¢‘ç‡æˆåˆ†ç§»åŠ¨è‡³é¢‘è°±å›¾ä¸­å¿ƒS=log(abs(Fs)+1);    %å–æ¨¡å¹¶è¿›è¡Œç¼©æ”¾subplot(2,2,3);    imshow(S,[]);    title(&#39;é¢‘ç§»åçš„é¢‘è°±å›¾&#39;);fr=real(ifft2(ifftshift(Fs)));  %é¢‘ç‡åŸŸåå˜æ¢åˆ°ç©ºé—´åŸŸï¼Œå¹¶å–å®éƒ¨ret=im2uint8(mat2gray(fr));    %æ›´æ”¹å›¾åƒç±»å‹subplot(2,2,4);    imshow(ret);    title(&#39;é€†å‚…é‡Œå¶å˜æ¢&#39;);</code></pre><p>ç»“æœ<br><img loading="lazy" src="https://i.loli.net/2019/07/18/5d3043778b4e114553.jpg"><br>å¦‚æœä½¿ç”¨<code>&gt;&gt; f = im2double(img)</code>è¿›è¡Œå¤„ç†ï¼Œåˆ™ä¼šå‡ºç°ä»¥ä¸‹ç»“æœ<br><img loading="lazy" src="https://i.loli.net/2019/07/18/5d304377bcc9554917.jpg"></p><ul><li>åˆ†æ    </li></ul><ol><li>å›¾åƒFourierå˜æ¢ä¹‹åç«‹å³imshowä¼šæŠ¥é”™<br><img loading="lazy" src="https://i.loli.net/2019/07/18/5d3043779bef722309.jpg"><br>è¿™æ˜¯å› ä¸ºç»è¿‡fourierå˜æ¢ä¹‹åçš„å›¾åƒçŸ©é˜µä¸ºå¤æ•°çŸ©é˜µï¼ŒåŒ…å«å®éƒ¨å’Œè™šéƒ¨ï¼Œæ­¤æ—¶è¿›è¡Œ<code>abs(f)</code>å–å¤æ•°çŸ©é˜µçš„æ¨¡ï¼Œå†æ˜¾ç¤ºã€‚</li><li><code>rgb2gray()</code>å’Œ<code>im2double()</code>çš„ä½¿ç”¨<br>è¿™ä¸€ç‚¹è¦ç‰¹åˆ«æ³¨æ„ï¼Œå¯¹äºRGBå›¾åƒï¼Œ<code>imread()</code>æ˜¯å·²ä¸‰ç»´çŸ©é˜µçš„å½¢å¼æ¥å­˜å‚¨çš„ï¼Œè¦å…ˆè¿›è¡Œç±»å‹è½¬æ¢ï¼Œå¦åˆ™ä¼šå‡ºç°ç©ºç™½    </li><li><code>rgb2gray()</code>è½¬æ¢ä¸ºç°åº¦å›¾åƒ,å¾—åˆ°çš„å›¾åƒå‘ˆç°è‰²åŸºè°ƒï¼Œè§â€˜ç»“æœâ€™</li><li><code>im2double()</code>è½¬æ¢æˆåŒç²¾åº¦å›¾åƒï¼Œå¾—åˆ°çš„å›¾åƒå‘ˆç™½è‰²åŸºè°ƒï¼Œè§â€˜ç»“æœâ€™<br>å…¶ä»–å›¾åƒå¤„ç†ç»“æœ<br><img loading="lazy" src="https://i.loli.net/2019/07/18/5d304377bd0c676784.jpg"></li></ol><p><img loading="lazy" src="https://i.loli.net/2019/07/18/5d304377b0b2610307.jpg"><br>å¯ä»¥çœ‹åˆ°Fourieré€†å˜æ¢å¤„ç†ä¹‹åçš„å›¾ç‰‡ä¸ºåŸå›¾çš„ç°åº¦å›¾ç‰‡ã€‚</p><h2 id="å¯¹å›¾åƒFourierå˜æ¢çš„æ„ä¹‰åˆ†æ"><a href="#å¯¹å›¾åƒFourierå˜æ¢çš„æ„ä¹‰åˆ†æ" class="headerlink" title="å¯¹å›¾åƒFourierå˜æ¢çš„æ„ä¹‰åˆ†æ"></a>å¯¹å›¾åƒFourierå˜æ¢çš„æ„ä¹‰åˆ†æ</h2><p>å¯¹äºä¸€ä¸ªå›¾åƒï¼Œå…¶é¢‘ç‡æ˜¯è¡¨å¾å›¾åƒä¸­ç°åº¦å˜åŒ–å‰§çƒˆç¨‹åº¦çš„æŒ‡æ ‡ï¼Œæ˜¯ç°åº¦åœ¨å¹³é¢ç©ºé—´çš„æ¢¯åº¦ã€‚è®¾fä¸ºä¸€ä¸ªèƒ½é‡æœ‰é™çš„æ¨¡æ‹Ÿä¿¡å·ï¼Œå…¶å‚…é‡Œå¶å˜æ¢ä»£è¡¨fçš„é¢‘è°±ã€‚ä»çº¯ç²¹çš„æ•°å­¦æ„ä¹‰ä¸Šæ¥çœ‹ï¼ŒFourierå˜æ¢æ˜¯å°†ä¸€ä¸ªå‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—çš„å‘¨æœŸå‡½æ•°æ¥è¿›è¡Œå¤„ç†çš„ã€‚ä»ç‰©ç†è§’åº¦æ¥çœ‹ï¼ŒFourierå˜æ¢æ˜¯å°†å›¾åƒä»ç©ºé—´åŸŸè½¬æ¢åˆ°é¢‘ç‡åŸŸï¼Œé€†å˜æ¢æ˜¯å°†å›¾åƒä»é¢‘ç‡åŸŸè½¬æ¢åˆ°ç©ºé—´åŸŸã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒFourierå˜æ¢æ˜¯å°†å›¾åƒçš„ç°åº¦åˆ†å¸ƒå‡½æ•°å˜æ¢æˆå›¾åƒçš„é¢‘ç‡åˆ†å¸ƒå‡½æ•°ã€‚<strong>è¿™é‡Œè¦æ³¨æ„æ˜¯ç°åº¦åˆ†å¸ƒå‡½æ•°</strong>,ä¸‹é¢è¿˜ä¼šè¯´åˆ°ã€‚</p><p>Fourieé€†å˜æ¢æ˜¯å°†å›¾åƒçš„é¢‘ç‡åˆ†å¸ƒå‡½æ•°è½¬æ¢æˆç°åº¦åˆ†å¸ƒå‡½æ•°(åŸå§‹å›¾åƒçš„ç°åº¦åˆ†å¸ƒå‡½æ•°),å›¾åƒçš„æ¦‚å¿µå‰è¾¹è¯´è¿‡ï¼Œç”¨ä¸€ä¸ªäºŒç»´çŸ©é˜µæ¥è¡¨ç¤ºç©ºé—´ä¸Šçš„å„ç‚¹ï¼Œz=f(x,y)ï¼Œä½†ç©ºé—´æ˜¯ä¸‰ç»´çš„ï¼Œå› æ­¤ç©ºé—´ä¸Šçš„ç‰©ä½“åœ¨å¦ä¸€ä¸ªç»´åº¦ä¸Šçš„å…³ç³»å¿…é¡»ç”±æ¢¯åº¦æ¥è¡¨ç¤ºã€‚</p><p>Fourieré¢‘è°±å›¾ä¸Šçš„æ˜æš—ç‚¹ï¼Œæ„ä¹‰æ˜¯æŒ‡å›¾åƒä¸Šçš„æŸä¸€ç‚¹ä¸é‚»åŸŸç‚¹å·®å¼‚çš„å¼ºå¼±ï¼Œå³æ¢¯åº¦çš„å¤§å°ã€‚</p><p>å¯¹é¢‘è°±ç§»é¢‘åˆ°åŸç‚¹ä¹‹åï¼Œå¯ä»¥çœ‹å‡ºå›¾åƒçš„é¢‘ç‡åˆ†å¸ƒæ˜¯ä»¥åŸç‚¹ä¸ºåœ†å¿ƒï¼Œå¯¹ç§°åˆ†å¸ƒçš„.</p><h2 id="DFTæ»¤æ³¢"><a href="#DFTæ»¤æ³¢" class="headerlink" title="DFTæ»¤æ³¢"></a>DFTæ»¤æ³¢</h2><h3 id="æ»¤æ³¢æ­¥éª¤"><a href="#æ»¤æ³¢æ­¥éª¤" class="headerlink" title="æ»¤æ³¢æ­¥éª¤"></a>æ»¤æ³¢æ­¥éª¤</h3><ol><li>ç”¨å‡½æ•°<code>tofloat</code>æŠŠè¾“å…¥å›¾åƒè½¬æ¢æˆæµ®ç‚¹å›¾åƒ<pre><code class="line-numbers language-matlab">&gt;&gt; [f, revertclass] = tofloat(f);</code></pre></li><li>ç”¨å‡½æ•°<code>paddedsize</code>æ¥è·å¾—å¡«å……å‚æ•°<pre><code class="line-numbers language-matlab">&gt;&gt; PQ = paddedsize(size(f));</code></pre></li><li>å¾—åˆ°æœ‰å¡«å……çš„Fourierå˜æ¢<pre><code class="line-numbers language-matlab">&gt;&gt; F = fft2(f,PQ(1), PQ(2));</code></pre></li><li>ç”Ÿæˆå¤§å°ä¸ºPQ(1)Ã—PQ(2)çš„æ»¤æ³¢å‡½æ•°H,å‡½æ•°ç±»å‹è¦æ»¡è¶³å¦‚ä¸‹å›¾æ‰€ç¤º,<br><img loading="lazy" src="https://i.loli.net/2019/07/19/5d318dcf343b438405.jpg"><br>å¦‚æœæ˜¯ç±»ä¼¼è¿™æ ·çš„<br><img loading="lazy" src="https://i.loli.net/2019/07/19/5d318dcf4915275796.jpg">    <pre><code class="line-numbers language-matlab">&gt;&gt; H = lpfilter(&#39;gaussian&#39;,PQ(1),PQ(2),2*sig);</code></pre>åœ¨ä½¿ç”¨æ»¤æ³¢å™¨ä¹‹å‰ï¼Œè¦å…ˆ<code>H = fftshift(H)</code></li><li>ç”¨æ»¤æ³¢å™¨ä¹˜ä»¥FFTå˜æ¢<pre><code class="line-numbers language-matlab">&gt;&gt; G = H .* F;</code></pre></li><li>è·å¾—Gçš„é€†Fourierå˜æ¢<pre><code class="line-numbers language-matlab">&gt;&gt; g = ifft2(G);</code></pre></li><li>ä¿®å‰ªå·¦ä¸Šéƒ¨çŸ©å½¢ä¸ºåŸå§‹å¤§å°<pre><code class="line-numbers language-matlab">&gt;&gt; g = g(1:size(f, 1), 1:size(f, 2));</code></pre></li><li>æŠŠæ»¤æ³¢åçš„å›¾åƒå˜æ¢ä¸ºè¾“å…¥å›¾åƒçš„ç±»<pre><code class="line-numbers language-matlab">&gt;&gt; g = revertclass(g);</code></pre><h3 id="Matlabå®ç°"><a href="#Matlabå®ç°" class="headerlink" title="Matlabå®ç°"></a>Matlabå®ç°</h3></li></ol><pre><code class="line-numbers language-matlab">f = imread(&#39;1.jpg&#39;);f = rgb2gray(f);%æœªå¡«å……çš„æ»¤æ³¢[M,N] = size(f);[f, revertclass] = tofloat(f);F = fft2(f);sig = 10;H = lpfilter(&#39;gaussian&#39;, M, N, sig);G = H.*F;g = ifft2(G);g = revertclass(g);figure(1);subplot(1,2,1);imshow(g)title(&#39;æœªå¡«å……çš„æ»¤æ³¢&#39;);%å·²å¡«å……çš„æ»¤æ³¢PQ = paddedsize(size(f));Fp = fft2(f,PQ(1),PQ(2));Hp = lpfilter(&#39;gaussian&#39;,PQ(1),PQ(2),2*sig);Gp = Hp.*Fp;gp = ifft2(Gp);gpc = gp(1:size(f,1),1:size(f,2));gpc = revertclass(gpc);subplot(1,2,2);imshow(gpc);title(&#39;å·²å¡«å……çš„æ»¤æ³¢&#39;);</code></pre><p>è¿™é‡Œå±•ç¤ºäº†ä¸å¡«å……æ»¤æ³¢å’Œå¡«å……æ»¤æ³¢çš„ä¸¤ç§æƒ…å†µï¼Œç»“æœ<br><img loading="lazy" src="https://i.loli.net/2019/07/19/5d318dcf1e88071166.jpg"><br>å¯ä»¥è§‚å¯Ÿåˆ°æœªå¡«å……æ»¤æ³¢å¤„ç†åå›¾åƒçš„å‚ç›´è¾¹ç¼˜æœªæ¨¡ç³Š</p><p>æ¶‰åŠåˆ°çš„å‡½æ•°    </p><ul><li>paddedsizeå‡½æ•°</li></ul><pre><code class="line-numbers language-matlab">function PQ = paddedsize(AB, CD, PARAM)if nargin == 1PQ = 2*AB;elseif nargin == 2 &amp; ~ischar(CD) %å¦‚æœCDä¸ä¸ºå­—ç¬¦ä¸²PQ = AB + CD -1;PQ = 2 *ceil(PQ / 2);elseif nargin == 2 %å¦‚æœCDå¤„ä¸ºå­—ç¬¦ä¸²m = max(AB);P = 2^nextpow2(2*m); %å–2çš„æ•´æ•°æ¬¡å¹‚PQ = [P, P];elseif nargin == 3m = max([AB CD]);P = 2^nextpow2(2*m);PQ = [P, P];elseerror(&#39;wrong number of inputs.&#39;)end</code></pre><ul><li>lpfilterå‡½æ•°</li></ul><pre><code class="line-numbers language-matlab">function [ H, D ] = lpfilter( type,M,N,D0,n )%LPFILTER creates the transfer function of a lowpass filter.%   Detailed explanation goes here%use function dftuv to set up the meshgrid arrays needed for computing%the required distances.[U, V] = dftuv(M,N);%compute the distances D(U,V)D = sqrt(U.^2 + V.^2);%begin filter computationsswitch type    case &#39;ideal&#39;        H = double(D &lt;= D0);    case &#39;btw&#39;        if nargin == 4            n = 1;        end        H = 1./(1+(D./D0).^(2*n));    case &#39;gaussian&#39;        H = exp(-(D.^2)./(2*(D0^2)));    otherwise        error(&#39;Unkown filter type&#39;);end</code></pre><ul><li>dftuvå‡½æ•°</li></ul><pre><code class="line-numbers language-matlab">function [ U,V ] = dftuv( M, N )%DFTUV å®ç°é¢‘åŸŸæ»¤æ³¢å™¨çš„ç½‘æ ¼å‡½æ•°%   Detailed explanation goes hereu = 0:(M - 1);v = 0:(N - 1);idx = find(u &gt; M/2); %æ‰¾å¤§äºM/2çš„æ•°æ®u(idx) = u(idx) - M; %å°†å¤§äºM/2çš„æ•°æ®å‡å»Midy = find(v &gt; N/2);v(idy) = v(idy) - N;[V, U] = meshgrid(v, u);</code></pre><ul><li>æ€»ç»“ï¼š</li></ul><ol><li>å›¾åƒå¹³æ»‘ä¹‹åï¼Œå˜å¾—æ›´æŸ”å’Œï¼Œä½†ä¹Ÿä¼šæ›´æ¨¡ç³Š    </li><li>ä¼šå‡ºç°çš„é—®é¢˜:å›¾åƒçš„è¾¹ç¼˜éƒ¨åˆ†å¾€å¾€ä¹Ÿå¤„äºé«˜é¢‘ï¼Œä¼šè¢«æ»¤é™¤</li></ol><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li><li><a href="https://godliuyang.wang/2019/07/29/high-quality-ellipse-detection/">High-quality-ellipse-detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Digital Image Processing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ç©ºé—´æ»¤æ³¢</title>
      <link href="/2019/07/17/kong-jian-lu-bo/"/>
      <url>/2019/07/17/kong-jian-lu-bo/</url>
      
        <content type="html"><![CDATA[<h1 id="ç©ºé—´æ»¤æ³¢åŸºç¡€"><a href="#ç©ºé—´æ»¤æ³¢åŸºç¡€" class="headerlink" title="ç©ºé—´æ»¤æ³¢åŸºç¡€"></a>ç©ºé—´æ»¤æ³¢åŸºç¡€</h1><h2 id="æ»¤æ³¢çš„åŸç†ï¼š"><a href="#æ»¤æ³¢çš„åŸç†ï¼š" class="headerlink" title="æ»¤æ³¢çš„åŸç†ï¼š"></a>æ»¤æ³¢çš„åŸç†ï¼š</h2><p>ç©ºé—´æ»¤æ³¢æ˜¯é‡‡ç”¨æ»¤æ³¢å¤„ç†çš„å›¾åƒå¢å¼ºçš„æ–¹æ³•ï¼Œç†è®ºåŸºç¡€æ˜¯ç©ºé—´å·ç§¯å’Œç©ºé—´ç›¸å…³ï¼Œç›®çš„æ˜¯æ”¹å–„å›¾ç‰‡è´¨é‡</p><h2 id="çº¿æ€§ç©ºé—´æ»¤æ³¢"><a href="#çº¿æ€§ç©ºé—´æ»¤æ³¢" class="headerlink" title="çº¿æ€§ç©ºé—´æ»¤æ³¢"></a>çº¿æ€§ç©ºé—´æ»¤æ³¢</h2><ul><li>ç§»åŠ¨æ»¤æ³¢çš„æ¨¡æ¿wç§°ä¸ºæ»¤æ³¢å™¨</li><li>ç›¸å…³ ä¸ å·ç§¯ï¼š<br>ç›¸å…³æ˜¯æŒ‡æ¨¡æ¿wæŒ‰ä¸‹å›¾æ‰€ç¤ºçš„æ–¹å¼è¿›è¡Œå›¾åƒæ•°ç»„çš„å¤„ç†ã€‚åœ¨åŸç†ä¸Šï¼Œå·ç§¯æ˜¯ç›¸åŒçš„å¤„ç†è¿‡ç¨‹ï¼Œåªä¸è¿‡åœ¨wé€šè¿‡ä¹‹å‰å…ˆå°†å®ƒé€‰æ—‹è½¬180åº¦<br><img loading="lazy" src="https://i.loli.net/2019/07/16/5d2d9d9ea213761403.jpg"><br>ç›¸å…³ä¸å·ç§¯æ“ä½œè¯´æ˜<br><img loading="lazy" src="https://i.loli.net/2019/07/16/5d2d9dffdbc4911045.jpg"><br>éœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼š    </li></ul><ol><li>ç›¸å…³æ˜¯æ»¤æ³¢å™¨ä½ç§»çš„å‡½æ•°</li><li>æ»¤æ³¢å™¨wä¸ä¸€ä¸ªåªåŒ…å«ä¸€ä¸ª1å…¶ä½™å…¨æ˜¯0çš„å‡½æ•°ç›¸å…³ï¼Œå¾—åˆ°çš„æ˜¯æ—‹è½¬äº†180åº¦çš„æ»¤æ³¢å™¨wï¼Œå°†è¿™ä¸ªå‡½æ•°ç§°ä¹‹ä¸º<strong>ç¦»æ•£å•ä½å†²æ¿€</strong><br>ç»“è®º: ä¸€ä¸ªå‡½æ•°ä¸ç¦»æ•£å•ä½å†²æ¿€ç›¸å…³ï¼Œåœ¨è¯¥å†²æ¿€ä½ç½®äº§ç”Ÿè¿™ä¸ªå‡½æ•°çš„ä¸€ä¸ªç¿»è½¬ç‰ˆæœ¬<br>ä¸€ä¸ªå‡½æ•°ä¸ç¦»æ•£å•ä½å†²æ¿€ç›¸å…³æ¿€å·ç§¯ï¼Œå¾—åˆ°çš„æ˜¯åœ¨è¯¥å†²æ¿€å¤„çš„è¿™ä¸ªå‡½æ•°çš„æ‹·è´ï¼Œè¿™ä¸ªå¤åˆ¶çš„æ€§è´¨ç§°ä¸ºç­›é€‰<br>è¿™ç§å®šä¹‰æ¨å¹¿åˆ°å›¾åƒå¦‚ä¸‹å›¾æ‰€ç¤º<br><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2e77c7afba429201.jpg"><br>ä¸ºäº†ä¾¿äºè¡¨è¾¾ï¼Œä»¥å…¬å¼å½¢å¼æ€»ç»“ä¸¤ç§å½¢å¼</li></ol><ul><li>å¤§å°ä¸ºmÃ—nçš„æ»¤æ³¢æ¨¡æ¿w(x,y)ä¸å‡½æ•°f(x,y)çš„ç›¸å…³<pre><code>   ![](https://i.loli.net/2019/07/17/5d2e78e52323950837.jpg)</code></pre></li><li>å¤§å°ä¸ºmÃ—nçš„æ»¤æ³¢æ¨¡æ¿w(x,y)ä¸å‡½æ•°f(x,y)çš„å·ç§¯<br>$$w(x,y)\bigstar f(x,y)=\sum_{s=-a}^{a}\sum_{t=-b}^{b}w(s,t)f(x+s,y+t)$$</li></ul><ul><li><p>Matlabçš„å®ç°:<br>å·¥å…·ç®±ä½¿ç”¨imfilteræ¥å®ç°çº¿æ€§ç©ºé—´æ»¤æ³¢ï¼Œè¯­æ³•å¦‚ä¸‹:</p><pre><code class="line-numbers language-matlab">g = imfilter(f, w, filtering_mode, boundary_options, size_options)</code></pre><p>é»˜è®¤å€¼ä¸ºç›¸å…³ï¼Œè‹¥æƒ³æ‰§è¡Œå·ç§¯æ“ä½œï¼Œæœ‰ä»¥ä¸‹ä¸¤ç§åšæ³•ï¼š</p><pre><code class="line-numbers language-matlab">g = imfilter(f, w, &#39;conv&#39;)</code></pre><p>æˆ–è€…ä½¿ç”¨<code>rot90(w, 2)</code>æ¥å°†wæ—‹è½¬180åº¦</p><pre><code class="line-numbers language-matlab">g = imfilter(f, rot90(w, 2))</code></pre><p>fæ˜¯è¾“å…¥å›¾åƒï¼Œwä¸ºæ»¤æ³¢æ¨¡æ¿ï¼Œgä¸ºæ»¤æ³¢ç»“æœ<br>å…¶ä»–å‚æ•°å¦‚ä¸‹<br><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2e84e556ad615011.jpg"><br>ä½¿ç”¨matlabå®ç°ä¸º</p><pre><code class="line-numbers language-matlab">f = imread(&#39;filter.jpg&#39;);F = im2double(f);imshow(F);title(&#39;current image&#39;);w = ones(31);gd = imfilter(F, w);figure,imshow(gd, [ ]);title(&#39;Default&#39;);gr = imfilter(F, w, &#39;replicate&#39;);figure,imshow(gr, [ ]);title(&#39;replicate&#39;);gs = imfilter(F, w, &#39;symmetric&#39;);figure,imshow(gs, [ ]);title(&#39;symmetric&#39;);gc = imfilter(F, w, &#39;circular&#39;);figure,imshow(gc, [ ]);title(&#39;circular&#39;);g = imfilter(f, w, &#39;replicate&#39;);figure,imshow(g, [ ]);title(&#39;replicate unit8&#39;);</code></pre><p>è¿™é‡Œå¼€å§‹è¯»å–çš„filter.jpgä¸ºuint8æ ¼å¼ï¼Œæ•…åœ¨å¤„ç†ä¹‹å‰å…ˆä½¿ç”¨<code>im2double</code>å°†å…¶è½¬åŒ–ä¸ºdoubleç±»å‹ä»¥æé«˜ç²¾åº¦<br>æ»¤æ³¢ç»“æœå¦‚ä¸‹<br><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2e8517ac67e80281.jpg"></p></li></ul><h2 id="éçº¿æ€§ç©ºé—´æ»¤æ³¢ï¼š"><a href="#éçº¿æ€§ç©ºé—´æ»¤æ³¢ï¼š" class="headerlink" title="éçº¿æ€§ç©ºé—´æ»¤æ³¢ï¼š"></a>éçº¿æ€§ç©ºé—´æ»¤æ³¢ï¼š</h2><p>çº¿æ€§ç©ºé—´æ»¤æ³¢åŸºäºè®¡ç®—ä¹˜ç§¯å’Œï¼Œå³çº¿æ€§æ“ä½œï¼Œéçº¿æ€§ç©ºé—´æ»¤æ³¢åŸºäºæ¶‰åŠé‚»åŸŸåƒç´ å†…çš„éçº¿æ€§æ“ä½œï¼Œä¾‹å¦‚ï¼Œä½¿æ¯ä¸ªä¸­å¿ƒç‚¹çš„å“åº”ç­‰äºé‚»åŸŸå†…åƒç´ æœ€å¤§å€¼çš„æ“ä½œå¯ä»¥ç§°ä¸ºæ˜¯éçº¿æ€§æ»¤æ³¢æ“ä½œ      </p><ul><li>Matlabå·¥å…·</li></ul><ol><li>nlfilterï¼šç›´æ¥æ‰§è¡ŒäºŒç»´æ“ä½œ</li><li>coldiltï¼šæŒ‰åˆ—ç»„ç»‡æ•°æ®ï¼Œæ›´å¤šé‡‡ç”¨</li></ol><h2 id="æ ‡å‡†çš„-ç©ºé—´æ»¤æ³¢å™¨"><a href="#æ ‡å‡†çš„-ç©ºé—´æ»¤æ³¢å™¨" class="headerlink" title="æ ‡å‡†çš„ ç©ºé—´æ»¤æ³¢å™¨"></a>æ ‡å‡†çš„ <strong>ç©ºé—´æ»¤æ³¢å™¨</strong></h2><h3 id="çº¿æ€§ç©ºé—´æ»¤æ³¢å™¨"><a href="#çº¿æ€§ç©ºé—´æ»¤æ³¢å™¨" class="headerlink" title="çº¿æ€§ç©ºé—´æ»¤æ³¢å™¨"></a>çº¿æ€§ç©ºé—´æ»¤æ³¢å™¨</h3><ul><li><p>å¯ä»¥ä½¿ç”¨fspecialå®ç°ï¼Œç”Ÿæˆæ»¤æ³¢å™¨w</p><pre><code class="line-numbers language-matlab">w = fspecial(&#39;type&#39;, parameters)</code></pre><p>  â€˜typeâ€™è¡¨ç¤ºæ»¤æ³¢å™¨çš„ç±»å‹ï¼Œâ€™parametersâ€™è¿›ä¸€æ­¥å®šä¹‰æŒ‡å®šçš„æ»¤æ³¢å™¨<br>  åº”ç”¨å‚æ•°å¦‚ä¸‹ï¼š<br>  <img loading="lazy" src="https://i.loli.net/2019/07/17/5d2eba0f5055d41026.jpg"><br>  <img loading="lazy" src="https://i.loli.net/2019/07/17/5d2ec9491164776894.jpg"></p></li><li><p>Laplaceæ»¤æ³¢å™¨çš„å®ç°</p><ul><li><p>åŸç†ï¼š<br>å›¾åƒf(x,y)çš„laplaceç®—å­ï¼š<br><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2ec90e6a75162149.jpg"><br>Laplaceç®—å­å¢å¼ºå…¬å¼ï¼š<br>$$g(x,y) = f(x,y)+c[\triangledown ^2 f(x,y)]$$<br>æ³¨æ„ï¼šå¦‚æœæ¨¡æ¿çš„ä¸­å¿ƒç³»æ•°ä¸ºæ­£ï¼Œcä¸º1;å¦‚æœä¸ºè´Ÿï¼Œcä¸º0.</p><pre><code class="line-numbers language-matlab">fspecial(&#39;laplacian&#39;, alpha)</code></pre><p>å¯ä»¥å®ç°æ›´ä¸ºä¸€èˆ¬çš„laplaceæ¨¡æ¿</p></li></ul><ul><li><p>ä¸‹é¢æ˜¯ç”¨laplaceæ»¤æ³¢å™¨å¢å¼ºå›¾åƒçš„ä¾‹å­ï¼š<br>é¦–å…ˆè®¾ç½®æ»¤æ³¢å™¨</p><pre><code class="line-numbers language-matlab">&gt;&gt; w = fspecial(&#39;laplacian&#39;, 0);</code></pre><p><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2ed6fcca83142276.jpg"></p><p>è¾“å…¥çš„å›¾åƒä¸ºunit8ç±»ï¼Œ</p><pre><code class="line-numbers language-matlab">&gt;&gt; g1 = imfilter(f, w, &#39;replicate&#39;);&gt;&gt; imshow(g1);</code></pre><p>å¾—åˆ°ç»“æœï¼Œä½†å­˜åœ¨é—®é¢˜ï¼Œæ‰€æœ‰åƒç´ éƒ½æ˜¯æ­£çš„ã€‚åŸå› ï¼šæ»¤æ³¢å™¨çš„ä¸­å¿ƒå‚æ•°ä¸ºè´Ÿå€¼ï¼Œä¸ºäº†è§£å†³è¿™ä¸€é—®é¢˜ï¼Œå¯ä»¥åœ¨æ»¤æ³¢å‰å°†fè½¬æ¢ä¸ºæµ®ç‚¹æ•°</p><pre><code class="line-numbers language-matlab">&gt;&gt; ff = tofloat(f);&gt;&gt; g2 = imfilter(ff, w, &#39;replicate&#39;);&gt;&gt; imshow(g2);</code></pre><p>è¿™é‡Œtofloatä¸ºM-IPTå‡½æ•°ï¼Œå®ç°ä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="line-numbers language-matlab">function [out,revertclass] = tofloat(inputimage)%Copy the book of Gonzalesidentify = @(x) x;tosingle = @im2single;table = &#123;&#39;uint8&#39;,tosingle,@im2uint8&#39;uint16&#39;,tosingle,@im2uint16&#39;logical&#39;,tosingle,@logical&#39;double&#39;,identify,identify&#39;single&#39;,identify,identify&#125;;classIndex = find(strcmp(class(inputimage),table(:,1)));if isempty(classIndex)error(&#39;ä¸æ”¯æŒçš„å›¾åƒç±»å‹&#39;);endout = table&#123;classIndex,2&#125;(inputimage);revertclass = table&#123;classIndex,3&#125;;</code></pre><p>å¯¼å…¥workspaceå³å¯</p><p>æœ€åç”¨åŸå§‹å›¾åƒå‡å»laplaceå›¾åƒæ¥æ¢å¤å¤±å»çš„ç°åº¦å±‚æ¬¡(å› ä¸ºä¸­å¿ƒå‚æ•°ä¸ºè´Ÿå€¼)</p><pre><code class="line-numbers language-matlab">&gt;&gt; g = ff - g2;imshow(g);</code></pre><p>å¯ä»¥çœ‹åˆ°ç»“æœæ¯”åŸå›¾è±¡è¦æ¸…æ™°<br><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2ed69eaa47174206.jpg"></p></li></ul></li></ul><h3 id="éçº¿æ€§ç©ºé—´æ»¤æ³¢å™¨"><a href="#éçº¿æ€§ç©ºé—´æ»¤æ³¢å™¨" class="headerlink" title="éçº¿æ€§ç©ºé—´æ»¤æ³¢å™¨"></a>éçº¿æ€§ç©ºé—´æ»¤æ³¢å™¨</h3><ul><li>å‡½æ•°ordfilt2è®¡ç®—ç»Ÿè®¡æ’åº(order-statistic filter)æ»¤æ³¢å™¨(ä¹Ÿå«åšrank filter,å³æ’åºæ»¤æ³¢å™¨)<br>è¯­æ³•ä¸ºï¼š</li></ul><pre><code class="line-numbers language-matlab">g = ordfilt2(f, order, domain)</code></pre><p>ç”¨é‚»åŸŸé›†åˆä¸­çš„ç¬¬orderä¸ªå…ƒç´ å»æ›¿æ¢fä¸­çš„æ¯ä¸ªå…ƒç´ çš„å€¼æ¥ç”Ÿæˆå›¾åƒgï¼Œdomainæ˜¯ç”±0å’Œ1ç»„æˆçš„å¤§å°ä¸ºmÃ—nçš„çŸ©é˜µï¼Œè§„å®šäº†åœ¨è®¡ç®—ä¸­ä½¿ç”¨çš„é‚»åŸŸä¸­åƒç´ ç‚¹çš„ä½ç½®</p><ul><li>ä¸­å€¼æ»¤æ³¢å™¨ï¼Œæœ€è‘—åçš„ç»Ÿè®¡æ’åºæ»¤æ³¢å™¨ï¼Œå¯¹åº”ç¬¬50ä¸ªç™¾åˆ†ä½ï¼Œå¯¹åº”å¥‡æ•°çš„må’Œn</li></ul><pre><code class="line-numbers language-matlab">g = ordfilt2(f, (m*n + 1)/2, ones(m, n));</code></pre><ul><li>è¿™é‡Œæä¾›äº†ä¸€ä¸ªä¸“é—¨çš„äºŒç»´ä¸­å€¼æ»¤æ³¢å™¨:</li></ul><pre><code class="line-numbers language-matlab">g = medfilt2(f, [m, n], padopt)</code></pre><p>  padoptè§„å®šäº†ä¸‰ä¸ªå¯èƒ½çš„è¾¹ç¼˜å¡«å……é€‰é¡¹:</p><ol><li>â€˜zerosâ€™,é»˜è®¤å€¼</li><li>â€˜symmetricâ€™,fæŒ‰ç…§é•œåƒåå°„æ–¹å¼å¯¹ç§°åœ°æ²¿è¾¹ç¼˜æ‰©å±•</li><li>â€˜indexedâ€™ï¼Œfå±äºdoubleç±»ï¼Œç”¨1å¡«å……;å¦åˆ™ç”¨0å¡«å……</li></ol><ul><li><p>ä¸­å€¼æ»¤æ³¢å¢å¼ºå›¾åƒ:<br>é¦–å…ˆç»™å›¾åƒæ·»åŠ é»‘ç™½å™ªç‚¹å‘ç”Ÿæ¦‚ç‡ä¸º0.2çš„â€™æ¤’ç›å™ªå£°â€™</p><pre><code class="line-numbers language-matlab">&gt;&gt; fn = imnoise(f, &#39;salt &amp; pepper&#39;, 0.2)</code></pre><p>å¯¹å¸¦å™ªå›¾åƒè¿›è¡Œä¸­å€¼æ»¤æ³¢å¤„ç†</p><pre><code class="line-numbers language-matlab">&gt;&gt; gm = medfilt2(fn)</code></pre><p>æ³¨æ„ï¼Œåœ¨è¿™é‡Œå‡ºç°äº†é”™è¯¯ï¼Œ==Aåº”ä¸ºäºŒç»´==<br><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2ed759e608448713.jpg"></p><p>åŸå› :ä¸­å€¼æ»¤æ³¢medfilt2,è¾“å…¥çš„å›¾åƒåº”ä¸ºäºŒç»´çŸ©é˜µï¼Œå®é™…è¾“å…¥çš„ä¸ºimreadè¯»å–çš„å›¾åƒåŠ ä¸Šå™ªå£°ï¼Œé€šå¸¸æ˜¯ä¸‰ç»´RGBå›¾ï¼Œæ˜¯ä¸‰ç»´çŸ©é˜µ<br>è§£å†³åŠæ³•:å…ˆç”¨rgb2gray(f)å°†å›¾åƒè½¬æ¢ä¸ºç°åº¦çŸ©é˜µå›¾åƒ</p><pre><code class="line-numbers language-matlab">&gt;&gt; fn2 = rgb2gray(fn);&gt;&gt; gm = medfilt2(fn2);&gt;&gt; imshow(gm);</code></pre><p>å‡å¼±å¤–åœˆé»‘ç‚¹</p><pre><code class="line-numbers language-matlab">&gt;&gt; gms = medfilt2(fn2, &#39;symmetric&#39;);</code></pre></li></ul><p><img loading="lazy" src="https://i.loli.net/2019/07/17/5d2ed7776b71a55041.jpg"></p><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li><li><a href="https://godliuyang.wang/2019/07/29/high-quality-ellipse-detection/">High-quality-ellipse-detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Digital Image Processing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Digital Image Processing</title>
      <link href="/2019/07/15/digital-image-processing/"/>
      <url>/2019/07/15/digital-image-processing/</url>
      
        <content type="html"><![CDATA[<h2 id="Digital-Image-Processing-notes"><a href="#Digital-Image-Processing-notes" class="headerlink" title="Digital Image Processing notes:"></a>Digital Image Processing notes:</h2><ul><li><p>å›¾åƒå¤„ç†çš„æ­¥éª¤ï¼š</p><ol><li>å›¾åƒè·å– åŒ…æ‹¬å›¾åƒé¢„å¤„ç†</li><li>å›¾åƒæ»¤æ³¢ä¸å¢å¼º ä½¿ä¹‹é€‚ç”¨äº <strong>ç‰¹å®šåº”ç”¨</strong></li><li>å›¾åƒå¤åŸ å€¾å‘äºä»¥å›¾åƒé€€åŒ–çš„æ•°å­¦æˆ–æ¦‚ç‡æ¨¡å‹ä¸ºåŸºç¡€</li><li>å½©è‰²å›¾åƒå¤„ç†</li><li>å‹ç¼© å‡å°‘å›¾åƒå­˜å‚¨é‡æˆ–é™ä½ä¼ è¾“å›¾åƒå¸¦å®½ </li><li>å½¢æ€å­¦å¤„ç†</li><li>å›¾åƒåˆ†å‰²</li><li>ç›®æ ‡è¯†åˆ«<h3 id="æ•°å­—å›¾åƒåŸºç¡€"><a href="#æ•°å­—å›¾åƒåŸºç¡€" class="headerlink" title="æ•°å­—å›¾åƒåŸºç¡€"></a>æ•°å­—å›¾åƒåŸºç¡€</h3></li></ol></li><li><p>ç°åº¦æ¦‚å¿µ<br>  ç°åº¦æ˜¯è¡¨æ˜å›¾åƒæ˜æš—çš„æ•°å€¼ï¼Œå³é»‘ç™½å›¾åƒä¸­ç‚¹çš„é¢œè‰²æ·±åº¦ï¼ŒèŒƒå›´ä¸€èˆ¬æ˜¯0-255,ç™½è‰²ä¸º255,é»‘è‰²ä¸º0,å½’ä¸€åŒ–å¤„ç†ä¹‹å[0,1],0ä»£è¡¨é»‘è‰²ï¼Œ1ä»£è¡¨ç™½è‰²ã€‚</p></li><li><p>å›¾åƒå–æ ·ä¸é‡åŒ–</p><ul><li>å¯¹åæ ‡å€¼æ•°å­—åŒ–ç§°ä¸ºå–æ ·ï¼Œå¯¹å¹…åº¦å€¼æ•°å­—åŒ–ç§°ä¸ºé‡åŒ–</li></ul></li><li><p>æ•°å­—çš„å›¾åƒè¡¨ç¤º<br>  å°†è¿ç»­å›¾åƒå–æ ·è¡¨ç¤ºä¸ºä¸€ä¸ªäºŒç»´é˜µåˆ— $f(x,y)$</p><ol><li>å‡½æ•°å›¾è¡¨ç¤ºï¼šç”¨xå’Œyä¸¤ä¸ªåæ ‡è½´æ¥è¡¨ç¤ºç©ºé—´ä½ç½®ï¼Œç¬¬ä¸‰ä¸ªåæ ‡ä¸ºf(ç°åº¦)å€¼ï¼Œå³ $f(x,y,z)$ï¼Œ</li><li>ä¸€èˆ¬çš„è¡¨ç¤ºï¼šæ˜¾ç¤ºçš„æ˜¯ $f(x,y)$åœ¨ç›‘è§†å™¨æˆ–ç…§ç‰‡ä¸Šçš„æƒ…å†µï¼Œæ¯ä¸ªç‚¹çš„ç°åº¦ä¸è¯¥ç‚¹å¤„çš„få€¼æˆæ­£æ¯”ï¼Œä¾‹å¦‚å½’ä¸€åŒ–[0,1],ä¸‰ä¸ªç­‰é—´éš”ç‚¹åˆ†åˆ«ä¸º0,0.5,1</li><li>çŸ©é˜µï¼š å°† $f(x,y)$çš„å€¼æ‰“å°æˆçŸ©é˜µ<br>æ³¨æ„åæ ‡ä¸ºå³æ‰‹ç¬›å¡å°”ç³»</li></ol></li><li><p>å¯¹æ¯”åº¦ï¼š æœ€é«˜å’Œæœ€ä½çš„ç°åº¦çº§çš„å·®</p></li><li><p>å…¸å‹ç°åº¦çº§ï¼š<br>$$2^k$$<br>ç§°ä¸ºä¸€å‰¯â€™k bitå›¾åƒâ€™</p></li><li><p>å›¾åƒå†…æ’</p><ul><li>æœ€é‚»è¿‘å†…æ’</li><li>åŒçº¿æ€§å†…æ’</li><li>åŒä¸‰æ¬¡å†…æ’</li></ul></li><li><p>å›¾åƒå¤„ç†çš„ç®—æœ¯æ“ä½œ</p><ul><li>å›¾ç‰‡ç›¸åŠ   å¹³å‡ -&gt; é™å™ª</li><li>å›¾ç‰‡ç›¸å‡  å¢å¼ºå›¾åƒå·®åˆ«</li><li>å›¾ç‰‡æƒ³ä¹˜é™¤  æ ¡æ­£é˜´å½±</li></ul></li><li><p>ç°åº¦å˜æ¢</p><ul><li>s = T(r)</li><li>Matlabä¸­çš„ç°åº¦å˜æ¢å‡½æ•°<br><code>imadjust(f,[LOW_IN,HIGH_IN],[LOW_OUT,HIGH_OUT],grmma)</code></li></ul></li><li><p>ç›´æ–¹å›¾çš„å¤„ç†å’Œå‡½æ•°ç»˜å›¾</p><ul><li><p>ç”Ÿæˆå›¾åƒçš„ç›´æ–¹å›¾</p><pre><code class="line-numbers language-matlab">  &gt;&gt; h = imhist(f)</code></pre></li><li><p>ä¹Ÿå¯ä»¥ç”¨æ¡å½¢å›¾æ¥è¡¨ç¤º</p><pre><code class="line-numbers language-matlab">&gt;&gt; h = imhist(f,25);&gt;&gt; horz = linespace(0,255,25);&gt;&gt; bar(horz,h)&gt;&gt; axis(0 255 0 60000);&gt;&gt; set(gca, &#39;xtick&#39;, 0:50:255)&gt;&gt; set(gca, &#39;ytick&#39;, 0:20000:60000)</code></pre></li><li><p>æ†çŠ¶å›¾<br><code>stem(horz, z , &#39;LineSpec&#39;, &#39;fill&#39;)</code></p></li><li><p>plotå‡½æ•°<br><code>plot(horz, z, &#39;LineSpec&#39;)</code></p></li><li><p>å½“å¤„ç†å‡½æ•°å¥æŸ„æ—¶<br><code>fplot(fhandle, limits, &#39;LineSpec&#39;)</code></p></li></ul></li></ul><div><h1>æ¨èæ–‡ç« <span style="font-size:0.45em; color:gray"></span></h1><ul><li><a href="https://godliuyang.wang/2019/08/07/pca-suan-fa-shi-xian/">PCAç®—æ³•å®ç°</a></li><li><a href="https://godliuyang.wang/2019/08/01/local-binary-patterns/">Local Binary Patterns</a></li><li><a href="https://godliuyang.wang/2019/07/29/high-quality-ellipse-detection/">High-quality-ellipse-detection</a></li></ul></div>]]></content>
      
      
      <categories>
          
          <category> Digital Image Processing </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å›¾åƒå¤„ç† </tag>
            
            <tag> Matlab </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
